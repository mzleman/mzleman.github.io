

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Leman">
  <meta name="keywords" content="">
  <title>Vue2.jsè¿›ä¸€æ­¥æ•´ç† - Personal Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"mzleman.gitee.io","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Leman ğŸ˜€</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/profile/">
                <i class="iconfont icon-link-fill"></i>
                ç®€å†
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/post.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Vue2.jsè¿›ä¸€æ­¥æ•´ç†">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-03-01 15:54" pubdate>
        2021å¹´3æœˆ1æ—¥ ä¸‹åˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      33.3k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      460
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Vue2.jsè¿›ä¸€æ­¥æ•´ç†</h1>
            
            <div class="markdown-body">
              <p>Vueç®€ä»‹</p>
<p>Vueæ˜¯ä¸€ä¸ªæ¸è¿›å¼JavaScriptæ¡†æ¶ã€‚</p>
<p>é«˜çº§åŠŸèƒ½å’Œç‰¹ç‚¹ï¼š</p>
<ul>
<li>è§£è€¦è§†å›¾å’Œæ•°æ®</li>
<li>å¯å¤ç”¨çš„ç»„ä»¶</li>
<li>å‰ç«¯è·¯ç”±æŠ€æœ¯</li>
<li>çŠ¶æ€ç®¡ç†</li>
<li>è™šæ‹ŸDOM</li>
</ul>
<p><strong>Vue.jsçš„Hello world</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>   <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&quot;#app&quot;</span>,</span><br>        data:&#123;<br><span class="javascript">            message:<span class="hljs-string">&quot;Hello world&quot;</span></span><br>        &#125; <br>        &#125;);<br><span class="handlebars"><span class="xml">        <span class="hljs-comment">&lt;!-- æ–°å»ºä¸€ä¸ªVueå¯¹è±¡ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­ä¼ å…¥optionså¯¹è±¡--&gt;</span></span></span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><font size="4" color="red">Vueé‡‡ç”¨å£°æ˜å¼ç¼–ç¨‹ï¼Œä¸åŒäºjQueryä»¥åŠåŸç”ŸJSæ“ä½œDOMçš„å‘½ä»¤å¼ç¼–ç¨‹</font></p>
<p><img src="/./image-20200811204642611.png" srcset="/img/loading.gif" alt="image-20200811204642611"> </p>
<h2 id="Vueä¸­çš„MVVM"><a href="#Vueä¸­çš„MVVM" class="headerlink" title="Vueä¸­çš„MVVM"></a>Vueä¸­çš„MVVM</h2><p><img src="/./image-20200811163236900.png" srcset="/img/loading.gif" alt="image-20200811163236900"></p>
<h2 id="Optionså¯¹è±¡"><a href="#Optionså¯¹è±¡" class="headerlink" title="Optionså¯¹è±¡"></a>Optionså¯¹è±¡</h2><ul>
<li><p><strong>elï¼š</strong></p>
<p>ç±»å‹ï¼šstring | HTMLElement</p>
<p>ä½œç”¨ï¼šå†³å®šVueå®ä¾‹ä¼šç®¡ç†å“ªä¸€ä¸ªDOMå¯¹è±¡</p>
</li>
<li><p><strong>dataï¼š</strong></p>
<p>ç±»å‹ï¼šObject | Function</p>
<p>ä½œç”¨ï¼šVueå®ä¾‹å¯¹åº”çš„æ•°æ®å¯¹è±¡</p>
</li>
<li><p><strong>methods</strong>ï¼š</p>
<p>ç±»å‹ï¼šï½›key : Functionï½</p>
<p>ä½œç”¨ï¼šå®šä¹‰å±äºVueå®ä¾‹çš„ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨æŒ‡ä»¤ä¸­ä½¿ç”¨ã€‚</p>
</li>
<li><p><strong>computedï¼š</strong></p>
<p>è®¡ç®—å±æ€§</p>
<p>ç±»å‹ï¼š{key : Function}</p>
<p>ä½œç”¨ï¼šå®šä¹‰ä¸€äº›è®¡ç®—å±æ€§å€¼ä¾›ä½¿ç”¨ã€‚<font color="red">è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜æœºåˆ¶ï¼Œå¦‚æœè®¡ç®—å±æ€§ä½¿ç”¨çš„æ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œåˆ™è®¡ç®—å±æ€§ä¸ä¼šè®¡ç®—å¤šæ¬¡ï¼Œå½“è®¿é—®è¯¥è®¡ç®—å±æ€§æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­å–å€¼ã€‚</font></p>
<p>==ç”±äºç¼“å­˜æœºåˆ¶çš„å­˜åœ¨ï¼Œå½“é¡µé¢ä¸­æ˜¾ç¤ºçš„å†…å®¹åªæ˜¯éœ€è¦å¯¹æ•°æ®è¿›è¡Œç®€å•å˜æ¢æ—¶ï¼Œå°½é‡ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å‡½æ•°è®¡ç®—==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä¹¦ç±è´­ç‰©è½¦çš„æ€»ä»·æ ¼:&#123;&#123;totalPrice&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">	<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">		el:<span class="hljs-string">&quot;h2&quot;</span>,</span><br>		data:&#123;<br>			books:[<br><span class="javascript">				&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;ä»£ç å¤§å…¨&#x27;</span>,<span class="hljs-attr">price</span>:<span class="hljs-number">20</span>&#125;,</span><br><span class="javascript">				&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;ç°ä»£æ“ä½œç³»ç»Ÿ&#x27;</span>,<span class="hljs-attr">price</span>:<span class="hljs-number">50</span>&#125;</span><br>			]<br>		&#125;,<br>		computed:&#123;<br><span class="javascript">			totalPrice:<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">        		<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.books.reduce(<span class="hljs-function">(<span class="hljs-params">pre,cur</span>)=&gt;</span>&#123;</span><br>                    pre+=cur.price;<br><span class="javascript">                    <span class="hljs-keyword">return</span> pre;</span><br>                &#125;,0);<br>    		&#125;<br>            /*<br>            ä¹Ÿå¯ä»¥ä½¿ç”¨ES6æ–¹æ³•çš„ç®€å†™<br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">totalPrice</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            	<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.books.reduce(<span class="hljs-function">(<span class="hljs-params">pre,cur</span>)=&gt;</span>&#123;</span><br>                    pre+=cur.price;<br><span class="javascript">                    <span class="hljs-keyword">return</span> pre;</span><br>                &#125;,0);<br>            &#125;<br>            */<br>		&#125;<br>	&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><font color='red'>computedä¸­çš„è®¡ç®—å±æ€§åº•å±‚çš„åŸç† å¯èƒ½ æ˜¯ä½¿ç”¨äº†Proxy</font></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">comuputed:&#123;<br>    <span class="hljs-comment">//totalPrice:handler</span><br>    totalPrice:&#123;<br>        get&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.books.reduce(<span class="hljs-function">(<span class="hljs-params">pre,cur</span>)=&gt;</span>&#123;<br>                    pre+=cur.price;<br>                    <span class="hljs-keyword">return</span> pre;<br>                   &#125;,<span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-comment">//get:function()&#123;....&#125;</span><br>        <span class="hljs-comment">//è¿˜å¯ä»¥è®¾ç½®setæ–¹æ³•</span><br>    &#125;<br>&#125;<span class="hljs-comment">//è¿™ç§å†™æ³•åŒæ ·å¯ä»¥ã€‚</span><br></code></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p><strong>filtersï¼š</strong></p>
<p>ç±»å‹ï¼šFunction</p>
<p>ä½œç”¨ï¼šå…è®¸ä¼ å…¥ä¸€ä¸ªvalueï¼Œå¯¹è¯¥å€¼è¿›è¡Œè¿‡æ»¤æˆ–é™„åŠ å¤„ç†ï¼Œè¿”å›æ–°çš„å€¼ã€‚</p>
<p>ä½¿ç”¨ï¼š value | filterFunctionName </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;grade | assessment&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br>data:&#123;<br>	grade:&#x27;A&#x27;<br>&#125;<br>filters:&#123;<br>	assessment(value)&#123;<br>		if(value===&#x27;A&#x27;) return &#x27;ä¼˜ç§€&#x27;;<br>		else   return &#x27;å…¶ä»–&#x27;;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p><img src="/./image-20200819182643832.png" srcset="/img/loading.gif" alt="image-20200819182643832"> </p>
</li>
<li><p><strong>components</strong>ï¼š</p>
<p>ç±»å‹ï¼šObject</p>
<p>ä½œç”¨ï¼šå®šä¹‰å±€éƒ¨ç»„ä»¶</p>
</li>
<li><p><strong>watchï¼š</strong></p>
<p>ç±»å‹ï¼šObject</p>
<p>ä½œç”¨ï¼šç›‘å¬dataä¸­çš„æ•°æ®ä»¥åŠpropsä¸­çš„é€šä¿¡å±æ€§çš„å˜åŒ–ã€‚</p>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</strong>ï¼š</p>
<p>å¦‚ï¼šbeforeCreateã€createdã€Mountedã€Destroyedâ€¦..</p>
</li>
</ul>
<h2 id="Vueçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Vueçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vueçš„ç”Ÿå‘½å‘¨æœŸ"></a>Vueçš„ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="/./lifecycle.png" srcset="/img/loading.gif"> </p>
<h2 id="Mustacheè¯­æ³•"><a href="#Mustacheè¯­æ³•" class="headerlink" title="Mustacheè¯­æ³•"></a>Mustacheè¯­æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;,Mazheng<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--Mustacheè¯­æ³•ä¸ä»…ä»…å¯ä»¥å†™å˜é‡ï¼Œè¿˜å¯ä»¥å†™è¡¨è¾¾å¼--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27;&#x27; + lastName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--å¦ä¸€ç§å†™æ³•,ä¸ä¼šå¿½ç•¥è¯­æ³•å˜é‡ä¹‹é—´çš„ç©ºæ ¼ï¼Œä¼šå¿½ç•¥è¯­æ³•å˜é‡ä¸¤ç«¯çš„ç©ºæ ¼--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> <br>    <br>    <br>    <span class="hljs-comment">&lt;!--æ•°å€¼è¡¨è¾¾å¼--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ€»ä»·ï¼š&#123;&#123;price * 2&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h2 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h2><h3 id="æ–‡æœ¬æŒ‡ä»¤"><a href="#æ–‡æœ¬æŒ‡ä»¤" class="headerlink" title="æ–‡æœ¬æŒ‡ä»¤"></a>æ–‡æœ¬æŒ‡ä»¤</h3><ol>
<li><p><strong>v-once</strong> </p>
<p>å¸ƒå°”å±æ€§ï¼Œæ•°æ®æ¸²æŸ“ä¸€æ¬¡åå°±ä¸å†ä¿æŒç»‘å®šï¼Œå†…å®¹ä¸ä¼šå†éšæ•°æ®æ”¹å˜ã€‚</p>
</li>
<li><p><strong>v-html</strong></p>
<p>v-html=â€==data==â€ï¼Œä¼šå°†å­—ç¬¦ä¸²ç±»å‹çš„å­—é¢é‡ã€å˜é‡æˆ–è¡¨è¾¾å¼å½“åšhtmlå†…å®¹è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>ï¼ˆè¦†ç›–æ ‡ç­¾å†…åŸæœ‰çš„å†…å®¹ï¼‰ã€‚</p>
</li>
<li><p>**v-text **</p>
<p>v-text=â€==data==â€ï¼Œä¼šå°†å­—ç¬¦ä¸²ç±»å‹çš„å­—é¢é‡ã€å˜é‡æˆ–è¡¨è¾¾å¼ä½œä¸ºä½¿ç”¨è¯¥æŒ‡ä»¤çš„domå…ƒç´ çš„æ–‡æœ¬ï¼ˆè¦†ç›–æ ‡ç­¾å†…åŸæœ‰çš„å†…å®¹ï¼‰ã€‚</p>
</li>
<li><p><strong>v-pre</strong></p>
<p>v-preå¸ƒå°”æŒ‡ä»¤ï¼Œä¼šå°†æ ‡ç­¾ä¸­åŒ…è£¹çš„å†…å®¹åŸåŸæœ¬æœ¬çš„å±•ç¤ºã€‚ï¼ˆå¿½ç•¥mustacheè¯­æ³•ï¼‰</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-pre</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span>hahaha<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-comment">&lt;!--ä¼šè¦†ç›–hahaha v-textä¸å¦‚mustacheè¯­æ³•çµæ´»--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>å¼•å…¥vue<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">	<span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">       el:<span class="hljs-string">&quot;#app&quot;</span>,</span><br>       data:&#123;<br><span class="handlebars"><span class="xml">           message:&quot;<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Pæ ‡ç­¾<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>&quot;</span></span><br>       &#125; <br>    &#125;);<br><br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<hr>
<h3 id="v-cloakæŒ‡ä»¤"><a href="#v-cloakæŒ‡ä»¤" class="headerlink" title="v-cloakæŒ‡ä»¤"></a>v-cloakæŒ‡ä»¤</h3><p>é˜²æ­¢é—ªåŠ¨</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[v-cloak]</span>&#123;<br>	<span class="hljs-attribute">display</span>:none;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">v-cloak</span>&gt;</span><br>	<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  åœ¨vueè§£æåä¼šå°†v-cloakå±æ€§å»æ‰  --&gt;</span><br></code></pre></td></tr></table></figure>


<h3 id="v-bindæŒ‡ä»¤"><a href="#v-bindæŒ‡ä»¤" class="headerlink" title="v-bindæŒ‡ä»¤"></a>v-bindæŒ‡ä»¤</h3><pre><code>v-bindæŒ‡ä»¤ç”¨äºå°†DOMå…ƒç´ çš„å±æ€§å€¼ä¸æ•°æ®ç»‘å®šã€‚

è¯­æ³•ç³– ==ä½¿ç”¨å†’å·ä»£æ›¿v-bind==</code></pre>
<h4 id="åŠ¨æ€ç»‘å®ša-hrefå±æ€§ä¸img-srcå±æ€§"><a href="#åŠ¨æ€ç»‘å®ša-hrefå±æ€§ä¸img-srcå±æ€§" class="headerlink" title="åŠ¨æ€ç»‘å®ša:hrefå±æ€§ä¸img:srcå±æ€§"></a>åŠ¨æ€ç»‘å®ša:hrefå±æ€§ä¸img:srcå±æ€§</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html">div#app<br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">v-bind:src</span>=<span class="hljs-string">&quot;imgURL&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img</span>&gt;</span><br><span class="hljs-comment">&lt;!--è¯­æ³•ç³–å†™æ³•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;imgURL&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">img</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">&quot;aHref&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-comment">&lt;!--è¯­æ³•ç³–å†™æ³•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">&quot;aHref&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>div#app<br><br>app=new Vue(&#123;<br>	el:&quot;#app&quot;,<br>	data:&#123;<br>		imgURL:https://XXXXX.img,<br>		aHref:https://www.baidu.com<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="åŠ¨æ€ç»‘å®šHTMLå…ƒç´ çš„classå±æ€§"><a href="#åŠ¨æ€ç»‘å®šHTMLå…ƒç´ çš„classå±æ€§" class="headerlink" title="åŠ¨æ€ç»‘å®šHTMLå…ƒç´ çš„classå±æ€§"></a>åŠ¨æ€ç»‘å®šHTMLå…ƒç´ çš„classå±æ€§</h4><ul>
<li><p><strong>å¯¹è±¡å†™æ³•</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;&#123;å±æ€§å1:boolean,å±æ€§å2:boolean&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--ä¾‹ï¼š--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;&#123;active:isActive,line:isLine&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--ä¸æ—¢æœ‰çš„classå±æ€§å…±å­˜,v-bindä½¿ç”¨è¯­æ³•ç³–å†™æ³•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;red&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;active:isActive,line:isLine&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>ğŸ‘‡<br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;red active&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-comment">&lt;!--isLineä¸ºfalse--&gt;</span><br><br><span class="hljs-comment">&lt;!--v-bind:classå–å‡½æ•°è¿”å›å€¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;getClasses()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-comment">&lt;!--æ€»ä¹‹,v-bindç»‘å®šclassçš„å¯¹è±¡å†™æ³•ï¼Œå±æ€§å€¼çš„å½¢å¼ä¸º &quot;Obeject&quot;  --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>        data:&#123;<br><span class="javascript">            isActive:<span class="hljs-literal">true</span>,</span><br><span class="javascript">            isLine:<span class="hljs-literal">false</span></span><br>        &#125;<br>        <br>        methods:&#123;<br>        	getClasses ()&#123;<br><span class="javascript">        		<span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">active</span>:<span class="hljs-built_in">this</span>.isActive,<span class="hljs-attr">line</span>:<span class="hljs-built_in">this</span>.isLine&#125;;<span class="hljs-comment">//è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br>    		&#125;<br>    	&#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p><strong>æ•°ç»„å†™æ³•</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"> <span class="hljs-comment">&lt;!--è¯­æ³•--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-comment">&lt;!--listä¸ºä¸€ä¸ªå«æœ‰å­—ç¬¦ä¸²ç±»å‹å…ƒç´ çš„æ•°ç»„--&gt;</span><br> <br> <span class="hljs-comment">&lt;!--ä¾‹å­--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;[&#x27;class1&#x27;,&#x27;class2&#x27;,...&#x27;classN&#x27;]&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;getClasses()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;[classObj, ...list]&quot;</span>&gt;</span>  <span class="hljs-comment">&lt;!--ğŸ‘ˆ æ•°ç»„å†™æ³•ä¸­åµŒå¥—å¯¹è±¡å†™æ³• --&gt;</span><br> data:&#123;<br> 	class1:&#x27;active&#x27;,<br> 	class2:&#x27;red&#x27;<br> 	list: [&#x27;className1&#x27;, &#x27;className2&#x27;],<br> 	classObj: &#123;<br> 	  active: true,<br> 	&#125;<br> &#125;<br> <br> methods:&#123;<br>getClasses()&#123;<br> 		return [this.class1,this.class2];<br> 	&#125;<br> &#125;<br></code></pre></td></tr></table></figure>




</li>
</ul>
<ul>
<li><p><strong>åº”ç”¨åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Š</strong></p>
<p>åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šçš„classç±»åä¼šåˆå¹¶åˆ°å­ç»„ä»¶çš„æ ¹æ ‡ç­¾ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;cpn class&#x3D;&quot;cpn&quot; :class&#x3D;&quot;[&#39;active&#39;]&quot;&#x2F;&gt;<br><br>&lt;!-- å¦‚æœcpnç»„ä»¶çš„æ ¹æ ‡ç­¾æ˜¯ä¸€ä¸ªdivå…ƒç´ ï¼Œåˆ™ç±»å&#96;cpn&#96;å’Œ&#96;active&#96;éƒ½ä¼šæ·»åŠ åˆ°è¯¥divå…ƒç´ ä¸Š --&gt;<br></code></pre></td></tr></table></figure>




</li>
</ul>
<h4 id="åŠ¨æ€ç»‘å®šå†…è”æ ·å¼"><a href="#åŠ¨æ€ç»‘å®šå†…è”æ ·å¼" class="headerlink" title="åŠ¨æ€ç»‘å®šå†…è”æ ·å¼"></a>åŠ¨æ€ç»‘å®šå†…è”æ ·å¼</h4><ul>
<li><p>å¯¹è±¡å†™æ³•</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">åŸºæœ¬è¯­æ³•        </span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;csså±æ€§å:å±æ€§å€¼(stringç±»å‹)...&#125;&quot;</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">ä¾‹ï¼š     csså±æ€§ååªèƒ½ä½¿ç”¨é©¼å³°å‘½åæ³•!!!!!!</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;color:&#x27;red&#x27;,fontSize:&#x27;16px&#x27;&#125;&quot;</span>&gt;</span>æ ‡é¢˜2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;backgroundColor:backColor&#125;&quot;</span>&gt;</span><br>    <br>    new Vue(&#123;<br>    	el:&#x27;#app&#x27;,<br>    	data:&#123;<br>    		backColor:&#x27;#fff&#x27;	<br>    	&#125;<br>    &#125;)<br></code></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>æ•°ç»„å†™æ³•ï¼ˆæ˜¯åŸºäºå¯¹è±¡å†™æ³•ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">åŸºæœ¬è¯­æ³•        </span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;[...Obejects]&quot;</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">ä¾‹ï¼š     </span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;[style1,style2]&quot;</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;[...styles]&quot;</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>    <br><br>    new Vue(&#123;<br>    	el:&#x27;#app&#x27;,<br>    	data:&#123;<br>    		style1:&#123;backgroundColor:&#x27;#bfa&#x27;&#125;,<br>    		style2:&#123;color:&#x27;red&#x27;&#125;<br>			styles:[&#123;backgroundColor:&#x27;#bfa&#x27;&#125;,&#123;color:&#x27;red&#x27;&#125;]<br>    	&#125;<br>    &#125;)<br></code></pre></td></tr></table></figure>


</li>
</ul>
<hr>
<h3 id="v-on-äº‹ä»¶ç›‘å¬"><a href="#v-on-äº‹ä»¶ç›‘å¬" class="headerlink" title="v-on äº‹ä»¶ç›‘å¬"></a>v-on äº‹ä»¶ç›‘å¬</h3><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>   v-on:==äº‹ä»¶å.ä¿®é¥°ç¬¦== =â€å‡½æ•°/å•å¥è¡¨è¾¾å¼/Objectâ€</p>
<p>  è¯­æ³•ç³–   ==ç”¨@ä»£æ›¿v-on== </p>
   <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;count++&quot;</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;count--&quot;</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;decrease&quot;</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><br>new Vue(&#123;<br>	el:&quot;#app&quot;,<br>	data:&#123;<br>		count=0<br>	&#125;<br>	methods=&#123;<br>		add()&#123;<br>			this.count++;<br>		&#125;,<br>		decrease()&#123;<br>			this.count--;<br>		&#125;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="äº‹ä»¶å“åº”å‡½æ•°çš„ä¼ å‚"><a href="#äº‹ä»¶å“åº”å‡½æ•°çš„ä¼ å‚" class="headerlink" title="äº‹ä»¶å“åº”å‡½æ•°çš„ä¼ å‚"></a>äº‹ä»¶å“åº”å‡½æ•°çš„ä¼ å‚</h4>   <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <br>    <br>    <span class="hljs-comment">&lt;!--å®å‚å’Œå½¢å‚åŒ¹é…æ—¶çš„æ­£å¸¸è°ƒç”¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;printf&quot;</span>&gt;</span>æ²¡æœ‰å®å‚å’Œå½¢å‚,å½“å‡½æ•°ä¸å¸¦å‚æ•°æ—¶ï¼Œå¯çœç•¥æ‹¬å·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;printf()&quot;</span>&gt;</span>æ²¡æœ‰å®å‚å’Œå½¢å‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;y-printf(&quot;</span><span class="hljs-attr">hello</span>&quot;,&quot; <span class="hljs-attr">world</span>!&quot;)&quot;&gt;</span>å¤„ç†ä¸¤ä¸ªå‚æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--å®å‚å’Œå½¢å‚ä¸åŒ¹é…æ—¶çš„å¤„ç†ç­–ç•¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;x-printf(123)&quot;</span>&gt;</span>æœ‰å½¢å‚ï¼Œè¾“å…¥å®å‚ï¼Œå¸¦æ‹¬å·è°ƒç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>   <br>    <span class="hljs-comment">&lt;!--val=123--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;x-printf&quot;</span>&gt;</span>æœ‰å½¢å‚ï¼Œä½†ä¸è¾“å…¥å®å‚ï¼Œä¸”ä¸å¸¦æ‹¬å·è°ƒç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>   <br>    <span class="hljs-comment">&lt;!--val=$event,ä¼šæŠŠäº‹ä»¶å¯¹è±¡å½“åšç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;x-printf()&quot;</span>&gt;</span>æœ‰å½¢å‚ï¼Œä½†ä¸è¾“å…¥å®å‚ï¼Œå¸¦æ‹¬å·è°ƒç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>   <br>    <span class="hljs-comment">&lt;!--val=undefined--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;x-printf($event)&quot;</span>&gt;</span>æœ‰å½¢å‚ï¼Œè¾“å…¥å®å‚$eventï¼Œå¸¦æ‹¬å·è°ƒç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> <br>    <span class="hljs-comment">&lt;!--val=$event å¼ºåˆ¶è¾“å…¥äº‹ä»¶å¯¹è±¡--&gt;</span><br>       <br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><br>new Vue(&#123;<br>	el:&quot;#app&quot;,<br>	data:&#123;<br>		count=0<br>	&#125;<br>	methods=&#123;<br>		printf()&#123;<br>			console.log(&quot;hello world&quot;);<br>		&#125;,<br>		x-printf(val)&#123;<br>			console.log(val);<br>		&#125;<br>		y-printf(val,event)&#123;<br>			console.log(val,event);<br>		&#125;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="å¤šäº‹ä»¶å¤„ç†"><a href="#å¤šäº‹ä»¶å¤„ç†" class="headerlink" title="å¤šäº‹ä»¶å¤„ç†"></a>å¤šäº‹ä»¶å¤„ç†</h4><p>å½“å¯¹æŸä¸ªåŸç”Ÿäº‹ä»¶è®¾ç½®å¤šä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œåˆ™éœ€è¦æ˜¾ç¤ºåœ°è°ƒç”¨è¿™äº›ç›‘å¬å™¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- è¿™ä¸¤ä¸ª one() å’Œ two() å°†æ‰§è¡ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;one($event); two($event)&quot;</span>&gt;</span> <span class="hljs-comment">&lt;!-- ğŸ‘ˆ åˆ†å·åˆ†å‰²äº†ä¸¤ä¸ªJSè¯­å¥ï¼Œåˆ†åˆ«æ‰§è¡Œä¸¤ä¸ªå‡½æ•° --&gt;</span><br>  Submit<br><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ...</span><br>methods: &#123;<br>  <span class="hljs-function"><span class="hljs-title">one</span>(<span class="hljs-params">event</span>)</span> &#123;<br>    <span class="hljs-comment">// first handler logic...</span><br>  &#125;,<br>  <span class="hljs-function"><span class="hljs-title">two</span>(<span class="hljs-params">event</span>)</span> &#123;<br>    <span class="hljs-comment">// second handler logic...</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h4 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h4><ul>
<li><p><code>.stop</code>  </p>
<p>ä¸­æ–­äº‹ä»¶çš„ä¼ æ’­ï¼Œå¸¸ç”¨äºå–æ¶ˆäº‹ä»¶å†’æ³¡ã€‚</p>
<p>@click.stop=â€==fun==â€</p>
<blockquote>
<p>â— æŸäº›äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºå‘ç”Ÿåœ¨å†’æ³¡åï¼Œä½†å–æ¶ˆå†’æ³¡å¹¶ä¸ä¼šé˜»æ­¢é»˜è®¤è¡Œä¸ºçš„å‘ç”Ÿã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><code>.capture</code></p>
<p>å“åº”å‡½æ•°åœ¨æ•è·é˜¶æ®µæ‰§è¡Œã€‚</p>
</li>
</ul>
<ul>
<li><p><code>.self</code></p>
<p>  åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•°ã€‚</p>
</li>
</ul>
<ul>
<li><p><code>.prevent</code> </p>
<p>å–æ¶ˆé»˜è®¤è¡Œä¸ºï¼ˆä¾‹å¦‚aæ ‡ç­¾çš„clickè·³è½¬ã€summitçš„clickæäº¤è¡¨å•ã€formè¡¨å•submitäº‹ä»¶çš„httpè¯·æ±‚ï¼‰ã€‚</p>
</li>
</ul>
<ul>
<li><p><code>.native </code>    </p>
<p> ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”ŸDOMäº‹ä»¶</p>
</li>
</ul>
<ul>
<li><p><code>.once </code> åªè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶</p>
<p>@click.once=â€==fun==â€</p>
</li>
</ul>
<ul>
<li><p><code>.passive</code></p>
<p>  passiveè¿™ä¸ªä¿®é¥°ç¬¦ä¼šæ‰§è¡Œé»˜è®¤æ–¹æ³•ã€‚ä½ ä»¬å¯èƒ½ä¼šé—®ï¼Œæ˜æ˜é»˜è®¤æ‰§è¡Œä¸ºä»€ä¹ˆä¼šè®¾ç½®è¿™æ ·ä¸€ä¸ªä¿®é¥°ç¬¦ã€‚è¿™å°±è¦è¯´ä¸€ä¸‹è¿™ä¸ªä¿®é¥°ç¬¦çš„æœ¬æ„äº†ã€‚</p>
<pre><code>ã€æµè§ˆå™¨åªæœ‰ç­‰å†…æ ¸çº¿ç¨‹æ‰§è¡Œåˆ°äº‹ä»¶ç›‘å¬å™¨å¯¹åº”çš„JavaScriptä»£ç æ—¶ï¼Œæ‰èƒ½çŸ¥é“å†…éƒ¨æ˜¯å¦ä¼šè°ƒç”¨preventDefaultå‡½æ•°æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥æµè§ˆå™¨æœ¬èº«æ˜¯æ²¡æœ‰åŠæ³•å¯¹è¿™ç§åœºæ™¯è¿›è¡Œä¼˜åŒ–çš„ã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œç”¨æˆ·çš„æ‰‹åŠ¿äº‹ä»¶æ— æ³•å¿«é€Ÿäº§ç”Ÿï¼Œä¼šå¯¼è‡´é¡µé¢æ— æ³•å¿«é€Ÿæ‰§è¡Œæ»‘åŠ¨é€»è¾‘ï¼Œä»è€Œè®©ç”¨æˆ·æ„Ÿè§‰åˆ°é¡µé¢å¡é¡¿ã€‚ã€‘</code></pre>
</li>
</ul>
<pre><code>  é€šä¿—ç‚¹è¯´å°±æ˜¯æ¯æ¬¡äº‹ä»¶äº§ç”Ÿï¼Œæµè§ˆå™¨éƒ½ä¼šå»æŸ¥è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰preventDefaulté˜»æ­¢è¯¥æ¬¡äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œã€‚æˆ‘ä»¬åŠ ä¸Š**passiveå°±æ˜¯ä¸ºäº†å‘Šè¯‰æµè§ˆå™¨ï¼Œä¸ç”¨æŸ¥è¯¢äº†ï¼Œæˆ‘ä»¬æ²¡ç”¨preventDefaulté˜»æ­¢é»˜è®¤åŠ¨ä½œã€‚**

  è¿™é‡Œä¸€èˆ¬ç”¨åœ¨æ»šåŠ¨ç›‘å¬ï¼Œ@scollï¼Œ@touchmove ã€‚å› ä¸ºæ»šåŠ¨ç›‘å¬è¿‡ç¨‹ä¸­ï¼Œç§»åŠ¨æ¯ä¸ªåƒç´ éƒ½ä¼šäº§ç”Ÿä¸€æ¬¡äº‹ä»¶ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨å†…æ ¸çº¿ç¨‹æŸ¥è¯¢preventä¼šä½¿æ»‘åŠ¨å¡é¡¿ã€‚æˆ‘ä»¬é€šè¿‡passiveå°†å†…æ ¸çº¿ç¨‹æŸ¥è¯¢è·³è¿‡ï¼Œå¯ä»¥å¤§å¤§æå‡æ»‘åŠ¨çš„æµç•…åº¦ã€‚</code></pre>
<blockquote>
<p><strong>æ³¨ï¼špassiveå’Œpreventå†²çªï¼Œä¸èƒ½åŒæ—¶ç»‘å®šåœ¨ä¸€ä¸ªç›‘å¬å™¨ä¸Šã€‚</strong></p>
</blockquote>
<h4 id="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"></a>é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦</h4><p><code>@keyup</code>å’Œ<code>@keydown</code>äº‹ä»¶å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¿®é¥°ç¬¦ã€‚</p>
<ul>
<li><p><code>.enter</code></p>
<p>ä¾‹å¦‚<code>@keyup.enter=&quot;xxx&quot;</code>è¡¨ç¤ºæ§åˆ¶å½“å›è½¦é”®æ¾å¼€æ—¶çš„è¡Œä¸º</p>
<p>ä¾‹å¦‚<code>@keydown.enter=&quot;xxx&quot;</code>è¡¨ç¤ºæ§åˆ¶å½“å›è½¦é”®æŒ‰ä¸‹æ—¶çš„è¡Œä¸º</p>
<blockquote>
<p>æ­¤å¤–è¿˜æ”¯æŒé”®åæ•°å­—ä»£å·çš„ä¿®é¥°ç¬¦ï¼ŒåŒæŒ‰é”®åˆ«ååŒæ•ˆæœï¼Œå¦‚<code>.13</code> ç­‰ä»·äº<code>.enter</code>ã€‚</p>
</blockquote>
</li>
</ul>
<p>æ­¤å¤–è¿˜æœ‰ï¼š</p>
<ul>
<li><code>.tab</code></li>
</ul>
<ul>
<li><code>.delete</code> â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®</li>
<li><code>.esc</code></li>
<li><code>.space</code> ç©ºæ ¼é”®</li>
<li><code>.up</code> ä¸Šç®­å¤´</li>
<li><code>.down</code> ä¸‹ç®­å¤´</li>
<li><code>.left</code> å·¦ç®­å¤´</li>
<li><code>.right</code> å³ç®­å¤´</li>
</ul>
<p>ç³»ç»ŸæŒ‰é”®ï¼š</p>
<ul>
<li><code>.ctrl</code></li>
<li><code>.alt</code></li>
<li><code>.shift</code></li>
<li><code>.meta</code></li>
</ul>
<blockquote>
<p>æç¤º</p>
<p>è¯·æ³¨æ„ä¿®é¥°é”®ä¸å¸¸è§„æŒ‰é”®ä¸åŒï¼Œåœ¨å’Œ <code>keyup</code> äº‹ä»¶ä¸€èµ·ç”¨æ—¶ï¼Œäº‹ä»¶è§¦å‘æ—¶ä¿®é¥°é”®å¿…é¡»å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰åœ¨æŒ‰ä½ <code>ctrl</code> çš„æƒ…å†µä¸‹é‡Šæ”¾å…¶å®ƒæŒ‰é”®ï¼Œæ‰èƒ½è§¦å‘ <code>keyup.ctrl</code>ã€‚è€Œå•å•é‡Šæ”¾ <code>ctrl</code> ä¹Ÿä¸ä¼šè§¦å‘äº‹ä»¶ã€‚</p>
<p>æ³¨æ„ï¼šåœ¨ Mac ç³»ç»Ÿé”®ç›˜ä¸Šï¼Œ<code>meta</code> å¯¹åº” <code>command </code>é”® (<code>âŒ˜</code>)ã€‚åœ¨ Windows ç³»ç»Ÿé”®ç›˜ <code>meta</code> å¯¹åº”<code>Windows</code>å¾½æ ‡é”® (<code>âŠ</code>)ã€‚åœ¨ Sun æ“ä½œç³»ç»Ÿé”®ç›˜ä¸Šï¼Œmeta å¯¹åº”å®å¿ƒå®çŸ³é”® (â—†)ã€‚åœ¨å…¶ä»–ç‰¹å®šé”®ç›˜ä¸Šï¼Œå°¤å…¶åœ¨ MIT å’Œ Lisp æœºå™¨çš„é”®ç›˜ã€ä»¥åŠå…¶åç»§äº§å“ï¼Œæ¯”å¦‚ Knight é”®ç›˜ã€space-cadet é”®ç›˜ï¼Œmeta è¢«æ ‡è®°ä¸ºâ€œMETAâ€ã€‚åœ¨ Symbolics é”®ç›˜ä¸Šï¼Œmeta è¢«æ ‡è®°ä¸ºâ€œMETAâ€æˆ–è€…â€œMetaâ€ã€‚</p>
</blockquote>
<ul>
<li><p><code>.exact</code></p>
<p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.ctrl</span>=<span class="hljs-string">&quot;onClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.ctrl.exact</span>=<span class="hljs-string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.exact</span>=<span class="hljs-string">&quot;onClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"></a>é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦</h4><ul>
<li><code>.left</code></li>
<li><code>.right</code></li>
<li><code>.middle</code></li>
</ul>
<p>è¿™äº›ä¿®é¥°ç¬¦ç”¨æ¥ä¿®é¥°ç‚¹å‡»äº‹ä»¶ï¼Œå¦‚<code>click</code>ã€<code>dbclick</code>ï¼Œä¼šé™åˆ¶å¤„ç†å‡½æ•°ä»…å“åº”ç‰¹å®šçš„é¼ æ ‡æŒ‰é’®ã€‚</p>
<h3 id="æŒ‡ä»¤çš„åŠ¨æ€å‚æ•°"><a href="#æŒ‡ä»¤çš„åŠ¨æ€å‚æ•°" class="headerlink" title="æŒ‡ä»¤çš„åŠ¨æ€å‚æ•°"></a>æŒ‡ä»¤çš„åŠ¨æ€å‚æ•°</h3><p>ä» 2.6.0 å¼€å§‹ï¼Œå¯ä»¥ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„ JavaScript è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæŒ‡ä»¤çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!--<br>æ³¨æ„ï¼Œå‚æ•°è¡¨è¾¾å¼çš„å†™æ³•å­˜åœ¨ä¸€äº›çº¦æŸï¼Œå¦‚ä¹‹åçš„â€œå¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸâ€ç« èŠ‚æ‰€è¿°ã€‚<br>--&gt;<br>&lt;a v-bind:[attributeName]&#x3D;&quot;url&quot;&gt; ... &lt;&#x2F;a&gt;<br></code></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>attributeName</code> ä¼šè¢«ä½œä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼è¿›è¡ŒåŠ¨æ€æ±‚å€¼ï¼Œæ±‚å¾—çš„å€¼å°†ä¼šä½œä¸ºæœ€ç»ˆçš„å‚æ•°æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ Vue å®ä¾‹æœ‰ä¸€ä¸ª <code>data</code> property <code>attributeName</code>ï¼Œå…¶å€¼ä¸º <code>&quot;href&quot;</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªç»‘å®šå°†ç­‰ä»·äº <code>v-bind:href</code>ã€‚</p>
<p>åŒæ ·åœ°ï¼Œä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å‚æ•°ä¸ºä¸€ä¸ªåŠ¨æ€çš„äº‹ä»¶åç»‘å®šå¤„ç†å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;a v-on:[eventName]&#x3D;&quot;doSomething&quot;&gt; ... &lt;&#x2F;a&gt;<br></code></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå½“ <code>eventName</code> çš„å€¼ä¸º <code>&quot;focus&quot;</code> æ—¶ï¼Œ<code>v-on:[eventName]</code> å°†ç­‰ä»·äº <code>v-on:focus</code>ã€‚</p>
<blockquote>
<p>é™¤äº†<code>v-bind</code>å’Œ<code>v-on</code>ä»¥å¤–ï¼Œ<code>v-slot</code>æŒ‡ä»¤å¯ä»¥è®¾ç½®å‚æ•°ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ°åŠ¨æ€å‚æ•°ã€‚è¯¦æƒ…è§æ’æ§½ç›¸å…³å†…å®¹ã€‚</p>
</blockquote>
<h4 id="å¯¹åŠ¨æ€å‚æ•°çš„å€¼çš„çº¦æŸ"><a href="#å¯¹åŠ¨æ€å‚æ•°çš„å€¼çš„çº¦æŸ" class="headerlink" title="å¯¹åŠ¨æ€å‚æ•°çš„å€¼çš„çº¦æŸ"></a>å¯¹åŠ¨æ€å‚æ•°çš„å€¼çš„çº¦æŸ</h4><p>åŠ¨æ€å‚æ•°é¢„æœŸä¼šæ±‚å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¼‚å¸¸æƒ…å†µä¸‹å€¼ä¸º <code>null</code>ã€‚è¿™ä¸ªç‰¹æ®Šçš„ <code>null</code> å€¼å¯ä»¥è¢«æ˜¾æ€§åœ°ç”¨äºç§»é™¤ç»‘å®šã€‚ä»»ä½•å…¶å®ƒéå­—ç¬¦ä¸²ç±»å‹çš„å€¼éƒ½å°†ä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Šã€‚</p>
<h4 id="å¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸ"><a href="#å¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸ" class="headerlink" title="å¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸ"></a>å¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸ</h4><p>åŠ¨æ€å‚æ•°è¡¨è¾¾å¼æœ‰ä¸€äº›è¯­æ³•çº¦æŸï¼Œå› ä¸ºæŸäº›å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼å’Œå¼•å·ï¼Œæ”¾åœ¨ HTML attribute åé‡Œæ˜¯æ— æ•ˆçš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- è¿™ä¼šè§¦å‘ä¸€ä¸ªç¼–è¯‘è­¦å‘Š --&gt;<br>&lt;a v-bind:[&#39;foo&#39; + bar]&#x3D;&quot;value&quot;&gt; ... &lt;&#x2F;a&gt;<br></code></pre></td></tr></table></figure>
<p>å˜é€šçš„åŠæ³•æ˜¯ä½¿ç”¨æ²¡æœ‰ç©ºæ ¼æˆ–å¼•å·çš„è¡¨è¾¾å¼ï¼Œæˆ–ç”¨è®¡ç®—å±æ€§æ›¿ä»£è¿™ç§å¤æ‚è¡¨è¾¾å¼ã€‚</p>
<p>åœ¨ DOM ä¸­ä½¿ç”¨æ¨¡æ¿æ—¶ (ç›´æ¥åœ¨ä¸€ä¸ª HTML æ–‡ä»¶é‡Œæ’°å†™æ¨¡æ¿)ï¼Œè¿˜éœ€è¦é¿å…ä½¿ç”¨å¤§å†™å­—ç¬¦æ¥å‘½åé”®åï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæŠŠ attribute åå…¨éƒ¨å¼ºåˆ¶è½¬ä¸ºå°å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!--<br>åœ¨ DOM ä¸­ä½¿ç”¨æ¨¡æ¿æ—¶è¿™æ®µä»£ç ä¼šè¢«è½¬æ¢ä¸º &#96;v-bind:[someattr]&#96;ã€‚<br>é™¤éåœ¨å®ä¾‹ä¸­æœ‰ä¸€ä¸ªåä¸ºâ€œsomeattrâ€çš„ propertyï¼Œå¦åˆ™ä»£ç ä¸ä¼šå·¥ä½œã€‚<br>--&gt;<br>&lt;a v-bind:[someAttr]&#x3D;&quot;value&quot;&gt; ... &lt;&#x2F;a&gt;<br></code></pre></td></tr></table></figure>
<h3 id="v-if-æ¡ä»¶æ¸²æŸ“"><a href="#v-if-æ¡ä»¶æ¸²æŸ“" class="headerlink" title="v-if æ¡ä»¶æ¸²æŸ“"></a>v-if æ¡ä»¶æ¸²æŸ“</h3><p><strong>å…·æœ‰æ¡ä»¶åˆ¤æ–­æŒ‡ä»¤çš„æ ‡ç­¾ï¼Œå¦‚æœé€»è¾‘æ¡ä»¶ä¸ç¬¦åˆï¼Œä¸ä¼šå­˜åœ¨äºDOMæ ‘ä¸­</strong> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;score&gt;=90&quot;</span>&gt;</span><br>    æˆç»©ï¼šä¼˜ç§€<br><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">&quot;score&gt;=60&quot;</span>&gt;</span><br>    æˆç»©ï¼šåŠæ ¼<br><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-else</span>&gt;</span><br>    æˆç»©ï¼šä¸åŠæ ¼<br><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><br>    æˆç»©:&#123;&#123;grade&#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><br>data:&#123;<br>	score:70<br>&#125;<br>computed:&#123;<br>	grade()&#123;<br>		if(this.score&gt;=90) return &quot;ä¼˜ç§€&quot;;<br>		else if (this.score&gt;=60) return &quot;åŠæ ¼&quot;;<br>		else return &quot;ä¸åŠæ ¼&quot;;<br>	&#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure>


<h4 id="åœ¨-lt-template-gt-å…ƒç´ ä¸Šä½¿ç”¨-v-if"><a href="#åœ¨-lt-template-gt-å…ƒç´ ä¸Šä½¿ç”¨-v-if" class="headerlink" title="åœ¨ &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ v-if"></a>åœ¨ <code>&lt;template&gt;</code> å…ƒç´ ä¸Šä½¿ç”¨ <code>v-if</code></h4><p>å› ä¸º <code>v-if</code> æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œæ‰€ä»¥å¿…é¡»å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚ä½†æ˜¯å¦‚æœæƒ³åˆ‡æ¢å¤šä¸ªå…ƒç´ å‘¢ï¼Ÿæ­¤æ—¶å¯ä»¥æŠŠä¸€ä¸ª <code>&lt;template&gt;</code> å…ƒç´ å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶åœ¨ä¸Šé¢ä½¿ç”¨ <code>v-if</code>ã€‚<strong>æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå°†ä¸åŒ…å« <code>&lt;template&gt;</code> å…ƒç´ ã€‚</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;ok&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Paragraph 1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Paragraph 2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>




<h3 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h3><p>v-show=â€falseâ€æ—¶ï¼Œæ ‡ç­¾å­˜åœ¨äºDOMæ ‘ä¸­ï¼Œä½†ä¼šæ·»åŠ å†…è”æ ·å¼ display:none</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure>
<ul>
<li><p>å½“éœ€è¦åœ¨æ˜¾ç¤ºä¸éšè—ä¹‹é—´åˆ‡æ¢å¾ˆé¢‘ç¹æ—¶ï¼Œä½¿ç”¨v-showæŒ‡ä»¤</p>
</li>
<li><p>å½“åªæœ‰ä¸€æ¬¡åˆ‡æ¢ï¼Œæˆ–å…ƒç´ äº’æ–¥å­˜åœ¨æ—¶ï¼Œä½¿ç”¨v-if</p>
</li>
</ul>
<hr>
<h3 id="v-for-åˆ—è¡¨æ¸²æŸ“"><a href="#v-for-åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="v-for åˆ—è¡¨æ¸²æŸ“"></a>v-for åˆ—è¡¨æ¸²æŸ“</h3><h4 id="éå†æ•°ç»„å…ƒç´ å’Œå¯¹è±¡å±æ€§"><a href="#éå†æ•°ç»„å…ƒç´ å’Œå¯¹è±¡å±æ€§" class="headerlink" title="éå†æ•°ç»„å…ƒç´ å’Œå¯¹è±¡å±æ€§"></a>éå†æ•°ç»„å…ƒç´ å’Œå¯¹è±¡å±æ€§</h4><p>å¯ä»¥ä½¿ç”¨v-foræŒ‡ä»¤éå†æ•°ç»„å’ŒJSæ™®é€šå¯¹è±¡ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--æ ¹æ®éœ€è¦ï¼Œåœ¨Vueé‡Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼&quot;å…ƒç¥–&quot;çš„è¯­æ³•éå†æ•°ç»„çš„å…ƒç´ åŠç´¢å¼•--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in lis&quot;</span>&gt;</span>&#123;&#123; `$&#123;index&#125;.$&#123;item&#125;` &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> <br>    <span class="hljs-comment">&lt;!-- â— è¿™é‡Œçš„indexä»1å¼€å§‹ï¼Œè€Œé0å¼€å§‹ã€‚--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--éå†å¯¹è±¡çš„å±æ€§å€¼ã€å±æ€§ååŠå±æ€§åçš„ç´¢å¼•--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(val,key,index) in obj&quot;</span>&gt;</span>&#123;&#123; `$&#123;key&#125;:$&#123;val&#125;` &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><font color="red">åœ¨v-forç»‘å®šçš„æ•°æ®å¯èƒ½å­˜åœ¨åŠ¨æ€ä¿®æ”¹çš„æƒ…å†µæ—¶ï¼ˆå¦‚åŠ¨æ€å¢åŠ åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå»ºè®®ä¸ºæ ‡ç­¾æ·»åŠ ä¸€ä¸ªkeyå±æ€§ï¼Œkeyçš„å±æ€§å€¼åº”èƒ½å”¯ä¸€æ ‡è¯†æ•°æ®ä¸­çš„å„ä¸ªå…ƒç´ ã€‚æ·»åŠ keyå±æ€§å¯ä»¥æé«˜domåŠ¨æ€æ¸²æŸ“æ€§èƒ½ã€‚</font></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in lis&quot;</span>  <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123;item.text&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p>==Vueæ˜¯å“åº”å¼çš„ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼ŒVueä¼šæ£€æµ‹åˆ°æ•°æ®çš„å˜åŒ–ï¼Œå¹¶ååº”åˆ°è§†å›¾ä¸Šã€‚==</p>
<p>==æˆ‘ä»¬å¸¸ç”¨v-foræŒ‡ä»¤ç»‘å®šæ•°ç»„æ•°æ®ï¼ŒVueä¸­åŒ…å«äº†ä¸€ç»„è§‚å¯Ÿæ•°ç»„å˜åŒ–çš„æ–¹æ³•ã€‚==</p>
<p>==å½“è°ƒç”¨æ•°ç»„æŸäº›æ–¹æ³•æ”¹å˜å…ƒç´ æ—¶ï¼Œä¼šè§¦å‘è§†å›¾çš„æ›´æ–°==</p>
<pre><code>åŒ…æ‹¬ï¼šæ‰€æœ‰æ”¹å˜æ•°ç»„è‡ªèº«çš„æ–¹æ³•(Vueä¸­æ‹¦æˆªäº†pop,push,unshift,shift, sort,reverse, spliceè¿™ä¸ƒç§)

æ³¨æ„ï¼šä½¿ç”¨ä¸‹æ ‡æ”¹å˜æ•°ç»„å…ƒç´ çš„æ–¹æ³•ä¸ä¼šè¢«Vueç›‘å¬åˆ°ï¼Œ&lt;font color=&quot;red&quot;&gt;æ•°æ®ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä½†è§†å›¾ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚&lt;/font&gt;

âŒ  lis[0]=xxx;

âœ”  Vue.set(lis,&#39;0&#39;,xxx)    **ä½¿ç”¨Vueçš„setæ–¹æ³•æ”¹å˜å¯¹è±¡çš„å±æ€§å€¼ä¼šè¢«æ£€æµ‹åˆ°ï¼Œå¹¶ååº”åˆ°è§†å›¾ä¸Š**</code></pre>
<hr>
<h4 id="æ›¿æ¢æ•°ç»„"><a href="#æ›¿æ¢æ•°ç»„" class="headerlink" title="æ›¿æ¢æ•°ç»„"></a>æ›¿æ¢æ•°ç»„</h4><p>æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œç»™Dataä¸­çš„å“åº”å¼æ•°ç»„é‡æ–°èµ‹å€¼ï¼Œå¯èƒ½æ¯”ä¿®æ”¹æ•°ç»„çš„éƒ¨åˆ†å…ƒç´ æ¥çš„æ›´é«˜æ•ˆã€‚</p>
<p>å˜æ›´æ–¹æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œä¼šå˜æ›´è°ƒç”¨äº†è¿™äº›æ–¹æ³•çš„åŸå§‹æ•°ç»„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¹Ÿæœ‰éå˜æ›´æ–¹æ³•ï¼Œä¾‹å¦‚ <code>map()</code>ã€<code>filter()</code>ã€<code>concat()</code> å’Œ <code>slice()</code>ã€‚å®ƒä»¬ä¸ä¼šå˜æ›´åŸå§‹æ•°ç»„ï¼Œè€Œ<strong>æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</strong>ã€‚å½“ä½¿ç”¨éå˜æ›´æ–¹æ³•æ—¶ï¼Œå¯ä»¥ç”¨æ–°æ•°ç»„æ›¿æ¢æ—§æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>    &lt;li v-for&#x3D;&quot;item in ls&quot;&gt;&#123;&#123; item &#125;&#125;&lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br><br>&lt;script&gt;<br>    &#x2F;&#x2F;...<br>    methods: &#123;<br>        update() &#123;<br>            ls &#x3D; ls.map(() &#x3D;&gt; &#123;&#x2F;*....*&#x2F;&#125;);<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>


<h4 id="åœ¨-v-for-é‡Œä½¿ç”¨å€¼çš„èŒƒå›´"><a href="#åœ¨-v-for-é‡Œä½¿ç”¨å€¼çš„èŒƒå›´" class="headerlink" title="åœ¨ v-for é‡Œä½¿ç”¨å€¼çš„èŒƒå›´"></a>åœ¨ v-for é‡Œä½¿ç”¨å€¼çš„èŒƒå›´</h4><p><code>v-for</code> ä¹Ÿå¯ä»¥æ¥å—æ•´æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¼šæŠŠæ¨¡æ¿é‡å¤å¯¹åº”æ¬¡æ•°ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;range&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;n in 10&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-comment">&lt;!-- â— ç±»ä¼¼çš„ï¼Œè¿™nçš„ç´¢å¼•å€¼ä»ç„¶ä»1å¼€å§‹ï¼Œè€Œéä»0å¼€å§‹ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><img src="/./image-20210511201311023.png" srcset="/img/loading.gif" alt="image-20210511201311023"></p>
<h4 id="åœ¨-lt-template-gt-ä¸­ä½¿ç”¨-v-for"><a href="#åœ¨-lt-template-gt-ä¸­ä½¿ç”¨-v-for" class="headerlink" title="åœ¨ &lt;template&gt;ä¸­ä½¿ç”¨ v-for"></a>åœ¨ &lt;template&gt;ä¸­ä½¿ç”¨ v-for</h4><p>ç±»ä¼¼äº <code>v-if</code>ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨å¸¦æœ‰ <code>v-for</code> çš„ <code>&lt;template&gt;</code> æ¥å¾ªç¯æ¸²æŸ“ä¸€æ®µåŒ…å«å¤šä¸ªå…ƒç´ çš„å†…å®¹ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;&#123; item.msg &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;divider&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;presentation&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h4 id="åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨-v-for"><a href="#åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨-v-for" class="headerlink" title="åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨ v-for"></a>åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨ v-for</h4><p>åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šï¼Œä½ å¯ä»¥åƒåœ¨ä»»ä½•æ™®é€šå…ƒç´ ä¸Šä¸€æ ·ä½¿ç”¨ <code>v-for</code>ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œä»»ä½•æ•°æ®éƒ½ä¸ä¼šè¢«è‡ªåŠ¨ä¼ é€’åˆ°ç»„ä»¶é‡Œï¼Œå› ä¸ºç»„ä»¶æœ‰è‡ªå·±ç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚ä¸ºäº†æŠŠè¿­ä»£æ•°æ®ä¼ é€’åˆ°ç»„ä»¶é‡Œï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ propsï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;my-component<br>  v-for=&quot;(item, index) in items&quot;<br>  :item=&quot;item&quot;<br>  :index=&quot;index&quot;<br>  :key=&quot;item.id&quot;<br>&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br></code></pre></td></tr></table></figure>




<h3 id="æ¡ˆä¾‹1"><a href="#æ¡ˆä¾‹1" class="headerlink" title="æ¡ˆä¾‹1"></a>æ¡ˆä¾‹1</h3><p>==è¦æ±‚ï¼šå½“ç‚¹å‡»ä¸€ä¸ªliæ—¶ï¼Œè¯¥liçš„colorä¸ºçº¢è‰²ï¼Œå…¶ä»–ä¸ºé»˜è®¤é¢œè‰²==</p>
<p><img src="/./image-20200816153838359.png" srcset="/img/loading.gif" alt="image-20200816153838359"> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="css">        <span class="hljs-selector-class">.active</span>&#123;</span><br>            color: red;<br>        &#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>  <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in lis&quot;</span> </span><br><span class="hljs-tag">             <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;active:currentIndex===index&#125;&quot;</span></span><br><span class="hljs-tag">             @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;beActive(index)&quot;</span></span><br><span class="hljs-tag">         &gt;</span><br>         &#123;&#123;`$&#123;index&#125;.$&#123;item&#125;`&#125;&#125;<br>         <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>            data:&#123;<br><span class="javascript">                lis:[<span class="hljs-string">&#x27;mazheng&#x27;</span>,<span class="hljs-string">&#x27;ley&#x27;</span>],</span><br><span class="javascript">                currentIndex:<span class="hljs-number">0</span>         <span class="hljs-comment">//ä½¿ç”¨currentIndexè®°å½•ä¸Šæ¬¡ç‚¹å‡»çš„å…ƒç´ ç´¢å¼•</span></span><br>            &#125;,<br>            methods:&#123;<br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">beActive</span>(<span class="hljs-params">index</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.currentIndex=index;</span><br>                &#125;<br>            &#125;<br>        &#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
<hr>
<h3 id="æ¡ˆä¾‹2"><a href="#æ¡ˆä¾‹2" class="headerlink" title="æ¡ˆä¾‹2"></a>æ¡ˆä¾‹2</h3><p><img src="/./image-20200816171940331.png" srcset="/img/loading.gif" alt="image-20200816171940331"> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.11&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br>        table&#123;<br>            width: 600px;<br>            border-collapse: collapse;<br>        &#125;<br>        th,td&#123;<br><span class="css">            <span class="hljs-selector-tag">padding</span><span class="hljs-selector-pseudo">:5px</span> 10<span class="hljs-selector-tag">px</span>;</span><br>            text-align: left;<br>            border: 1px black solid;<br>        &#125;<br>        th&#123;<br>            background-color: silver;<br>        &#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ä¹¦ç±åç§°<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å‡ºç‰ˆæ—¥æœŸ<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ä»·æ ¼<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è´­ä¹°æ•°é‡<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in books&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ã€Š&#123;&#123;item.title&#125;&#125;ã€‹<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123;item.releaseDate&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> &#123;&#123;item.price | showPrice&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                        <span class="hljs-comment">&lt;!--å½“ä¹¦ç±æ•°é‡å°äºç­‰äº1æ—¶ï¼ŒæŒ‰é’®ä¸å¯ç”¨--&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;item.num &lt;= 1&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;decOne(index)&quot;</span>&gt;</span><br>                            -<br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                        &#123;&#123;item.num&#125;&#125;<br>                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>  @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addOne(index)&quot;</span>&gt;</span><br>                            +<br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;removeBook(index)&quot;</span>&gt;</span><br>                            ç§»é™¤<br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>            data:&#123;<br>                books:[<br>                    &#123;<br><span class="javascript">                        title:<span class="hljs-string">&#x27;ç®—æ³•å¯¼è®º&#x27;</span>,</span><br><span class="javascript">                        releaseDate:<span class="hljs-string">&#x27;2006-06&#x27;</span>,</span><br>                        price:85,<br>                        num:1<br>                    &#125;,<br>                    &#123;<br><span class="javascript">                        title:<span class="hljs-string">&#x27;UNIXç¼–ç¨‹è‰ºæœ¯&#x27;</span>,</span><br><span class="javascript">                        releaseDate:<span class="hljs-string">&#x27;2006-02&#x27;</span>,</span><br>                        price:59,<br>                        num:1<br>                    &#125;,<br>                    &#123;<br><span class="javascript">                        title:<span class="hljs-string">&#x27;ä»£ç å¤§å…¨&#x27;</span>,</span><br><span class="javascript">                        releaseDate:<span class="hljs-string">&#x27;2008-10&#x27;</span>,</span><br>                        price:59,<br>                        num:1<br>                    &#125;<br>                ]<br>            &#125;,<br><span class="javascript">            filters:&#123;  <span class="hljs-comment">//è¿‡æ»¤å™¨ã€‚è·Ÿè®¡ç®—å±æ€§ç±»ä¼¼ï¼Œä½†æ˜¯è°ƒç”¨çš„æ–¹æ³•ä¸å¤ªä¸€æ ·</span></span><br><span class="handlebars"><span class="xml">                //<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.price</span> | showPrice&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>     ä½¿ç”¨&quot; | &quot;è°ƒç”¨è¿‡æ»¤å™¨,å·¦è¾¹ä¸ºå‚æ•°</span></span><br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">showPrice</span>(<span class="hljs-params">price</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">`ï¿¥<span class="hljs-subst">$&#123;price.toFixed(<span class="hljs-number">2</span>)&#125;</span>`</span>;</span><br>                &#125;<br>            &#125;,<br>            methods:&#123;<br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">addOne</span>(<span class="hljs-params">index</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.books[index].num+=<span class="hljs-number">1</span>;</span><br>                &#125;,<br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">decOne</span>(<span class="hljs-params">index</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.books[index].num-=<span class="hljs-number">1</span>;</span><br>                &#125;,<br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">removeBook</span>(<span class="hljs-params">index</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.books.splice(index,<span class="hljs-number">1</span>);</span><br>                &#125;<br>            &#125;<br>        &#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
<hr>
<h3 id="v-model-æŒ‡ä»¤"><a href="#v-model-æŒ‡ä»¤" class="headerlink" title="v-model æŒ‡ä»¤"></a>v-model æŒ‡ä»¤</h3><h4 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h4><p>ä¸»è¦ç”¨äºå®ç°è¡¨å•å…ƒç´ çš„<strong>åŒå‘æ•°æ®ç»‘å®š</strong>ã€‚ç»‘å®šçš„æ•°æ®ä¸»è¦ç”¨äºè‡ªå®šä¹‰çš„ajaxè¯·æ±‚ï¼Œä¹Ÿå¯ä»¥ä¾›å…¶ä»–åŠŸèƒ½ä½¿ç”¨ã€‚</p>
<p>v-modelå…¶å®æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒçš„èƒŒåæœ¬è´¨æ˜¯åŒ…å«ä¸¤ä¸ªæ“ä½œï¼š</p>
<ol>
<li>ç›‘å¬è¡¨å•å…ƒç´ çš„ç‰¹å¾äº‹ä»¶ï¼Œå¦‚inputã€changeï¼Œæ ¹æ®æƒ…å†µæ›´æ–°ç»‘å®šçš„æ•°æ®ã€‚</li>
<li>ç›‘æµ‹æ•°æ®çš„å˜åŒ–ï¼Œæ›´æ–°è¡¨å•å…ƒç´ çš„å±æ€§å€¼ï¼Œå¦‚valueã€checkedã€‚</li>
</ol>
<blockquote>
<p><code>v-model</code> åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„ property å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p>
<ul>
<li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ <code>value</code> property å’Œ <code>input</code> äº‹ä»¶ï¼›</li>
<li>checkbox å’Œ radio ä½¿ç”¨ <code>checked</code> property å’Œ <code>change</code> äº‹ä»¶ï¼›</li>
<li>select å­—æ®µå°† <code>value</code> ä½œä¸º prop å¹¶å°† <code>change</code> ä½œä¸ºäº‹ä»¶ã€‚</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html">//ä½¿ç”¨ä¸¤ä¸ªå‘½ä»¤çš„ç»„åˆå®ç°inputæ ‡ç­¾çš„v-modelçš„åŠŸèƒ½<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;message=$event.target.value&quot;</span>&gt;</span><br><br>data:&#123;<br>	message:&#x27;&#x27;<br>&#125;<br></code></pre></td></tr></table></figure>


<h4 id="æ–‡æœ¬ç±»è¡¨å•é¡¹-text-textarea"><a href="#æ–‡æœ¬ç±»è¡¨å•é¡¹-text-textarea" class="headerlink" title="æ–‡æœ¬ç±»è¡¨å•é¡¹ (text/textarea)"></a>æ–‡æœ¬ç±»è¡¨å•é¡¹ (text/textarea)</h4><p>å°†inputçš„valueå’Œmessageå˜é‡è¿›è¡Œç»‘å®šã€‚æ–‡æœ¬æ¡†æ”¹å˜valueï¼Œmessageçš„å€¼ä¹Ÿéšä¹‹æ”¹å˜ã€‚æ”¹å˜messageçš„å€¼ï¼Œæ–‡æœ¬æ¡†ä¸­çš„å†…å®¹ä¹Ÿéšä¹‹æ”¹å˜ã€‚ï¼ˆåŒå‘ç»‘å®šï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html">//åªä½¿ç”¨v-modelç»‘å®šæ•°æ®ï¼Œä½†ä¸ä½¿ç”¨nameæ ‡è¯†è¡¨å•å…ƒç´ ï¼Œè¿™ç§è¡¨å•å…ƒç´ ä¸ä¼šè¢«è¡¨å•æäº¤ï¼ˆå› ä¸ºæ²¡æœ‰nameå±æ€§ï¼‰<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br><br>data:&#123;<br>	message:&#x27;&#x27;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>textareaæ ‡ç­¾ä¸inputæ ‡ç­¾ç±»ä¼¼å¯ä»¥ä½¿ç”¨v-modelæŒ‡ä»¤å®ç°ä¸Šè¿°åŠŸèƒ½</p>
</blockquote>
<h4 id="å•é€‰æŒ‰é’®-radio"><a href="#å•é€‰æŒ‰é’®-radio" class="headerlink" title="å•é€‰æŒ‰é’® (radio)"></a>å•é€‰æŒ‰é’® (radio)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--åº”å½“ä¸ºæ¯ä¸ªå•é€‰æŒ‰é’®è®¾ç½®valueå±æ€§--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioVal&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;radioVal&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--è¿™ç±»æ²¡æœ‰nameå±æ€§çš„radioä¸ä¼šéšè¡¨å•æäº¤--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>data:&#123;<br><span class="javascript">	radioVal:<span class="hljs-number">0</span>   <span class="hljs-comment">// åˆå§‹å€¼ä¸º0ï¼Œä»£è¡¨é»˜è®¤ç¬¬ä¸€ä¸ªæŒ‰é’®é€‰ä¸­ã€‚æ•°å­—ã€å­—ç¬¦ä¸²éƒ½å¯ä»¥ã€‚</span></span><br>&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><strong>åŒå‘æ•°æ®ç»‘å®šæ€è·¯:</strong></p>
<ol>
<li><p>åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœv-modelç»‘å®šçš„æ•°ç»„ä¸è¯¥radioçš„valueç›¸åŒï¼Œåˆ™è¯¥radioä¼šè¢«é€‰ä¸­ï¼Œå¦åˆ™ä¸è¢«é€‰ä¸­ï¼ˆæ‰€ä»¥è¦æ±‚radioæ ‡ç­¾å¿…é¡»æœ‰valueå±æ€§ï¼‰ã€‚</p>
<p>radioå…ƒç´ é€šè¿‡ä»£ç é€‰ä¸­çš„æ–¹å¼ä¸ºè®¾ç½®è¯¥å…ƒç´ çš„checkedä¸ºtrueï¼Œä¾‹å¦‚ <code>radioELem.checked = true;</code>ï¼Œå–æ¶ˆé€‰ä¸­ä¸º<code>radioElem.checked = false</code>ã€‚</p>
</li>
<li><p>ç›‘å¬changeäº‹ä»¶<font color='red'>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨DOMä¸­ï¼Œradioçš„changeäº‹ä»¶åªæœ‰åœ¨è¯¥radioä»ä¸ºé€‰ä¸­å˜ä¸ºé€‰ä¸­çŠ¶æ€æ—¶æ‰ä¼šå‘å‡ºï¼Œè€Œå½“radioä»é€‰ä¸­åˆ°éé€‰ä¸­çŠ¶æ€ï¼Œæ˜¯ä¸ä¼šäº§ç”Ÿchangeäº‹ä»¶çš„ï¼Œè¿™ä¸€ç‚¹å¾ˆå…³é”®ã€‚</font>æ‰€ä»¥å½“æŸä¸ªradioäº§ç”Ÿchangeäº‹ä»¶æ—¶ï¼Œåªéœ€è¦å°†v-modelç»‘å®šçš„å“åº”å¼æ•°æ®èµ‹å€¼ä¸ºè¯¥radioçš„valueå³å¯ï¼Œè€Œä¸éœ€è¦å…³æ³¨å¦ä¸€ä¸ªå˜ä¸ºéé€‰ä¸­çŠ¶æ€çš„radioã€‚</p>
<p>â“ ä¿®æ”¹v-modelç»‘å®šçš„æ•°æ®æ˜¯å¦ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼Ÿ</p>
</li>
</ol>
<h4 id="å¤é€‰æ¡†-checkbox"><a href="#å¤é€‰æ¡†-checkbox" class="headerlink" title="å¤é€‰æ¡† (checkbox)"></a>å¤é€‰æ¡† (checkbox)</h4><ul>
<li><p>å•ä¸ªå¤é€‰æ¡†ï¼Œå®œä½¿ç”¨v-modelç»‘å®šä¸€ä¸ªboolç±»å‹çš„å˜é‡</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;isChecked&quot;</span>&gt;</span><br>//å½“é€‰ä¸­æ—¶ï¼ŒisCheckedå€¼ä¼šä¸ºtrue,ä¸é€‰ä¸­æ—¶ä¸ºfalse<br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>data:&#123;<br><span class="javascript">	isChecked: <span class="hljs-literal">false</span>   <span class="hljs-comment">//isCheckedé»˜è®¤å€¼è®¾ä¸ºfalseï¼Œä»£è¡¨é»˜è®¤ä¸é€‰ä¸­</span></span><br>&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>åŒå‘ç»‘å®šæ€è·¯ï¼š</p>
<ol>
<li><p>æ¸²æŸ“æ—¶ï¼Œå¦‚æœcheckboxæ ‡ç­¾ä½¿ç”¨v-modelæ•°æ®ç»‘å®šçš„æ˜¯<strong>éæ•°ç»„ç±»å‹</strong>ï¼ˆå‡è®¾ä¸º<code>isCheck</code>ï¼‰ï¼Œåˆ™æ•°æ®ç»‘å®šåˆ°ä¸€ä¸ªå•ä¸ªå¤é€‰æ¡†ï¼Œå½“ä½œå•é€‰æŒ‰é’®ä½¿ç”¨ã€‚å¦‚æœ<code>isCheck</code>æ˜¯<code>truthy</code>ï¼Œåˆ™è¯¥checkboxä¼šè¢«é€‰ä¸­ã€‚</p>
</li>
<li><p>è®¾ç½®changeäº‹ä»¶ç›‘å¬å™¨ï¼Œäº‹ä»¶çš„å›è°ƒå‡½æ•°ç›´æ¥æ‰§è¡Œè¯­å¥ï¼š<code>isCheck = !!!isCheck</code>ï¼Œç›´æ¥å–åå¸ƒå°”å€¼ã€‚</p>
<p>changeäº‹ä»¶è¡¨ç¤ºcheckboxåˆ‡æ¢çŠ¶æ€ï¼Œç”±é€‰ä¸­=&gt; ä¸é€‰ä¸­ æˆ– ä¸é€‰ä¸­ =&gt; é€‰ä¸­ï¼Œchangeäº‹ä»¶ç”±clickäº‹ä»¶è§¦å‘ã€‚</p>
</li>
</ol>
<p>æ³¨æ„ï¼š</p>
<p>æ‰€ä»¥å¼ºçƒˆå»ºè®®<code>isCheck</code>åˆå§‹æ—¶å°±æ˜¯ä¸€ä¸ª<strong>Booleanç±»å‹</strong>çš„æ•°æ®ï¼Œå¦åˆ™å½“ç”¨æˆ·æ²¡æœ‰åˆ‡æ¢è¯¥å•ä¸ªå¤é€‰æ¡†ï¼ŒisCheckä¼šä¿æŒåŸç±»å‹å¹¶ä½œä¸ºAjaxè¯·æ±‚çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">data:&#123;<br>	isChecked: &#123;&#125;   <span class="hljs-comment">/** isCheckedé»˜è®¤å€¼è®¾ä¸º&#123;&#125;ï¼Œè¡¨ç°ä¸ºè¯¥å¤é€‰æ¡†è¢«é€‰ä¸­ã€‚ä¸€æ—¦ç”¨æˆ·æ²¡æœ‰åˆ‡æ¢è¯¥å¤é€‰æ¡†çš„çŠ¶æ€ï¼Œåˆ™isCheckedçš„å€¼ä¼šä¸€ç›´ä¿æŒä¸º&#123;&#125;ï¼Œå¦‚æœå­˜åœ¨Ajaxè¯·æ±‚ï¼Œåç«¯æ¥å£è§„å®šisCheckedå­—æ®µä¸ºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè€Œæ­¤æ—¶isCheckedçš„å­—æ®µå€¼å´ä¸ºä¸€ä¸ªå¯¹è±¡å‘é€åˆ°åç«¯ï¼Œè¿™æ˜¾ç„¶ä¼šå‡ºç°é”™è¯¯ã€‚ */</span><br>&#125;<br></code></pre></td></tr></table></figure>


</blockquote>
</li>
</ul>
<ul>
<li><p>å¤šä¸ªå¤é€‰æ¡†ï¼ˆç»‘å®šåŒä¸€ä¸ªæ•°æ®ï¼‰ï¼Œå®œä½¿ç”¨v-modelç»‘å®šä¸€ä¸ª<strong>ç©ºæ•°ç»„,**æˆ–</strong>å…·æœ‰åˆå§‹å€¼çš„æ•°ç»„**ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;balls&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;basketball&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;balls&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;balls&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;football&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;balls&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;balls&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;badminton&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;balls&quot;</span>&gt;</span><br>  <br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>      data:&#123;<br><span class="javascript">          balls:[<span class="hljs-string">&#x27;basketball&#x27;</span>] <span class="hljs-comment">//é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªå¤é€‰æ¡†</span></span><br>      &#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in origins&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;balls&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;item&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;balls&quot;</span>&gt;</span> &#123;&#123;item&#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>  <br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>      data:&#123;<br>          balls:[],<br><span class="javascript">          origins:[<span class="hljs-string">&#x27;basketball&#x27;</span>,<span class="hljs-string">&#x27;football&#x27;</span>,<span class="hljs-string">&#x27;badminton&#x27;</span>]<span class="hljs-comment">//ä»åå°è·å–</span></span><br>      &#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>åŒå‘æ•°æ®ç»‘å®šæ€è·¯ï¼š</strong></p>
<ol>
<li>åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå¦‚æœæ£€æµ‹å‡ºcheckboxä¸­v-modelç»‘å®šçš„æ•°æ®æ˜¯<strong>æ•°ç»„ç±»å‹</strong>ï¼ˆå‡è®¾ä¸º<code>checkboxVals</code>ï¼‰ï¼Œåˆ™è®¤ä¸ºè¯¥æ•°æ®ç»‘å®šåˆ°å¤šä¸ªcheckboxï¼Œä½œä¸ºå¤é€‰æ¡†ä½¿ç”¨ã€‚<strong>æ¯ä¸ªcheckboxå¿…é¡»è®¾ç½®valueå±æ€§</strong>ï¼Œå¦‚æœ<code>checkboxVals</code>æ•°ç»„ä¸­å«æœ‰è¯¥valueï¼Œåˆ™è¯¥checkboxé»˜è®¤è¢«é€‰ä¸­ï¼Œ<code>checkBoxElem.checked = true</code>ã€‚</li>
<li>è®¾ç½®changeäº‹ä»¶ç›‘å¬å™¨ã€‚å“åº”å‡½æ•°ä¸»è¦é€»è¾‘ä¸ºï¼šå¦‚æœ<code>checkboxVals</code>å«æœ‰è¯¥checkboxçš„valueï¼Œåˆ™ä»æ•°ç»„ä¸­åˆ é™¤è¯¥valueï¼Œå¦‚æœæ•°ç»„ä¸­ä¸å«æœ‰è¯¥checkboxçš„valueï¼Œåˆ™å°†valueæ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</li>
</ol>
<p><strong>æ³¨æ„ç‚¹ï¼š</strong></p>
<ol>
<li><p>checkboxæ ‡ç­¾ä¸­ä½¿ç”¨v-modelå±æ€§ï¼Œä¼šä½¿æ ‡ç­¾ä¸­çš„checkedå±æ€§å¤±æ•ˆã€‚å¤é€‰æ¡†æ˜¯å¦<strong>é»˜è®¤</strong>é€‰ä¸­ï¼Œåªä¸v-modelç»‘å®šçš„åˆå§‹æ•°æ®æœ‰å…³ã€‚</p>
</li>
<li><p>v-modelç»‘å®šçš„æ•°ç»„æŒ‡å®šåˆå§‹å…ƒç´ ï¼Œä»¥è¡¨ç¤ºé»˜è®¤é€‰ä¸­çš„å¤é€‰æ¡†ï¼Œä½†åˆå§‹å…ƒç´ çš„å€¼åº”å‡ºè‡ªé»˜è®¤é€‰ä¸­å¤é€‰æ¡†çš„valueã€‚å› ä¸ºcheckboxå–æ¶ˆé€‰ä¸­æ—¶åªä¼šåˆ é™¤æ•°ç»„ä¸­çš„å“åº”valueï¼Œè€Œä¸ä¼šåˆ é™¤ä¸å­˜åœ¨äºæ‰€æœ‰å¤é€‰æ¡†valueä¸­çš„å…¶ä»–å€¼ã€‚å³åˆå§‹åŒ–æ•°ç»„æ—¶ï¼Œåˆå§‹å…ƒç´ è‹¥ä¸å­˜åœ¨äºæ‰€æœ‰valueä¸­ï¼Œåˆ™ä¼šå§‹ç»ˆå­˜åœ¨äºç»‘å®šçš„æ•°ç»„é‡Œã€‚</p>
</li>
</ol>
</li>
</ul>
<h4 id="é€‰æ‹©æ¡†-select"><a href="#é€‰æ‹©æ¡†-select" class="headerlink" title="é€‰æ‹©æ¡† (select)"></a>é€‰æ‹©æ¡† (select)</h4><p><strong>ä¸€ã€å•é€‰select</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å•é€‰selectæ ‡ç­¾æ²¡æœ‰multipleå±æ€§ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;ball&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;basketball&quot;</span>&gt;</span>ç¯®çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;football&quot;</span>&gt;</span>è¶³çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;badminton&quot;</span>&gt;</span>ç¾½æ¯›çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>    data:&#123;<br><span class="javascript">        ball:<span class="hljs-string">&quot;basketball&quot;</span></span><br>    &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><strong>åŒå‘æ•°æ®ç»‘å®šæ€è·¯ï¼š</strong></p>
<p>å‰æï¼šselectæ ‡ç­¾æ²¡æœ‰multipeå±æ€§ã€‚</p>
<ol>
<li>æ¸²æŸ“æ—¶ï¼Œå°†v-modelç»‘å®šçš„å€¼èµ‹å€¼ç»™selectæ ‡ç­¾çš„valueã€‚</li>
<li>ç›‘å¬selectçš„changeäº‹ä»¶ï¼Œå°†selectæ ‡ç­¾çš„valueå±æ€§èµ‹å€¼ç»™v-modelç»‘å®šçš„æ•°æ®ã€‚</li>
</ol>
<p><a href="">Vueå®˜æ–¹æ–‡æ¡£æ¡ˆä¾‹</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;v-model-select&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">disabled</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Please select one<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>B<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Selected: &#123;&#123; selected &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.createApp(&#123;<br>  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      selected: <span class="hljs-string">&#x27;&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;).mount(<span class="hljs-string">&#x27;#v-model-select&#x27;</span>)<br></code></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>å¦‚æœ <code>v-model</code> è¡¨è¾¾å¼çš„åˆå§‹å€¼æœªèƒ½åŒ¹é…ä»»ä½•é€‰é¡¹ï¼Œ<code>&lt;select&gt;</code> å…ƒç´ å°†è¢«æ¸²æŸ“ä¸ºâ€œæœªé€‰ä¸­â€çŠ¶æ€ã€‚åœ¨ iOS ä¸­ï¼Œè¿™ä¼šä½¿ç”¨æˆ·æ— æ³•é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ã€‚å› ä¸ºè¿™æ ·çš„æƒ…å†µä¸‹ï¼ŒiOS ä¸ä¼šè§¦å‘ <code>change</code> äº‹ä»¶ã€‚å› æ­¤ï¼Œæ›´æ¨èåƒä¸Šé¢è¿™æ ·æä¾›ä¸€ä¸ªå€¼ä¸ºç©ºçš„ç¦ç”¨é€‰é¡¹ã€‚</p>
</blockquote>
<p><strong>äºŒã€å¤šé€‰select</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--å¤šé€‰select,æ·»åŠ multipleå¸ƒå°”å±æ€§--&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;balls&quot;</span> <span class="hljs-attr">multiple</span>&gt;</span>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;basketball&quot;</span>&gt;</span>ç¯®çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;football&quot;</span>&gt;</span>è¶³çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;badminton&quot;</span>&gt;</span>ç¾½æ¯›çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>    data:&#123;<br><span class="javascript">        balls:[<span class="hljs-string">&#x27;basketball&#x27;</span>]</span><br>    &#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><strong>åŒå‘æ•°æ®ç»‘å®šæ€è·¯ï¼š</strong></p>
<p>å‰æï¼šselectæ ‡ç­¾æœ‰multipleå±æ€§ã€‚</p>
<ol>
<li><p>æ¸²æŸ“æ—¶ï¼Œå¦‚æœoptionçš„valueåŒ…å«åœ¨v-modelç»‘å®šçš„æ•°ç»„å†…ï¼Œåˆ™è¯¥optionçš„selectedå±æ€§è®¾ç½®ä¸ºtrueï¼Œå¦‚<code>optionElem.selected = true</code>ã€‚</p>
</li>
<li><p>è®¾ç½®selectæ ‡ç­¾çš„changeäº‹ä»¶ç›‘å¬å™¨ï¼Œå“åº”å‡½æ•°çš„ä¸»è¦é€»è¾‘æ˜¯ï¼šéå†selectæ ‡ç­¾çš„optionsï¼Œå¦‚æœoptionçš„selectedå±æ€§ä¸ºtrueï¼Œå¦‚æœæ•°ç»„ä¸­æ²¡æœ‰è¯¥valueï¼Œåˆ™æ·»åŠ è¯¥valueï¼›</p>
<p>å¦‚æœoptionçš„selectedå±æ€§ä¸ºfalseï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰è¯¥valueï¼Œåˆ™åˆ é™¤è¯¥valueã€‚</p>
<blockquote>
<p>selectæ ‡ç­¾çš„optionså±æ€§å¯ä»¥è®¿é—®åˆ°æ‰€æœ‰å­optionï¼Œï¼Œå¦‚<code>selecElm.options</code>ï¼Œè¯¥å±æ€§å€¼ä¸ºä¸€ä¸ªä¼ªæ•°ç»„<code>HTMLOptionsCollection</code>ã€‚</p>
</blockquote>
</li>
</ol>
<h4 id="å€¼ç»‘å®š"><a href="#å€¼ç»‘å®š" class="headerlink" title="å€¼ç»‘å®š"></a>å€¼ç»‘å®š</h4><p><a target="_blank" rel="noopener" href="https://vue3js.cn/docs/zh/guide/forms.html#%E5%80%BC%E7%BB%91%E5%AE%9A">Vue3å®˜æ–¹æ–‡æ¡£-å€¼ç»‘å®š</a></p>
<h4 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h4><ol>
<li><p>lazyä¿®é¥°ç¬¦ï¼Œå¸¸ä¸input textæ ‡ç­¾ä½¿ç”¨</p>
<p>ä½œç”¨ï¼šè®©æ ‡ç­¾åœ¨å¤±å»ç„¦ç‚¹æˆ–åœ¨inputä¸­æ•²å›è½¦æ—¶æ‰æ›´æ–°æ•°æ®</p>
<p>ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œv-modelæ˜¯åœ¨inputäº‹ä»¶å‘ç”Ÿæ—¶ç«‹åˆ»æ›´æ–°æ•°æ®ï¼Œlazyå¯ä»¥å‡å°‘æ›´æ–°æ¬¡æ•°ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model.lazy</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ol>
<ol start="2">
<li><p>numberä¿®é¥°ç¬¦ï¼Œå¸¸ä¸input textæ ‡ç­¾ä½¿ç”¨</p>
<p>ä½œç”¨ï¼šè·å–input textæ ‡ç­¾å†…çš„valueï¼Œè½¬ä¸ºnumberç±»å‹åå†æ›´æ–°æ•°æ®ï¼Œå³v-modelç»‘å®šçš„æ•°æ®ä¼šæ˜¯numberç±»å‹</p>
<p>ï¼ˆinput textçš„valueæ°¸è¿œæ˜¯stringç±»å‹ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">&quot;marks&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ol>
<ol start="3">
<li><p>trimä¿®é¥°ç¬¦ï¼Œå¸¸ä¸input Textæ ‡ç­¾ä½¿ç”¨</p>
<p>ä½œç”¨ï¼šè·å–input textçš„valueï¼Œå»é™¤é¦–å°¾çš„ç©ºæ ¼åå†æ›´æ–°æ•°æ®ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model.trim</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>





</li>
</ol>
<h2 id="ç»„ä»¶åŒ–"><a href="#ç»„ä»¶åŒ–" class="headerlink" title="ç»„ä»¶åŒ–"></a>ç»„ä»¶åŒ–</h2><p><img src="/./image-20200817190948735.png" srcset="/img/loading.gif" alt="image-20200817190948735"></p>
<p><img src="/./image-20200818104015488.png" srcset="/img/loading.gif" alt="image-20200818104015488">  </p>
<h3 id="å…¨å±€ç»„ä»¶"><a href="#å…¨å±€ç»„ä»¶" class="headerlink" title="å…¨å±€ç»„ä»¶"></a>å…¨å±€ç»„ä»¶</h3><p><img src="/./image-20200818104048034.png" srcset="/img/loading.gif" alt="image-20200818104048034">  </p>
<p>å…¨å±€ç»„ä»¶å¯ä»¥åœ¨å¤šä¸ªä¸åŒçš„Vueå®ä¾‹ä¸­ä½¿ç”¨ã€‚ä½†<font color="red">Vueå®ä¾‹æ‰æ˜¯æ ¹ç»„ä»¶</font>ï¼Œå› ä¸ºå…¨å±€ç»„ä»¶å¿…é¡»åœ¨Vueå®ä¾‹ä¸­æ‰èƒ½ä½¿ç”¨ã€‚</p>
<ol>
<li><p><strong>è°ƒç”¨Vue.extend()æ–¹æ³•<font color="red">åˆ›å»ºç»„ä»¶æ„é€ å™¨</font></strong></p>
<p>ğŸ‘‡</p>
<ol start="2">
<li><strong>è°ƒç”¨Vue.component()æ–¹æ³•<font color="red">æ³¨å†Œç»„ä»¶</font></strong></li>
</ol>
<p>ğŸ‘‡</p>
<ol start="3">
<li><strong>åœ¨Vueå®ä¾‹æˆ–å…¶ä»–ç»„ä»¶å†…<font color="red">ä½¿ç”¨ç»„ä»¶</font></strong></li>
</ol>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--å…¨å±€ç»„ä»¶çš„demo--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>   <span class="hljs-comment">&lt;!--åœ¨Vueå®ä¾‹ä¸­ä½¿ç”¨å…¨å±€ç»„ä»¶--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>  <span class="hljs-comment">&lt;!--å†æ¬¡ä½¿ç”¨--&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>        <br><span class="javascript">        <span class="hljs-comment">//---------------------------------------------------------</span></span><br>        <br><span class="javascript"> 		<span class="hljs-comment">//åˆ›å»ºç»„ä»¶æ„é€ å™¨å¯¹è±¡</span></span><br>        <br><span class="javascript">        <span class="hljs-keyword">let</span> template=<span class="hljs-string">`</span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>P element<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="javascript">            &lt;<span class="hljs-regexp">/div&gt;   `;               /</span><span class="hljs-regexp">/åˆ›å»ºç»„ä»¶æ¨¡æ¿</span></span><br><span class="javascript">        <span class="hljs-keyword">let</span> option=&#123;                 <span class="hljs-comment">//åˆ›å»ºextendOptionså¯¹è±¡</span></span><br>            template:template<br>        &#125;<br><span class="javascript">        <span class="hljs-keyword">let</span> cpnC=Vue.extend(option);  <span class="hljs-comment">//ä¼ å…¥è¯¥å¯¹è±¡ï¼Œåˆ›å»ºç»„ä»¶æ„é€ å™¨</span></span><br>        <br><span class="javascript">        <span class="hljs-comment">//----------------------------------------------------------</span></span><br>        <br><span class="javascript">        <span class="hljs-comment">//æ³¨å†Œå…¨å±€ç»„ä»¶ï¼Œæ³¨å†Œåcpnæ ‡ç­¾å°±å¯ä»¥åœ¨vueçš„å®ä¾‹ä»¥åŠå„ä¸ªç»„ä»¶å†…ä½¿ç”¨äº†</span></span><br>        <br><span class="javascript">        Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>,cpnC);<span class="hljs-comment">//æ³¨å†Œå…¨å±€ç»„ä»¶ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»„ä»¶æ ‡ç­¾åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»„ä»¶æ„é€ å™¨</span></span><br>        <br><span class="javascript">        <span class="hljs-comment">//----------------------------------------------------------</span></span><br>        <br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span></span><br>        &#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html">  <span class="hljs-comment">&lt;!--æ³¨å†Œå…¨å±€ç»„ä»¶çš„ç®€å†™æ–¹å¼--&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">      <span class="hljs-keyword">let</span> template=<span class="hljs-string">`</span></span><br><span class="handlebars"><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">              <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> P element <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="javascript">          &lt;<span class="hljs-regexp">/div&gt;   `;               /</span><span class="hljs-regexp">/åˆ›å»ºç»„ä»¶æ¨¡æ¿</span></span><br><span class="javascript">      <span class="hljs-keyword">let</span> option=&#123;                 <span class="hljs-comment">//åˆ›å»ºextendOptionså¯¹è±¡</span></span><br>          template:template<br>      &#125;<br>      <br><span class="javascript">Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>,option); <span class="hljs-comment">//å°†extendOptionså¯¹è±¡ç›´æ¥ä¼ å…¥ï¼Œè€Œä¸æ˜¯ç»„ä»¶æ„é€ å™¨å¯¹è±¡</span></span><br>      <br>  <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br></code></pre></td></tr></table></figure>




<h3 id="å±€éƒ¨ç»„ä»¶"><a href="#å±€éƒ¨ç»„ä»¶" class="headerlink" title="å±€éƒ¨ç»„ä»¶"></a>å±€éƒ¨ç»„ä»¶</h3><ol>
<li><p>åˆ›å»ºæ¨¡æ¿</p>
<p>ğŸ‘‡</p>
</li>
<li><p>åˆ›å»ºextendOptionså¯¹è±¡</p>
<p>ğŸ‘‡</p>
</li>
<li><p>åœ¨Vueå®ä¾‹æˆ–çˆ¶ç»„ä»¶ä¸­æ³¨å†Œ</p>
<p>ğŸ‘‡</p>
</li>
<li><p>åœ¨Vueå®ä¾‹æˆ–çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--å±€éƒ¨ç»„ä»¶çš„demo--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>   <span class="hljs-comment">&lt;!--åœ¨Vueå®ä¾‹ä¸­ä½¿ç”¨å±€éƒ¨ç»„ä»¶--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>  <span class="hljs-comment">&lt;!--å†æ¬¡ä½¿ç”¨--&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> template=<span class="hljs-string">`</span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>P element<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="javascript">            &lt;<span class="hljs-regexp">/div&gt;   `;               /</span><span class="hljs-regexp">/åˆ›å»ºç»„ä»¶æ¨¡æ¿</span></span><br><span class="javascript">        <span class="hljs-keyword">let</span> option=&#123;                 <span class="hljs-comment">//åˆ›å»ºextendOptionså¯¹è±¡</span></span><br>            template:template<br>        &#125;;<br>        <br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span></span><br>            components:&#123;<br><span class="javascript">            	cpn:option            <span class="hljs-comment">//åœ¨componentså±æ€§ä¸­æ³¨å†Œç»„ä»¶</span></span><br>        	&#125;<br>        &#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>




<h3 id="çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶</h3><p><font color="red">å­ç»„ä»¶æœ¬è´¨ä¸Šå°±æ˜¯å±€éƒ¨ç»„ä»¶</font></p>
<p><font color="red">ç¥–å…ˆç»„ä»¶å’Œåä»£ç»„ä»¶ä¹‹é—´ä¸èƒ½è¶Šçº§ä½¿ç”¨ï¼Œé™¤éåä»£ç»„ä»¶åœ¨ç¥–å…ˆç»„ä»¶ä¸­æ³¨å†Œè¿‡</font></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">cpn1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn1</span>&gt;</span> <span class="hljs-comment">&lt;!--çˆ¶ç»„ä»¶çš„ä½¿ç”¨--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>    <br><span class="javascript">	<span class="hljs-comment">//åˆ›å»ºå­ç»„ä»¶çš„æ„é€ å™¨å¯¹è±¡</span></span><br><span class="javascript">	<span class="hljs-keyword">let</span> temp2=<span class="hljs-string">`</span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`;</span></span><br><span class="javascript">    <span class="hljs-keyword">let</span> cpn2=Vue.extend(&#123;</span><br>        template:temp2<br>    &#125;);<br>    <br><span class="javascript">	<span class="hljs-comment">//åˆ›å»ºå­ç»„ä»¶çš„æ„é€ å™¨å¯¹è±¡</span></span><br><span class="javascript">    <span class="hljs-keyword">let</span> temp1=<span class="hljs-string">`</span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">cpn2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn2</span>&gt;</span>  <span class="hljs-comment">&lt;!--å­ç»„ä»¶çš„ä½¿ç”¨--&gt;</span>  </span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>   `;        </span></span><br><span class="javascript">    <span class="hljs-keyword">let</span> cpn1=Vue.extend(&#123;</span><br>        template:temp1,<br>        components:&#123;<br>            cpn2<br>        &#125;<br>    &#125;);<br><br><br><span class="javascript">    <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>        components:&#123;<br><span class="javascript">            cpn1     <span class="hljs-comment">//æŒ‚è½½cpn1çˆ¶ç»„ä»¶</span></span><br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--ä½¿ç”¨ä¼ å…¥extendOptionsç›´æ¥æ³¨å†Œç»„ä»¶--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-keyword">let</span> cpn1=&#123;</span><br>        template:`<br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">cpn2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`,</span></span><br>        components:&#123;<br>            cpn2:&#123;<br>                template:`<br><span class="handlebars"><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`</span></span><br>            &#125;<br>        &#125;<br>    &#125;;<br>    <br><span class="javascript">    <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>        components:&#123;<br>            cpn1<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h3 id="æ¨¡æ¿çš„æŠ½ç¦»"><a href="#æ¨¡æ¿çš„æŠ½ç¦»" class="headerlink" title="æ¨¡æ¿çš„æŠ½ç¦»"></a>æ¨¡æ¿çš„æŠ½ç¦»</h3><ol>
<li><p>ç¬¬ä¸€ç§å†™æ³•</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/x-template&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp1&quot;</span>&gt;</span><br><span class="handlebars"><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç»„ä»¶çš„æ¨¡æ¿<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-comment">//æ³¨å†Œç»„ä»¶</span></span><br><span class="javascript">    Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>,&#123;</span><br><span class="javascript">        template:<span class="hljs-string">&#x27;#temp1&#x27;</span>    <span class="hljs-comment">//ä½¿ç”¨idé€‰æ‹©å™¨</span></span><br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ol>
<ol start="2">
<li><p>ç¬¬äºŒç§å†™æ³•</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp2&quot;</span>&gt;</span><br>    	<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç»„ä»¶çš„æ¨¡æ¿<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-comment">//æ³¨å†Œç»„ä»¶</span></span><br><span class="javascript">    Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>,&#123;</span><br><span class="javascript">        template:<span class="hljs-string">&#x27;#temp2&#x27;</span>    <span class="hljs-comment">//ä½¿ç”¨idé€‰æ‹©å™¨</span></span><br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="ç»„ä»¶çš„data"><a href="#ç»„ä»¶çš„data" class="headerlink" title="ç»„ä»¶çš„data"></a>ç»„ä»¶çš„data</h3><p>ç»„ä»¶æ‹¥æœ‰è‡ªå·±çš„æ•°æ®ï¼Œç»„ä»¶ä¸­<strong>ä¸èƒ½ç›´æ¥è®¿é—®</strong>çˆ¶çº§ç»„ä»¶ä»¥åŠå­ç»„ä»¶çš„æ•°æ®ã€‚</p>
<p>ç»„ä»¶çš„extendOptionsä¸­çš„dataå±æ€§çš„å±æ€§å€¼å¿…é¡»æ˜¯Functionï¼Œè¿™ä¸ªFunctionæ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«ç»„ä»¶è‡ªå·±çš„æ•°æ®ã€‚</p>
<p>ï¼ˆåˆ©ç”¨å·¥å‚å‡½æ•°çš„ç‰¹ç‚¹ï¼Œå³æ¯æ¬¡è¿”å›ä¸€ä¸ªæ–°çš„åŒ…å«æ•°æ®çš„å¯¹è±¡ï¼Œæ¥é˜²æ­¢ç›¸åŒç»„ä»¶æ•°æ®ç›¸äº’å¹²æ‰°ï¼‰</p>
<p><img src="/./image-20200818150856104.png" srcset="/img/loading.gif" alt="image-20200818150856104"> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-comment">//æ³¨å†Œç»„ä»¶</span></span><br><span class="javascript">        Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>, &#123;</span><br><span class="javascript">            template: <span class="hljs-string">&#x27;#temp2&#x27;</span>,   <span class="hljs-comment">//ä½¿ç”¨idé€‰æ‹©å™¨</span></span><br><span class="javascript">            data: <span class="hljs-function">() =&gt;</span> (&#123;  <span class="hljs-comment">//ç”¨å°æ‹¬å·æŠŠè¿”å›çš„å¯¹è±¡æ‰©èµ·æ¥ï¼Œé˜²æ­¢è§£ææˆä»£ç å—</span></span><br><span class="javascript">                message: <span class="hljs-string">&#x27;hello world&#x27;</span></span><br>            &#125;)<br>        &#125;)<br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>            data:&#123;<br><span class="javascript">                message:<span class="hljs-string">&#x27;hello Vue&#x27;</span></span><br>            &#125;<br>        &#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>




<h3 id="çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡-props-emit"><a href="#çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡-props-emit" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ props/$emit"></a>çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ props/$emit</h3><h4 id="props"><a href="#props" class="headerlink" title="props"></a>props</h4><p><strong>ä¸€ã€åŸºæœ¬ä½¿ç”¨</strong></p>
<p>å­ç»„ä»¶çš„propså±æ€§æŒ‚è½½é€šä¿¡å±æ€§ï¼Œçˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼Œåœ¨å­ç»„ä»¶æ ‡ç­¾ä¸­ä½¿ç”¨v-bindä¸ºé€šä¿¡å±æ€§ç»‘å®šçˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šä¿¡å±æ€§çš„åŒåå˜é‡å°±è·å–åˆ°äº†çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span> <span class="hljs-attr">:message-c</span>=<span class="hljs-string">&quot;message&quot;</span> <span class="hljs-attr">:today</span>=<span class="hljs-string">&quot;time&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>  <span class="hljs-comment">&lt;!--   é©¼å³°å‘½åæ³•â†’è¿å­—ç¬¦   --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;today&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;console.log(messageC)&quot;</span>&gt;</span>é€šä¿¡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-comment">//æ³¨å†Œç»„ä»¶</span></span><br><span class="javascript">    Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>, &#123;</span><br><span class="javascript">        template: <span class="hljs-string">&#x27;#temp&#x27;</span>,   <span class="hljs-comment">//ä½¿ç”¨idé€‰æ‹©å™¨</span></span><br><span class="javascript">        data: <span class="hljs-function">() =&gt;</span> (&#123;</span><br>            <br>        &#125;),<br><span class="javascript">        props:[<span class="hljs-string">&#x27;messageC&#x27;</span>,<span class="hljs-string">&#x27;today&#x27;</span>]</span><br>    &#125;)<br><span class="javascript">    <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>        data:&#123;<br><span class="javascript">            message:<span class="hljs-string">&#x27;hello Vue&#x27;</span>,</span><br><span class="javascript">            time:<span class="hljs-string">&#x27;2020-08-18&#x27;</span></span><br>        &#125;<br>    &#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><font color="red">ç”±äºdomæ ‡ç­¾ä¸­ä¸åŒºåˆ†å¤§å°å†™ï¼Œå½“propsæŒ‚è½½çš„é€šä¿¡å±æ€§åæœ‰å¤§å†™å­—æ¯æ—¶ï¼Œåº”æ³¨æ„ï¼š</font></p>
<ol>
<li><p>ä½¿ç”¨é©¼å³°å‘½åæ³•æ—¶ï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦å°å†™ï¼Œåé¢å•è¯é¦–å­—æ¯å¤§å†™ï¼‰ï¼Œv-bindç»‘å®šçš„ç»„ä»¶æ ‡ç­¾å±æ€§çš„å±æ€§åä½¿ç”¨<strong>è¿å­—ç¬¦å†™æ³•</strong>ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„demoä¸­ messageC   ,åœ¨ç»‘å®šè¯¥å±æ€§æ—¶ä½¿ç”¨äº†  v-bind:message-c ã€‚è‹¥å­ç»„ä»¶å±æ€§æ ‡ç­¾ä¸­ç»‘å®šâ€messageCâ€ï¼Œåˆ™é»˜è®¤ä¼ çš„é€šä¿¡å±æ€§å®é™…ä¸º â€œmessagecâ€ã€‚</p>
</li>
<li><p>è‹¥é€šä¿¡å±æ€§ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼Œåˆ™v-bindç»‘å®šçš„å­å…ƒç´ æ ‡ç­¾å±æ€§åç¬¬ä¸€ä¸ªå­—æ¯å¤§å°å†™éƒ½å¯ä»¥ã€‚</p>
</li>
</ol>
<p><u>å½’çº³ï¼šé€šä¿¡å±æ€§åç¬¬ä¸€ä¸ªå­—æ¯ä¸è¦å¤§å†™ï¼Œå°½é‡ä½¿ç”¨ä¸€ä¸ªå•è¯å‘½åé€šä¿¡å±æ€§ã€‚è‹¥ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œv-bindç»‘å®šæ—¶åœ¨å¤§å†™å­—æ¯å‰ä½¿ç”¨è¿å­—ç¬¦ã€‚</u></p>
<p><strong>äºŒã€å­ç»„ä»¶å®šä¹‰propsçš„å†™æ³•</strong></p>
<ol>
<li><p>æ•°ç»„å†™æ³•</p>
<p>ç”±äºæ•°ç»„å†™æ³•åŠŸèƒ½æ²¡æœ‰å¯¹è±¡å†™æ³•å¼ºå¤§ï¼Œæ‰€ä»¥è¾ƒå°‘ä½¿ç”¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">props:[&#x27;messageC&#x27;,&#x27;today&#x27;]<br></code></pre></td></tr></table></figure></li>
<li><p>å¯¹è±¡å†™æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æŒ‡å®šé€šä¿¡å±æ€§çš„ç±»å‹  type</span><br>props:&#123;<br>    messageC: <span class="hljs-built_in">String</span>,<br>    today: <span class="hljs-built_in">String</span>,<br>    age: <span class="hljs-built_in">Number</span>,<br>    books: [<span class="hljs-built_in">Array</span>, <span class="hljs-built_in">String</span>], <span class="hljs-comment">//æŒ‡å®šArrayæˆ–Stringç±»å‹</span><br>    owner: <span class="hljs-built_in">Object</span><br>&#125;<br><br><span class="hljs-comment">//æŒ‡å®šé»˜è®¤å€¼  default å½“æŒ‡å®šObjectä»¥åŠArrayç±»å‹çš„é»˜è®¤å€¼æ—¶ï¼Œdefaultåº”æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›é»˜è®¤å€¼</span><br><span class="hljs-comment">//è¦æƒ³å­ç»„ä»¶åœ¨ä¸€å¼€å§‹æ—¶ä½¿ç”¨defaultä¸­çš„é»˜è®¤å€¼ï¼Œåˆ™çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®åˆå§‹å€¼åº”ä¸ºundefinded</span><br>props:&#123;<br>    messageC:&#123;<br>        type: <span class="hljs-built_in">String</span>,<br>        <span class="hljs-keyword">default</span>: <span class="hljs-string">&#x27;hello wolrd&#x27;</span><br>    &#125;<br>    books:&#123;<br>        type: [<span class="hljs-built_in">Array</span>, <span class="hljs-built_in">String</span>]<br>        <span class="hljs-function"><span class="hljs-title">default</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-keyword">return</span> [];<br>        &#125;<br>    &#125;<br>    owner:&#123;<br>        type: <span class="hljs-built_in">Object</span>,<br>        <span class="hljs-function"><span class="hljs-title">default</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-keyword">return</span> &#123;&#125;;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æŒ‡å®šå¿…é¡»ä¼ å…¥ required</span><br>props:&#123;<br>    books:&#123;<br>        type: <span class="hljs-built_in">Array</span>,<br>        <span class="hljs-function"><span class="hljs-title">default</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-keyword">return</span> [];<br>        &#125;<br>        required: <span class="hljs-literal">true</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰éªŒè¯å‡½æ•° validator</span><br><br></code></pre></td></tr></table></figure>


</li>
</ol>
<p><strong>ä¸‰ã€çˆ¶çº§ç»„ä»¶å‘å­ç»„ä»¶propä¼ å…¥æ•°æ®</strong></p>
<p>å‡è®¾çˆ¶ç»„ä»¶Appå‘å­ç»„ä»¶ BlogPostçš„ä¼ å…¥æ•°æ®ã€‚</p>
<p>â–² <strong>ä¼ å…¥é™æ€æ•°æ®</strong>ï¼š</p>
<ol>
<li>```vue<br><blog-post :likes="42"></blog-post> ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªæ•°å­—<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br>2. ```html<br>   <span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;Hello world&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span> ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²<br>   <span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;&#x27;Hello world&#x27;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span> ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²<br></code></pre></td></tr></table></figure></li>
<li>```html<br><blog-post :is-published="false"></blog-post> ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><br><span class="hljs-number">4</span>. ```html<br>   &lt;blog-post <span class="hljs-symbol">:comment-ids=<span class="hljs-string">&quot;[234, 266, 273]&quot;</span>&gt;&lt;/blog-post&gt;</span> ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªæ•°ç»„<br></code></pre></td></tr></table></figure></li>
<li><pre><code class="html">&lt;blog-post
  :author=&quot;&#123;
    name: &#39;Veronica&#39;,
    company: &#39;Veridian Dynamics&#39;
  &#125;&quot;
&gt;&lt;/blog-post&gt; ğŸ‘ˆ ä¼ å…¥ä¸€ä¸ªå¯¹è±¡
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><br>&gt; å³ä¾¿ä¼ å…¥çš„æ˜¯ä¸€ä¸ªé™æ€æ•°æ®ï¼Œå½“è¿™ä¸ªæ•°æ®ä¸ºä¸€ä¸ª<span class="hljs-type">JS</span>å€¼æˆ–è¡¨è¾¾å¼æ—¶ï¼Œä»ç„¶éœ€è¦ä½¿ç”¨v-bindç»‘å®šè¯¥propåå†èµ‹å€¼ã€‚<br><br><br><br>â–² **ä¼ å…¥åŠ¨æ€æ•°æ®**ï¼š<br><br>æ‰€è°“ä¼ å…¥åŠ¨æ€æ•°æ®ï¼Œå°±æ˜¯å‘å­ç»„ä»¶propä¼ å…¥ä¸€ä¸ªçˆ¶ç»„ä»¶çš„å“åº”å¼æ•°æ®ï¼ˆ<span class="hljs-class"><span class="hljs-keyword">data</span>ã€propã€computedä¸­çš„å†…å®¹éƒ½å¯ä»¥ï¼‰ã€‚å†™æ³•ä¸Šå’Œä¼ å…¥é™æ€çš„<span class="hljs-type">JS</span>è¡¨è¾¾å¼å¹¶æ²¡æœ‰å¤ªå¤šåŒºåˆ«ï¼Œ**ä½†æœ‰ä¸€ç§ç®€ä¾¿çš„å†™æ³•ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå“åº”å¼å¯¹è±¡æ•°æ®çš„æ‰€æœ‰å±æ€§ï¼š**</span><br><br>```js<br><span class="hljs-class"><span class="hljs-keyword">data</span>() &#123;</span><br><span class="hljs-class">	<span class="hljs-title">return</span> &#123;</span><br><span class="hljs-class">        <span class="hljs-title">post</span>: &#123;</span><br><span class="hljs-class">            <span class="hljs-title">id</span>: 1,</span><br><span class="hljs-class">            <span class="hljs-title">title</span>: &#x27;<span class="hljs-type">My</span> <span class="hljs-type">Journey</span> <span class="hljs-title">with</span> <span class="hljs-type">Vue</span>&#x27;</span><br><span class="hljs-class">      &#125;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
ä¸‹é¢çš„æ¨¡æ¿ï¼š
</code></pre>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span> â­â­<br></code></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">v-bind:id</span>=<span class="hljs-string">&quot;post.id&quot;</span> <span class="hljs-attr">v-bind:title</span>=<span class="hljs-string">&quot;post.title&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p><strong>å››ã€å•å‘æ•°æ®æµ</strong></p>
<p>propså±æ€§æŒ‚è½½çš„é€šä¿¡å±æ€§ï¼ˆå˜é‡ï¼‰ï¼Œä»è®¾è®¡çš„åˆè¡·æ¥çœ‹ï¼Œåº”è¯¥æ˜¯åªè¯»å±æ€§ã€‚æ‰€ä»¥åœ¨ç»„ä»¶é‡Œé¿å…æœ‰ä»£ç å¯ä»¥ä¿®æ”¹é€šä¿¡å±æ€§çš„å€¼ã€‚</p>
<ul>
<li><p>å¦‚æœå­ç»„ä»¶å†…éœ€è¦ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ å…¥çš„propçš„å€¼ï¼Œåˆ™æœ€å¥½å®šä¹‰ä¸€ä¸ªæœ¬åœ°çš„ data propertyå¹¶å°†è¿™ä¸ªpropä½œä¸ºå…¶åˆå§‹å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">props: [<span class="hljs-string">&#x27;initialCounter&#x27;</span>],<br><span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    counter: <span class="hljs-built_in">this</span>.initialCounter<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>å¦‚æœprop ä»¥ä¸€ç§åŸå§‹çš„å€¼ä¼ å…¥ä¸”éœ€è¦è¿›è¡Œè½¬æ¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨è¿™ä¸ª prop çš„å€¼æ¥å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">props: [<span class="hljs-string">&#x27;size&#x27;</span>],<br>computed: &#123;<br>  normalizedSize: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.size.trim().toLowerCase()<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>éœ€è¦æ³¨æ„ï¼šåœ¨ JavaScript ä¸­å¯¹è±¡å’Œæ•°ç»„æ˜¯é€šè¿‡å¼•ç”¨ä¼ å…¥çš„ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ç±»å‹çš„ prop æ¥è¯´ï¼Œåœ¨å­ç»„ä»¶ä¸­æ”¹å˜å˜æ›´è¿™ä¸ªå¯¹è±¡æˆ–æ•°ç»„æœ¬èº«<strong>å°†ä¼š</strong>å½±å“åˆ°çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong>äº”ã€ç±»å‹æ£€æŸ¥</strong></p>
<p><code>type</code> å¯ä»¥æ˜¯ä¸‹åˆ—åŸç”Ÿæ„é€ å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼š</p>
<ul>
<li><code>String</code></li>
<li><code>Number</code></li>
<li><code>Boolean</code></li>
<li><code>Array</code></li>
<li><code>Object</code></li>
<li><code>Date</code></li>
<li><code>Function</code></li>
<li><code>Symbol</code></li>
</ul>
<blockquote>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä»»ä½•ç±»å‹çš„propä¼ å…¥<code>undefined</code>æˆ–<code>null</code>éƒ½èƒ½é€šè¿‡ç±»å‹æ£€æŸ¥ã€‚</p>
</blockquote>
<p>é¢å¤–çš„ï¼Œ<code>type</code> è¿˜å¯ä»¥æ˜¯ä¸€ä¸ª<strong>è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°</strong>ï¼Œå¹¶ä¸”é€šè¿‡ <code>instanceof</code> æ¥è¿›è¡Œæ£€æŸ¥ç¡®è®¤ï¼ŒéªŒè¯ <code>author</code> prop çš„å€¼æ˜¯å¦æ˜¯é€šè¿‡ <code>new Person</code> åˆ›å»ºçš„ã€‚ä¾‹å¦‚ï¼Œç»™å®šä¸‹åˆ—ç°æˆçš„æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span> (<span class="hljs-params">firstName, lastName</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.firstName = firstName<br>  <span class="hljs-built_in">this</span>.lastName = lastName<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<span class="hljs-string">&#x27;blog-post&#x27;</span>, &#123;<br>  props: &#123;<br>    author: Person<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<p><strong>å…­ã€propéªŒè¯å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è‡ªå®šä¹‰éªŒè¯å‡½æ•°</span><br>propF: &#123;<br>    validator: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>&#123;<br>        <span class="hljs-comment">// è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª</span><br>        <span class="hljs-keyword">return</span> [<span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-string">&#x27;warning&#x27;</span>, <span class="hljs-string">&#x27;danger&#x27;</span>].indexOf(value) !== -<span class="hljs-number">1</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>å½“ prop éªŒè¯å¤±è´¥çš„æ—¶å€™ï¼ˆvalidatorè¿”å›falseï¼‰ï¼Œ(å¼€å‘ç¯å¢ƒæ„å»ºç‰ˆæœ¬çš„) Vue å°†ä¼šäº§ç”Ÿä¸€ä¸ª**<font color="orange">æ§åˆ¶å°çš„è­¦å‘Š</font>**ã€‚ğŸ‘ˆ ä¸æ˜¯æŠ¥é”™ã€‚</p>
<h4 id="emit"><a href="#emit" class="headerlink" title="$emit"></a>$emit</h4><p><strong>ä¸€ã€åŸºæœ¬ä½¿ç”¨</strong></p>
<ol>
<li><p>å­ç»„ä»¶ç›‘å¬DOMäº‹ä»¶ï¼ˆå¦‚clickï¼‰ï¼Œåœ¨äº‹ä»¶å“åº”å‡½æ•°ä¸­å¤„ç†é€»è¾‘ï¼Œç„¶åé€šè¿‡<code>vm.$emit</code>å‘å°„è‡ªå®šä¹‰äº‹ä»¶å¹¶ä¼ å…¥é€šä¿¡æ•°æ®ã€‚</p>
</li>
<li><p>çˆ¶ç»„ä»¶åœ¨å­ç»„ä»¶çš„æ ‡ç­¾å†…ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶å¹¶æ¥æ”¶é€šä¿¡æ•°æ®ã€‚è‡ªå®šä¹‰äº‹ä»¶çš„å“åº”å‡½æ•°ä¸éœ€è¦ä¼ å‚ã€‚</p>
</li>
</ol>
<p>**äºŒã€å…³äºè‡ªå®šä¹‰äº‹ä»¶å‘½å â— **</p>
<p>ä¸åŒäºç»„ä»¶å’Œ propï¼Œäº‹ä»¶åä¸ä¼šè¢«ç”¨ä½œä¸€ä¸ª JavaScript å˜é‡åæˆ– property åï¼Œæ‰€ä»¥å°±æ²¡æœ‰ç†ç”±ä½¿ç”¨ camelCase æˆ– PascalCase äº†ã€‚å¹¶ä¸” <code>v-on</code> äº‹ä»¶ç›‘å¬å™¨åœ¨ DOM æ¨¡æ¿ä¸­ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå…¨å°å†™ (å› ä¸º HTML æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„)ã€‚</p>
<p><font color='red'>æ‰€ä»¥Vueæ¨èå§‹ç»ˆä½¿ç”¨ kebab-case (ä¸‹åˆ’çº¿æ ¼å¼)çš„äº‹ä»¶åã€‚</font></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span> @<span class="hljs-attr">click-li</span>=<span class="hljs-string">&quot;getClick&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span>  <span class="hljs-comment">&lt;!--  çˆ¶ç»„ä»¶ç›‘å¬å­ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶clickli   --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in categories&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;myClick(item.id,item.name)&quot;</span>&gt;</span> <span class="hljs-comment">&lt;!--äº‹ä»¶å“åº”å‡½æ•°--&gt;</span><br>            &#123;&#123;item.name&#125;&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    <span class="hljs-comment">//æ³¨å†Œç»„ä»¶</span></span><br><span class="javascript">    Vue.component(<span class="hljs-string">&#x27;cpn&#x27;</span>, &#123;</span><br><span class="javascript">        template: <span class="hljs-string">&#x27;#temp&#x27;</span>,</span><br><span class="javascript">        data: <span class="hljs-function">() =&gt;</span> (&#123;</span><br>            categories:[<br>                &#123;<br>                    id:1,<br><span class="javascript">                    name:<span class="hljs-string">&#x27;mz&#x27;</span></span><br>                &#125;,<br>                &#123;<br>                    id:2,<br><span class="javascript">                    name:<span class="hljs-string">&#x27;ley&#x27;</span></span><br>                &#125;<br>            ]<br>        &#125;),<br><span class="javascript">        <span class="hljs-comment">// ğŸ‘‡ å¯ä»¥æ˜¾å¼åœ°å®šä¹‰è¿™ä¸ªç»„ä»¶ä¼šå‘å¤–å‘å°„çš„äº‹ä»¶ï¼Œè¿™æ˜¯å¯é€‰çš„ã€‚</span></span><br><span class="javascript">        emits: [<span class="hljs-string">&#x27;clickli&#x27;</span>],</span><br>        methods:&#123;<br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">myClick</span>(<span class="hljs-params">id,name</span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;click-li&#x27;</span>,id,name);  <span class="hljs-comment">//å‘ç”Ÿè‡ªå®šä¹‰äº‹ä»¶ï¼Œè¿™é‡Œä¼ å…¥äº†ä¸¤ä¸ªé€šä¿¡æ•°æ®idå’Œnameã€‚</span></span><br>            &#125;<br>        &#125;<br>    &#125;)<br><span class="javascript">    <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>        data:&#123;<br><span class="javascript">            message:<span class="hljs-string">&#x27;hello Vue&#x27;</span>,</span><br><span class="javascript">            time:<span class="hljs-string">&#x27;2020-08-18&#x27;</span></span><br>        &#125;,<br>        methods:&#123;<br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">getClick</span>(<span class="hljs-params">id,name</span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(id,name);</span><br>            &#125;<br>        &#125;<br>        <br>    &#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p><strong>ä¸‰ã€$event</strong></p>
<p>å­ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶ä¸å­˜åœ¨äº‹ä»¶å¯¹è±¡ï¼Œä½†çˆ¶ç»„ä»¶ç›‘å¬å­ç»„ä»¶çš„äº‹ä»¶æ—¶ï¼Œä¹Ÿå¯ä»¥è®¿é—®$eventï¼Œè¯¥å‚æ•°çš„å€¼æ˜¯å­ç»„ä»¶å‘å°„äº‹ä»¶æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">cpn</span> @<span class="hljs-attr">clickli</span>=<span class="hljs-string">&quot;getClick, printEvent($event)&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>æ‰€ä»¥å¼ºçƒˆå»ºè®®åœ¨ä½¿ç”¨<code>vm.$emit(&#39;event-name&#39;)</code>æ—¶ï¼Œå¦‚æœéœ€è¦ä¼ é€’ä¿¡æ¯ç»™çˆ¶ç»„ä»¶ï¼Œå°½é‡ä½¿ç”¨ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœæœ‰å¤šä¸ªå‚æ•°è¦ä¼ é€’ï¼Œåˆ™å®œä½¿ç”¨<code>payload</code>å¯¹è±¡çš„å½¢å¼ï¼Œå°†æ‰€æœ‰å‚æ•°ç”±ä¸€ä¸ªå¯¹è±¡è¿”å›ï¼š<code>vm.$emit(&#39;event-name&#39;, &#123;...&#125;)</code>ã€‚</p>
<h3 id="æ¡ˆä¾‹3"><a href="#æ¡ˆä¾‹3" class="headerlink" title="æ¡ˆä¾‹3"></a>æ¡ˆä¾‹3</h3><p>å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„åŒå‘é€šä¿¡ã€‚</p>
<p>åœ¨çˆ¶ç»„ä»¶çš„è¾“å…¥æ¡†è¾“å…¥è¦ä¼ é€’çš„æ•°æ®ï¼Œåœ¨å­ç»„ä»¶çš„æ–‡æœ¬æ¡†æ˜¾ç¤ºã€‚</p>
<p>åœ¨å­ç»„ä»¶çš„è¾“å…¥æ¡†è¾“å…¥è¦ä¼ é€’çš„æ•°æ®ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ–‡æœ¬æ¡†æ˜¾ç¤ºã€‚</p>
<p>åœ¨å­ç»„ä»¶çš„watchå±æ€§ä¸­å®šä¹‰è¦ç›‘å¬çš„æ•°æ®çš„åŒåå‡½æ•°ï¼Œä»¥ç›‘å¬å­ç»„ä»¶æ•°æ®çš„å˜åŒ–ï¼Œå¹¶å‘é€ç»™çˆ¶ç»„ä»¶ã€‚</p>
<p><img src="/./image-20200819181030339.png" srcset="/img/loading.gif" alt="image-20200819181030339"> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            å‘å­ä¼ é€’è¾“å…¥æ¡†ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;today&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            å­ç»„ä»¶ä¼ æ¥çš„æ•°æ®ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">readonly</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;ctoday&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cpn</span> <span class="hljs-attr">:today</span>=<span class="hljs-string">&quot;today&quot;</span> @<span class="hljs-attr">cinput</span>=<span class="hljs-string">&quot;getCtoday&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cpn</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;temp&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>                å‘çˆ¶ä¼ é€’è¾“å…¥æ¡†ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model.lazy</span>=<span class="hljs-string">&quot;inputDate&quot;</span>&gt;</span> <span class="hljs-comment">&lt;!--æ‡’ç›‘å¬--&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">readonly</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;today&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            el:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br>            data:&#123;<br><span class="javascript">                today:<span class="hljs-string">&#x27;2020-08-19&#x27;</span>,</span><br><span class="javascript">                ctoday:<span class="hljs-string">&#x27;&#x27;</span>,</span><br>            &#125;,<br>            methods:&#123;<br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">getCtoday</span>(<span class="hljs-params">value</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.ctoday=value;</span><br>                &#125;<br>            &#125;,<br>            components:&#123;<br>                cpn:&#123;<br><span class="javascript">                    template:<span class="hljs-string">&#x27;#temp&#x27;</span>,</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                        <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                            inputDate:<span class="hljs-string">&#x27;&#x27;</span></span><br>                        &#125;<br>                    &#125;,<br>                    props:&#123;<br>                        today:&#123;<br><span class="javascript">                            type:<span class="hljs-built_in">String</span></span><br>                        &#125;<br>                    &#125;,<br>                    watch:&#123;<br><span class="javascript">                        <span class="hljs-comment">//åœ¨watchä¸­å®šä¹‰inputDateçš„åŒåå‡½æ•°ï¼Œç›‘å¬è¯¥æ•°æ®çš„å˜åŒ–ï¼Œå¤„ç†é€»è¾‘</span></span><br><span class="javascript">                        <span class="hljs-function"><span class="hljs-title">inputDate</span>(<span class="hljs-params">newValue,oldValue</span>)</span>&#123; </span><br><span class="javascript">                            <span class="hljs-built_in">console</span>.log(oldValue,<span class="hljs-string">&#x27;=&gt;&#x27;</span>,newValue);</span><br><span class="javascript">                            <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;cinput&#x27;</span>,newValue);</span><br>                        &#125;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h3 id="çˆ¶å­ç»„ä»¶é—´çš„åŒå‘æ•°æ®ç»‘å®š"><a href="#çˆ¶å­ç»„ä»¶é—´çš„åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="çˆ¶å­ç»„ä»¶é—´çš„åŒå‘æ•°æ®ç»‘å®š"></a>çˆ¶å­ç»„ä»¶é—´çš„åŒå‘æ•°æ®ç»‘å®š</h3><h4 id="ç»„ä»¶çš„v-model"><a href="#ç»„ä»¶çš„v-model" class="headerlink" title="ç»„ä»¶çš„v-model"></a>ç»„ä»¶çš„v-model</h4><p>ç»„ä»¶çš„å“åº”å¼æ•°æ®å¯ä»¥å’ŒåŸç”Ÿçš„DOMæ ‡ç­¾ï¼ˆå¦‚input:text, checkboxç­‰ï¼‰å‘é€åŒå‘æ•°æ®ç»‘å®šã€‚</p>
<p>è€ŒVueæä¾›äº†ä¸€ç§æ›´åŠ å¼ºå¤§çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿè®©çˆ¶çº§ç»„ä»¶çš„å“åº”å¼æ•°æ®å’Œå­ç»„ä»¶çš„propå‘ç”ŸåŒå‘æ•°æ®ç»‘å®šï¼Œä½†è¿™éœ€è¦çˆ¶çº§ç»„ä»¶å’Œå­çº§ç»„ä»¶ä¹‹é—´çš„é…åˆæ¥å®ç°ã€‚</p>
<blockquote>
<p>å…¶å®è¿™æ²¡æœ‰ä»€ä¹ˆç¥å¥‡çš„åœ°æ–¹ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å·²çŸ¥çš„å†…å®¹æ¥å®ç°ï¼š</p>
<ol>
<li>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„propä¼ å…¥æ•°æ®ã€‚</li>
<li>å½“å­ç»„ä»¶éœ€è¦æ”¹å˜propçš„å€¼ä»è€Œä¸çˆ¶çº§ç»„ä»¶äº§ç”Ÿè”ç³»æ—¶ï¼Œä¸ç›´æ¥ä¿®æ”¹propï¼Œè€Œé€šè¿‡å‘å‡ºä¸€ä¸ªç‰¹æ®Šåå­—çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œæé†’çˆ¶çº§ç»„ä»¶æ›´æ–°æ•°æ®ã€‚</li>
<li>çˆ¶ç»„ä»¶æ”¶åˆ°å­ç»„ä»¶çš„æ›´æ–°æé†’ï¼Œæ›´æ–°é‚£ä¸ªç»‘å®šåˆ°å­ç»„ä»¶propçš„æ•°æ®ã€‚</li>
</ol>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84-v-model">Vue2 è‡ªå®šä¹‰ç»„ä»¶çš„v-model</a></p>
<p><strong>ä¾‹å­ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- å®šä¹‰å­ç»„ä»¶ --&gt;<br>&lt;template&gt;<br>  &lt;div class&#x3D;&quot;hello&quot;&gt;<br>    &lt;button @click&#x3D;&quot;buttonClick&quot; &gt;è§¦å‘è‡ªå®šä¹‰äº‹ä»¶&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &#39;HelloWorld&#39;,<br>  &#x2F;* â­ model option *&#x2F;  <br>  model: &#123;  <br>    prop: &#39;childDate&#39;, &#x2F;&#x2F; ğŸ‘ˆ æ˜¾ç¤ºåœ°å®šä¹‰v-modelç»‘å®šåˆ°çš„propå<br>    event: &#39;change&#39;, &#x2F;&#x2F; ğŸ‘ˆ æ›´æ–°è¯¥propçš„è‡ªå®šä¹‰äº‹ä»¶å<br>  &#125;,<br>  &#x2F;* â­ props option é…åˆmodel optionä¸­çš„prop *&#x2F;  <br>  props: &#123;<br>    childDate: Date, &#x2F;&#x2F; ğŸ‘ˆ å¿…é¡»åœ¨propsä¸­å®šä¹‰åœ¨modelä¸­è§„å®šçš„propName<br>  &#125;,<br>  methods: &#123;<br>    buttonClick() &#123;<br>      this.$emit(&#39;change&#39;, new Date()); &#x2F;&#x2F; ğŸ‘ˆ è§¦å‘è‡ªå®šä¹‰äº‹ä»¶changeï¼Œå‘ŠçŸ¥çˆ¶ç»„ä»¶æ›´æ–°v-modelç»‘å®šåˆ°çš„å€¼<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;!-- å®šä¹‰çˆ¶ç»„ä»¶ --&gt;<br>&lt;template&gt;<br>  &lt;div class&#x3D;&quot;&quot; id&#x3D;&quot;app&quot;&gt;<br>    &lt;img alt&#x3D;&quot;Vue logo&quot; src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;<br>    &lt;p&gt;æ—¥æœŸ &#123;&#123; date &#125;&#125;&lt;&#x2F;p&gt;<br>    &lt;HelloWorld v-model&#x3D;&quot;date&quot;&#x2F;&gt; ğŸ‘ˆ &lt;!-- ä¸€æ—¦å­ç»„ä»¶è§¦å‘äº†change eventï¼Œåˆ™çˆ¶çº§ç»„ä»¶æ›´æ–°dateçš„å€¼ --&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import HelloWorld from &#39;.&#x2F;components&#x2F;HelloWorld.vue&#39;;<br><br>export default &#123;<br>  name: &#39;App&#39;,<br>  components: &#123;<br>    HelloWorld,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      date: new Date(),<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>â— <strong>å¦‚æœå­ç»„ä»¶ä¸å®šä¹‰model optionï¼š</strong><br>         1. model.propé»˜è®¤ä¸º â€˜valueâ€™<br>         2. model.eventé»˜è®¤ä¸º â€˜inputâ€™</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- ä¸è®¾ç½®modelçš„å­ç»„ä»¶ï¼ŒåŒæ ·å¯ä»¥å…·å¤‡æ›´æ–°çˆ¶çº§ç»„ä»¶v-modelæ•°æ®çš„åŠŸèƒ½ --&gt;<br>&lt;template&gt;<br>  &lt;div class&#x3D;&quot;hello&quot;&gt;<br>    &lt;button @click&#x3D;&quot;buttonClick&quot; &gt;è§¦å‘è‡ªå®šä¹‰äº‹ä»¶&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &#39;HelloWorld&#39;,<br>  props: &#123;<br>    value: Date,<br>  &#125;,<br>  methods: &#123;<br>    buttonClick() &#123;<br>      this.$emit(&#39;input&#39;, new Date()); &#x2F;&#x2F; ğŸ‘ˆ å‘å‡ºinputäº‹ä»¶ï¼Œå¹¶ä¸”ä¼ å›ä¸€ä¸ªpayload( new Date )<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;!-- å®šä¹‰çˆ¶ç»„ä»¶ --&gt;<br>&lt;template&gt;<br>  &lt;div class&#x3D;&quot;&quot; id&#x3D;&quot;app&quot;&gt;<br>    &lt;img alt&#x3D;&quot;Vue logo&quot; src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;<br>    &lt;p&gt;æ—¥æœŸ &#123;&#123; date &#125;&#125;&lt;&#x2F;p&gt;<br>    &lt;HelloWorld v-model&#x3D;&quot;date&quot;&#x2F;&gt; ğŸ‘ˆ &lt;!--ä¸€æ—¦å­ç»„ä»¶è§¦å‘äº†input eventï¼Œåˆ™çˆ¶çº§ç»„ä»¶æ›´æ–°dateçš„å€¼ä¸ºpayload --&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import HelloWorld from &#39;.&#x2F;components&#x2F;HelloWorld.vue&#39;;<br><br>export default &#123;<br>  name: &#39;App&#39;,<br>  components: &#123;<br>    HelloWorld,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      date: new Date(),<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>




<h4 id="sync-ä¿®é¥°ç¬¦"><a href="#sync-ä¿®é¥°ç¬¦" class="headerlink" title=".sync ä¿®é¥°ç¬¦"></a>.sync ä¿®é¥°ç¬¦</h4><p>ğŸ‘†<font color='red'> åœ¨Vue2ä¸­å¼ºçƒˆ æ¨èä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨v-modelï¼Œå¯ä»¥ç”¨äºå¼€å‘åŸºç¡€ç»„ä»¶</font>ã€‚</p>
<p>åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹ä¸€ä¸ª prop è¿›è¡Œâ€œåŒå‘ç»‘å®šâ€ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒçœŸæ­£çš„åŒå‘ç»‘å®šä¼šå¸¦æ¥ç»´æŠ¤ä¸Šçš„é—®é¢˜ï¼Œå› ä¸ºå­ç»„ä»¶å¯ä»¥å˜æ›´çˆ¶ç»„ä»¶ï¼Œä¸”åœ¨çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶éƒ½æ²¡æœ‰æ˜æ˜¾çš„å˜æ›´æ¥æºã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ¨èä»¥ <code>update:myPropName</code> çš„æ¨¡å¼è§¦å‘äº‹ä»¶å–è€Œä»£ä¹‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªåŒ…å« <code>title</code> prop çš„å‡è®¾çš„ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•è¡¨è¾¾å¯¹å…¶èµ‹æ–°å€¼çš„æ„å›¾ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;update:title&#x27;</span>, newTitle)<br></code></pre></td></tr></table></figure>
<p>ç„¶åçˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬é‚£ä¸ªäº‹ä»¶å¹¶æ ¹æ®éœ€è¦æ›´æ–°ä¸€ä¸ªæœ¬åœ°çš„æ•°æ® propertyã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;text-document<br>  v-bind:title&#x3D;&quot;doc.title&quot;<br>  v-on:update:title&#x3D;&quot;doc.title &#x3D; $event&quot;<br>&gt;&lt;&#x2F;text-document&gt;<br></code></pre></td></tr></table></figure>


<p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬ä¸ºè¿™ç§æ¨¡å¼æä¾›ä¸€ä¸ªç¼©å†™ï¼Œå³ <code>.sync</code> ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;text-document v-bind:title.sync&#x3D;&quot;doc.title&quot;&gt;&lt;&#x2F;text-document&gt;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„å¸¦æœ‰ <code>.sync</code> ä¿®é¥°ç¬¦çš„ <code>v-bind</code> <strong>ä¸èƒ½</strong>å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ (ä¾‹å¦‚ <code>v-bind:title.sync=â€doc.title + â€˜!â€™â€</code> æ˜¯æ— æ•ˆçš„)ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ åªèƒ½æä¾›ä½ æƒ³è¦ç»‘å®šçš„ property åï¼Œç±»ä¼¼ <code>v-model</code>ã€‚</p>
</blockquote>
<p>å½“æˆ‘ä»¬ç”¨ä¸€ä¸ªå¯¹è±¡åŒæ—¶è®¾ç½®å¤šä¸ª prop çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å°†è¿™ä¸ª <code>.sync</code> ä¿®é¥°ç¬¦å’Œ <code>v-bind</code> é…åˆä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;text-document v-bind.sync&#x3D;&quot;doc&quot;&gt;&lt;&#x2F;text-document&gt;<br></code></pre></td></tr></table></figure>
<p>è¿™æ ·ä¼šæŠŠ <code>doc</code> å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ª property (å¦‚ <code>title</code>) éƒ½ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ prop ä¼ è¿›å»ï¼Œç„¶åå„è‡ªæ·»åŠ ç”¨äºæ›´æ–°çš„ <code>v-on</code> ç›‘å¬å™¨ã€‚</p>
<blockquote>
<p>å°† <code>v-bind.sync</code> ç”¨åœ¨ä¸€ä¸ªå­—é¢é‡çš„å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚ <code>v-bind.sync=â€&#123; title: doc.title &#125;â€</code>ï¼Œæ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ï¼Œå› ä¸ºåœ¨è§£æä¸€ä¸ªåƒè¿™æ ·çš„å¤æ‚è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šè¾¹ç¼˜æƒ…å†µéœ€è¦è€ƒè™‘ã€‚</p>
</blockquote>
<h4 id="Vue3çš„æ”¹å˜"><a href="#Vue3çš„æ”¹å˜" class="headerlink" title="Vue3çš„æ”¹å˜"></a>Vue3çš„æ”¹å˜</h4><p><strong>1.</strong> <strong>æ”¯æŒå¯¹è‡ªå®šä¹‰äº‹ä»¶çš„payloadè¿›è¡ŒéªŒè¯</strong></p>
<p>ä¸ prop ç±»å‹éªŒè¯ç±»ä¼¼ï¼Œå¦‚æœä½¿ç”¨å¯¹è±¡è¯­æ³•è€Œä¸æ˜¯æ•°ç»„è¯­æ³•å®šä¹‰å‘å‡ºçš„äº‹ä»¶ï¼Œåˆ™å¯ä»¥éªŒè¯å®ƒã€‚</p>
<p>è¦æ·»åŠ éªŒè¯ï¼Œå°†ä¸ºäº‹ä»¶åˆ†é…ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¼ é€’ç»™ <code>$emit</code> è°ƒç”¨çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ä»¥æŒ‡ç¤ºäº‹ä»¶æ˜¯å¦æœ‰æ•ˆã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js">app.component(<span class="hljs-string">&#x27;custom-form&#x27;</span>, &#123;<br>  emits: &#123;<br>    <span class="hljs-comment">// æ²¡æœ‰éªŒè¯</span><br>    click: <span class="hljs-literal">null</span>,<br><br>    <span class="hljs-comment">// éªŒè¯submit äº‹ä»¶</span><br>    submit: <span class="hljs-function">(<span class="hljs-params">&#123; email, password &#125;</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (email &amp;&amp; password) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">&#x27;Invalid submit event payload!&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>      &#125;<br>    &#125;<br>  &#125;,<br>  methods: &#123;<br>    <span class="hljs-function"><span class="hljs-title">submitForm</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;submit&#x27;</span>, &#123; email, password &#125;)<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<p><strong>2. é»˜è®¤çš„v-model prop å’Œ eventå‘ç”Ÿæ”¹å˜</strong></p>
<p>åœ¨Vue2ä¸­å¯ä»¥å®šä¹‰å­ç»„ä»¶çš„<code>model option</code>ï¼Œè§„å®šå½“çˆ¶çº§ç»„ä»¶ä½¿ç”¨åœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤æ—¶çš„è¡Œä¸ºã€‚</p>
<p>Vue2ä¸­é»˜è®¤çš„<code>model option</code>è®¾ç½®æ˜¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">model: &#123;<br>    prop: <span class="hljs-string">&#x27;value&#x27;</span>,<br>    event: <span class="hljs-string">&#x27;input&#x27;</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è€ŒVue3ä¸­â€è§„å®šâ€œäº†<code>model option</code>çš„è®¾ç½®æ˜¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">model: &#123;<br>    prop: <span class="hljs-string">&#x27;modelValue&#x27;</span>,<br>    event: <span class="hljs-string">&#x27;update:modelValue&#x27;</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åŒæ—¶ï¼š</p>
<ol>
<li>Vue3ä¸­å®šä¹‰<code>model option</code>ä¸å†èµ·æ•ˆæœã€‚</li>
<li>å­ç»„ä»¶å‘å‡º<code>$emit(&#39;update:modelValue&#39;, payload)</code>æˆä¸ºçˆ¶å­ç»„ä»¶ä¹‹é—´çš„åŒå‘æ•°æ®ç»‘å®šçš„é»˜è®¤æ–¹å¼ã€‚</li>
<li><code>modelValue</code>æˆä¸ºå­ç»„ä»¶çš„åŠŸèƒ½å‹propï¼Œä¸æ˜¯éšå«çš„ï¼Œå¦‚æœéœ€è¦v-modelåŠŸèƒ½æ—¶ï¼Œä¹Ÿå¿…é¡»åœ¨propsä¸­å®šä¹‰ã€‚</li>
</ol>
<p><strong>3.</strong> <strong>ç»„ä»¶æ ‡ç­¾ä¸Šçš„v-modelè¯­æ³•çš„å¢å¼ºï¼Œæ›¿ä»£ .sync ä¿®é¥°ç¬¦</strong></p>
<p><font color='red'>Vue3ä¸­å·²ç»ä¸å†ä½¿ç”¨.syncä¿®é¥°ç¬¦ã€‚</font></p>
<p>ç°åœ¨å¯ä»¥ä½¿ç”¨<code>v-model:prop=&quot;fatherData&quot;</code>è¯­æ³•ä»£æ›¿<code>:propName.sync=&quot;fatherData&quot;</code>è¯­æ³•ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨å•ä¸ªç»„ä»¶å®ä¾‹ä¸Šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ª v-model ç»‘å®šã€‚</p>
<p>æ¯ä¸ª v-model å°†åŒæ­¥åˆ°ä¸åŒçš„ propï¼Œè€Œä¸éœ€è¦åœ¨ç»„ä»¶ä¸­æ·»åŠ é¢å¤–çš„é€‰é¡¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;user-name<br>  v-model:first-name=&quot;firstName&quot;<br>  v-model:last-name=&quot;lastName&quot;<br>&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">user-name</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> app = Vue.createApp(&#123;&#125;)<br><br>app.component(<span class="hljs-string">&#x27;user-name&#x27;</span>, &#123;<br>  props: &#123;<br>    firstName: <span class="hljs-built_in">String</span>,<br>    lastName: <span class="hljs-built_in">String</span><br>  &#125;,<br>  template: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;input </span><br><span class="hljs-string">      type=&quot;text&quot;</span><br><span class="hljs-string">      :value=&quot;firstName&quot;</span><br><span class="hljs-string">      @input=&quot;$emit(&#x27;update:firstName&#x27;, $event.target.value)&quot;&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &lt;input</span><br><span class="hljs-string">      type=&quot;text&quot;</span><br><span class="hljs-string">      :value=&quot;lastName&quot;</span><br><span class="hljs-string">      @input=&quot;$emit(&#x27;update:lastName&#x27;, $event.target.value)&quot;&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br></code></pre></td></tr></table></figure>



<h3 id="é-Prop-çš„-Attribute"><a href="#é-Prop-çš„-Attribute" class="headerlink" title="é Prop çš„ Attribute"></a>é Prop çš„ Attribute</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>ä¸€ä¸ªé prop çš„ attribute æ˜¯æŒ‡ä¼ å‘ä¸€ä¸ªå­ç»„ä»¶ï¼Œä½†æ˜¯è¯¥å­ç»„ä»¶<strong>å¹¶æ²¡æœ‰ç›¸åº” prop å®šä¹‰çš„ attribute</strong>ã€‚</p>
<p>å› ä¸ºæ˜¾å¼å®šä¹‰çš„ prop é€‚ç”¨äºå‘ä¸€ä¸ªå­ç»„ä»¶ä¼ å…¥ä¿¡æ¯ï¼Œç„¶è€Œç»„ä»¶åº“çš„ä½œè€…å¹¶ä¸æ€»èƒ½é¢„è§ç»„ä»¶ä¼šè¢«ç”¨äºæ€æ ·çš„åœºæ™¯ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç»„ä»¶å¯ä»¥æ¥å—ä»»æ„çš„ attributeï¼Œ<strong>è€Œè¿™äº› attribute ä¼šè¢«æ·»åŠ åˆ°è¿™ä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ é€šè¿‡ä¸€ä¸ª Bootstrap æ’ä»¶ä½¿ç”¨äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ <code>&lt;bootstrap-date-input&gt;</code> ç»„ä»¶ï¼Œè¿™ä¸ªæ’ä»¶éœ€è¦åœ¨å…¶ <code>&lt;input&gt;</code> ä¸Šç”¨åˆ°ä¸€ä¸ª <code>data-date-picker</code> attributeã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ª attribute æ·»åŠ åˆ°ä½ çš„ç»„ä»¶å®ä¾‹ä¸Šï¼š</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lua">&lt;bootstrap-<span class="hljs-built_in">date</span>-<span class="hljs-built_in">input</span> data-<span class="hljs-built_in">date</span>-picker=<span class="hljs-string">&quot;activated&quot;</span>&gt;&lt;/bootstrap-<span class="hljs-built_in">date</span>-<span class="hljs-built_in">input</span>&gt;<br></code></pre></td></tr></table></figure>
<p>ç„¶åè¿™ä¸ª <code>data-date-picker=&quot;activated&quot;</code> attribute å°±ä¼šè‡ªåŠ¨æ·»åŠ åˆ° <code>&lt;bootstrap-date-input&gt;</code> çš„æ ¹å…ƒç´ ä¸Šã€‚</p>
<h4 id="æ›¿æ¢-åˆå¹¶æ ¹æ ‡ç­¾å·²æœ‰çš„Attribute"><a href="#æ›¿æ¢-åˆå¹¶æ ¹æ ‡ç­¾å·²æœ‰çš„Attribute" class="headerlink" title="æ›¿æ¢ / åˆå¹¶æ ¹æ ‡ç­¾å·²æœ‰çš„Attribute"></a>æ›¿æ¢ / åˆå¹¶æ ¹æ ‡ç­¾å·²æœ‰çš„Attribute</h4><p>æƒ³è±¡ä¸€ä¸‹ <code>&lt;bootstrap-date-input&gt;</code> çš„æ¨¡æ¿æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scala">&lt;input <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">&quot;date&quot;</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;form-control&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<p>ä¸ºäº†ç»™æˆ‘ä»¬çš„æ—¥æœŸé€‰æ‹©å™¨æ’ä»¶å®šåˆ¶ä¸€ä¸ªä¸»é¢˜ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åƒè¿™æ ·æ·»åŠ ä¸€ä¸ªç‰¹åˆ«çš„ç±»åï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;bootstrap-<span class="hljs-type">date</span>-<span class="hljs-keyword">input</span><br>  data-<span class="hljs-type">date</span>-picker=&quot;activated&quot;<br>  <span class="hljs-keyword">class</span>=&quot;date-picker-theme-dark&quot;<br>&gt;&lt;/bootstrap-<span class="hljs-type">date</span>-<span class="hljs-keyword">input</span>&gt;<br></code></pre></td></tr></table></figure>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„ <code>class</code> çš„å€¼ï¼š</p>
<ul>
<li><code>form-control</code>ï¼Œè¿™æ˜¯åœ¨ç»„ä»¶çš„æ¨¡æ¿å†…è®¾ç½®å¥½çš„</li>
<li><code>date-picker-theme-dark</code>ï¼Œè¿™æ˜¯ä»ç»„ä»¶çš„çˆ¶çº§ä¼ å…¥çš„</li>
</ul>
<p><strong>å¯¹äºç»å¤§å¤šæ•° attribute æ¥è¯´</strong>ï¼Œä»å¤–éƒ¨æä¾›ç»™ç»„ä»¶çš„å€¼ä¼šæ›¿æ¢æ‰ç»„ä»¶å†…éƒ¨è®¾ç½®å¥½çš„å€¼ã€‚æ‰€ä»¥å¦‚æœä¼ å…¥ <code>type=&quot;text&quot;</code> å°±ä¼šæ›¿æ¢æ‰ <code>type=&quot;date&quot;</code> å¹¶æŠŠå®ƒç ´åï¼</p>
<p><strong>åº†å¹¸çš„æ˜¯ï¼Œ<code>class</code> å’Œ <code>style</code> attribute ä¼šç¨å¾®æ™ºèƒ½ä¸€äº›ï¼Œ</strong>å³ä¸¤è¾¹çš„å€¼ä¼šè¢«åˆå¹¶èµ·æ¥ï¼Œä»è€Œå¾—åˆ°æœ€ç»ˆçš„å€¼ï¼š<code>form-control date-picker-theme-dark</code>ã€‚</p>
<h4 id="ç¦ç”¨attributeç»§æ‰¿"><a href="#ç¦ç”¨attributeç»§æ‰¿" class="headerlink" title="ç¦ç”¨attributeç»§æ‰¿"></a>ç¦ç”¨attributeç»§æ‰¿</h4><p>å¦‚æœä½ <strong>ä¸</strong>å¸Œæœ›ç»„ä»¶çš„æ ¹å…ƒç´ ç»§æ‰¿ attributeï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­è®¾ç½® <code>inheritAttrs: false</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<span class="hljs-string">&#x27;my-component&#x27;</span>, &#123;<br>  inheritAttrs: <span class="hljs-literal">false</span>,<br>  <span class="hljs-comment">// ...</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>è¿™å°¤å…¶é€‚åˆé…åˆå®ä¾‹çš„ <code>$attrs</code> property ä½¿ç”¨ï¼Œè¯¥ property åŒ…å«äº†ä¼ é€’ç»™ä¸€ä¸ªç»„ä»¶çš„ attribute åå’Œ attribute å€¼ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>  required: <span class="hljs-literal">true</span>,<br>  placeholder: <span class="hljs-string">&#x27;Enter your username&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>æœ‰äº† <code>inheritAttrs: false</code> å’Œ <code>$attrs</code>ï¼Œä½ å°±å¯ä»¥æ‰‹åŠ¨å†³å®šè¿™äº› attribute ä¼šè¢«èµ‹äºˆå“ªä¸ªå…ƒç´ ã€‚åœ¨æ’°å†™<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/#%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6%E5%90%8D-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90">åŸºç¡€ç»„ä»¶</a>çš„æ—¶å€™æ˜¯å¸¸ä¼šç”¨åˆ°çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<span class="hljs-string">&#x27;base-input&#x27;</span>, &#123;<br>  inheritAttrs: <span class="hljs-literal">false</span>,<br>  props: [<span class="hljs-string">&#x27;label&#x27;</span>, <span class="hljs-string">&#x27;value&#x27;</span>],<br>  template: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;label&gt;</span><br><span class="hljs-string">      &#123;&#123; label &#125;&#125;</span><br><span class="hljs-string">      &lt;input</span><br><span class="hljs-string">        v-bind=&quot;$attrs&quot;              ğŸ‘ˆ $attrsä¸­æ‰€æœ‰çš„å±æ€§éƒ½ä¼šè¢«ç»‘å®šåˆ°è¯¥æ ‡ç­¾ä¸Š</span><br><span class="hljs-string">        v-bind:value=&quot;value&quot;</span><br><span class="hljs-string">        v-on:input=&quot;$emit(&#x27;input&#x27;, $event.target.value)&quot;</span><br><span class="hljs-string">      &gt;</span><br><span class="hljs-string">    &lt;/label&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<blockquote>
<p>â— <strong>æ³¨æ„ï¼š</strong><code>inheritAttrs: false</code> é€‰é¡¹<strong>ä¸ä¼š</strong>å½±å“ <code>style</code> å’Œ <code>class</code> çš„ç»‘å®šã€‚åœ¨å­ç»„ä»¶æ ¹æ ‡ç­¾ä¸Šçš„<code>class</code>å’Œ<code>style</code>å±æ€§ä»ç„¶ä¼šåˆå¹¶åˆ°å­ç»„ä»¶çš„æ ¹æ ‡ç­¾ä¸Šã€‚</p>
</blockquote>
<h4 id="å’ŒVue3ä¸­çš„åŒºåˆ«"><a href="#å’ŒVue3ä¸­çš„åŒºåˆ«" class="headerlink" title="å’ŒVue3ä¸­çš„åŒºåˆ«"></a>å’ŒVue3ä¸­çš„åŒºåˆ«</h4><p><strong>1</strong>. <strong>å®šä¹‰ä¸Šçš„åŒºåˆ«</strong></p>
<p>Vue3å¯¹épropçš„attributeçš„å®šä¹‰ï¼šä¸€ä¸ªé prop çš„ attribute æ˜¯æŒ‡ä¼ å‘ä¸€ä¸ªç»„ä»¶ï¼Œä½†æ˜¯è¯¥ç»„ä»¶å¹¶æ²¡æœ‰ç›¸åº” <a target="_blank" rel="noopener" href="https://vue3js.cn/docs/zh/guide/component-props">props</a> æˆ– <a target="_blank" rel="noopener" href="https://vue3js.cn/docs/zh/guide/component-custom-events.html#defining-custom-events">emits</a> å®šä¹‰çš„ attributeã€‚å¸¸è§çš„ç¤ºä¾‹åŒ…æ‹¬ <code>class</code>ã€<code>style</code> å’Œ <code>id</code> å±æ€§ã€‚</p>
<blockquote>
<p>Vue3ä¸­å…è®¸åœ¨ç»„ä»¶é€‰é¡¹ä¸­å®šä¹‰emitsè¿™ä¸ªoptionï¼Œæ˜¾ç¤ºåœ°è¡¨æ˜è¯¥ç»„ä»¶ä¼šå‘å‡ºå“ªäº›è‡ªå®šä¹‰äº‹ä»¶ã€‚</p>
</blockquote>
<p><strong>2</strong>. <strong>Vue3å…è®¸ç»„ä»¶æ¨¡æ¿æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹</strong></p>
<p>ä¸å•ä¸ªæ ¹èŠ‚ç‚¹ç»„ä»¶ä¸åŒï¼Œå…·æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹çš„ç»„ä»¶ä¸å…·æœ‰è‡ªåŠ¨ attribute å›é€€è¡Œä¸ºã€‚<strong>å¦‚æœç»„ä»¶æ¨¡æ¿æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼ŒåŒæ—¶æ¨¡æ¿ä¸­æœªæ˜¾å¼ç»‘å®š <code>$attrs</code>ï¼Œå°†å‘å‡ºè¿è¡Œæ—¶è­¦å‘Šã€‚</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">custom-layout</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;custom-layout&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeValue&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">custom-layout</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è¿™å°†å‘å‡ºè­¦å‘Š</span><br>app.component(<span class="hljs-string">&#x27;custom-layout&#x27;</span>, &#123;<br>  template: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;header&gt;...&lt;/header&gt;</span><br><span class="hljs-string">    &lt;main&gt;...&lt;/main&gt;</span><br><span class="hljs-string">    &lt;footer&gt;...&lt;/footer&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br><br><span class="hljs-comment">// æ²¡æœ‰è­¦å‘Šï¼Œ$attrsè¢«ä¼ é€’åˆ°&lt;main&gt;å…ƒç´ </span><br>app.component(<span class="hljs-string">&#x27;custom-layout&#x27;</span>, &#123;<br>  template: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;header&gt;...&lt;/header&gt;</span><br><span class="hljs-string">    &lt;main v-bind=&quot;$attrs&quot;&gt;...&lt;/main&gt;</span><br><span class="hljs-string">    &lt;footer&gt;...&lt;/footer&gt;</span><br><span class="hljs-string">  `</span><br>&#125;)<br></code></pre></td></tr></table></figure>






<h3 id="çˆ¶å­ç»„ä»¶é—´çš„ç›´æ¥è®¿é—®-children-parent"><a href="#çˆ¶å­ç»„ä»¶é—´çš„ç›´æ¥è®¿é—®-children-parent" class="headerlink" title="çˆ¶å­ç»„ä»¶é—´çš„ç›´æ¥è®¿é—® $children/$parent"></a>çˆ¶å­ç»„ä»¶é—´çš„ç›´æ¥è®¿é—® $children/$parent</h3><p>==ä¸€ã€çˆ¶ç»„ä»¶ç›´æ¥è®¿é—®å­ç»„ä»¶==</p>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡this.$childrenæˆ–this.$refsæ‹¿åˆ°æ‰€æœ‰å­ç»„ä»¶ã€‚</p>
<ul>
<li><p>$childrenå±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥åƒthis.$children[index]çš„å‹å¼é€šè¿‡ä¸‹æ ‡æ‹¿åˆ°å­ç»„ä»¶å¯¹è±¡ã€‚ï¼ˆä¸å¸¸ç”¨ï¼‰</p>
</li>
<li><p>$refså±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­ç»„ä»¶æ ‡ç­¾ä¸­è®¾ç½®refå±æ€§æ ‡è¯†è‡ªå·±ï¼Œçˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡this.$refs[ref]çš„å½¢å¼è·å–ç‰¹å®šçš„å­ç»„ä»¶å¯¹è±¡ã€‚ï¼ˆæ›´å¸¸ç”¨ï¼‰</p>
</li>
</ul>
<p>å¯è®¿é—®åˆ°çš„å­ç»„ä»¶å†…å®¹ï¼šå‡ ä¹æ‰€æœ‰å†…å®¹ï¼ˆæ•°æ®ã€æ–¹æ³•ï¼‰ã€‚</p>
<p>==äºŒã€å­ç»„ä»¶ç›´æ¥è®¿é—®çˆ¶ç»„ä»¶==</p>
<p>åœ¨å­ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡this.$parentæ‹¿åˆ°çˆ¶ç»„ä»¶å¯¹è±¡ã€‚</p>
<p>åŒæ—¶å¯ä»¥ä½¿ç”¨this.$rootç›´æ¥æ‹¿åˆ°Vueå®ä¾‹å¯¹è±¡ã€‚ï¼ˆVueå®ä¾‹æ˜¯æ ¹ç»„ä»¶ï¼‰</p>
<p>ç”±äºç»„ä»¶ä¹‹é—´è€¦åˆåº¦ä¸åº”è¯¥å¤ªé«˜ï¼Œæ‰€ä»¥å¾ˆå°‘åœ¨å­ç»„ä»¶ä¸­è®¿é—®çˆ¶ç»„ä»¶ã€‚</p>
<h3 id="provide-inject"><a href="#provide-inject" class="headerlink" title="provide / inject"></a>provide / inject</h3><p><strong>ä¸€ã€provide</strong></p>
<p>çˆ¶çº§ç»„ä»¶å‘è‡ªå·±ä»¥åŠåä»£ç»„ä»¶æä¾›ï¼ˆprovideï¼‰å…±äº«çš„æ•°æ®ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<ol>
<li>```js<br>provide: {<pre><code>provideData1: &#39;hello world&#39;</code></pre>
}<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs less"><br><span class="hljs-selector-tag">2</span>. ```<span class="hljs-selector-tag">js</span><br>   <span class="hljs-selector-tag">provide</span>() &#123;<br>       <span class="hljs-selector-tag">return</span> &#123;<br>           <span class="hljs-attribute">provideData1</span>: <span class="hljs-string">&#x27;hello world&#x27;</span>,<br>           <span class="hljs-attribute">provideData2</span>: &#123; <span class="hljs-attribute">name</span>: <span class="hljs-string">&#x27;mz&#x27;</span>, <span class="hljs-attribute">age</span>: <span class="hljs-number">24</span> &#125;,<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure></li>
<li>```js<br>data() {<br>  return {<pre><code>  shared: &#123;
      state1: &#39;xxx&#39;,
      state2: &#39;foo&#39;
  &#125;,
  info: &#39;bar&#39;,</code></pre>
  }<br>},<br>provide() {<pre><code>return &#123;
    provideData1: &#39;hello world&#39;,
    provideData2: &#123; name: &#39;mz&#39;, age: 24 &#125;,
    shared: this.shared, // ğŸ‘ˆ æä¾›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®
    info: this.info, // ğŸ‘ˆ æä¾›ä¸€ä¸ªå“åº”å¼çš„åŸºæœ¬ç±»å‹æ•°æ®ï¼Œåä»£ç»„ä»¶å¯¹å…¶åº”è¯¥æ˜¯åªè¯»çš„ã€‚
&#125;</code></pre>
}<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs"><br>   <br><br>**äºŒã€inject**<br><br>åä»£ç»„ä»¶å®šä¹‰injectï¼Œä»è€Œè·å–åˆ°ç¥–å…ˆç»„ä»¶å®ä¾‹ä¸Šæä¾›çš„å†…å®¹ã€‚<br><br>è¯­æ³•ï¼š<br><br>1. ```js<br>   inject: [&#x27;provideData1&#x27;, &#x27;provideData2&#x27;]<br></code></pre></td></tr></table></figure></li>
<li><pre><code class="js">inject: &#123;
    data1: &#39;provideData1&#39;,
    data2: &#39;provideData2&#39;
&#125;
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><br><span class="hljs-number">3</span>. ```js<br>   <span class="hljs-keyword">inject</span>: &#123;<br>       data1: &#123;<br>           <span class="hljs-keyword">from</span>: <span class="hljs-string">&#x27;provideData1&#x27;</span>,<br>           <span class="hljs-keyword">default</span>: <span class="hljs-number">123</span>,<br>       &#125;<br>       data2: &#123;<br>           <span class="hljs-keyword">from</span>: <span class="hljs-string">&#x27;provideData2&#x27;</span>,<br>           <span class="hljs-keyword">default</span>() &#123;<br>               <span class="hljs-keyword">return</span> &#123;&#125;;<br>           &#125;<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure>

</code></pre>
</li>
</ol>
<blockquote>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>éé¡¶çº§ç»„ä»¶ï¼ˆVueå®ä¾‹ï¼‰å®šä¹‰provideæ—¶ï¼Œå¿…é¡»æ˜¯å‡½æ•°å½¢å¼ï¼Œå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å†…æ˜¯æä¾›çš„æ•°æ®ã€‚</li>
<li>provideçš„å†…å®¹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹çš„æ•°æ®ã€‚</li>
<li>provideçš„å†…å®¹å¯ä»¥æ˜¯å“åº”å¼çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯éå“åº”å¼çš„ï¼ˆæ¨èä½¿ç”¨å“åº”å¼çš„ï¼‰ã€‚</li>
<li>å½“provideçš„æ•°æ®æ˜¯éå“åº”å¼çš„ï¼Œæˆ–è€…æ˜¯åŸºæœ¬ç±»å‹çš„æ•°æ®æ—¶ï¼Œåä»£ç»„ä»¶åœ¨injectä¸­è·å–è¯¥æ•°æ®åï¼Œé¿å…å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼ˆè¿™ç§provideçš„æ•°æ®åº”è¯¥æ˜¯åªè¯»çš„ï¼‰ã€‚</li>
</ol>
</blockquote>
<p><strong>ä¸‰ã€æ¡ˆä¾‹</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- å®šä¹‰provideçš„çˆ¶çº§ç»„ä»¶ --&gt;<br>&lt;template&gt;<br>  &lt;div id&#x3D;&quot;app&quot;&gt;<br>    &lt;img alt&#x3D;&quot;Vue logo&quot; src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;<br>    &lt;hr&gt;<br>    &lt;child-1 &#x2F;&gt;<br>    &lt;hr&gt;<br>    &lt;child-2 &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import Child1 from &#39;.&#x2F;components&#x2F;Child1.vue&#39;;<br>import Child2 from &#39;.&#x2F;components&#x2F;Child2.vue&#39;;<br><br>export default &#123;<br>  name: &#39;App&#39;,<br>  components: &#123;<br>    Child1,<br>    Child2,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      colorReactive: &#39;red&#39;,<br>      styleReactive: &#123;<br>        color: &#39;red&#39;,<br>      &#125;,<br>    &#125;;<br>  &#125;,<br>  &#x2F;&#x2F; ğŸ‘‡ å‘åä»£ç»„ä»¶æä¾›å››ç§ç±»å‹çš„æ•°æ®<br>  provide() &#123;<br>    return &#123;<br>      styleReactive: this.styleReactive, &#x2F;&#x2F; å“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®<br>      colorReactive: this.colorReactive, &#x2F;&#x2F; å“åº”å¼çš„åŸºæœ¬ç±»å‹æ•°æ®<br>      color: &#39;red&#39;, &#x2F;&#x2F; éå“åº”å¼çš„åŸºæœ¬ç±»å‹æ•°æ®<br>      style: &#123; &#x2F;&#x2F; éå“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®<br>        color: &#39;red&#39;,<br>      &#125;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* MethodsMixin */</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  methods: &#123;<br>    <span class="hljs-function"><span class="hljs-title">updateColor</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.color === <span class="hljs-string">&#x27;red&#x27;</span>) &#123;<br>        <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;black&#x27;</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.color = <span class="hljs-string">&#x27;red&#x27;</span>;<br>      &#125;<br>    &#125;,<br>    <span class="hljs-function"><span class="hljs-title">updateStyle</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.style.color === <span class="hljs-string">&#x27;red&#x27;</span>) &#123;<br>        <span class="hljs-built_in">this</span>.style.color = <span class="hljs-string">&#x27;black&#x27;</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.style.color = <span class="hljs-string">&#x27;red&#x27;</span>;<br>      &#125;<br>      <span class="hljs-comment">// this.$forceUpdate();</span><br>    &#125;,<br>    <span class="hljs-function"><span class="hljs-title">updateColorReactive</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.colorReactive === <span class="hljs-string">&#x27;red&#x27;</span>) &#123;<br>        <span class="hljs-built_in">this</span>.colorReactive = <span class="hljs-string">&#x27;black&#x27;</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.colorReactive = <span class="hljs-string">&#x27;red&#x27;</span>;<br>      &#125;<br>    &#125;,<br>    <span class="hljs-function"><span class="hljs-title">updateStyleReactive</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.styleReactive.color === <span class="hljs-string">&#x27;red&#x27;</span>) &#123;<br>        <span class="hljs-built_in">this</span>.styleReactive.color = <span class="hljs-string">&#x27;black&#x27;</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.styleReactive.color = <span class="hljs-string">&#x27;red&#x27;</span>;<br>      &#125;<br>    &#125;,<br>  &#125;,<br>&#125;;<br><br></code></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- åä»£ç»„ä»¶Child1 --&gt;<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h2&gt;Child1&lt;&#x2F;h2&gt;<br>    &lt;ul&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateColor&quot;&gt;updateColor&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;&#123; color &#125;&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹æ•°æ®: &#123;&#123; color &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateStyle&quot;&gt;updateStyle&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;style&quot;&gt;çˆ¶ç»„ä»¶provideçš„å¼•ç”¨ç±»å‹æ•°æ®: &#123;&#123; style &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateColorReactive&quot;&gt;updateColorReactive&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;&#123; color: colorReactive &#125;&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹å“åº”å¼æ•°æ®: &#123;&#123; colorReactive &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateStyleReactive&quot;&gt;updateStyleReactive&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;styleReactive&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹å“åº”å¼æ•°æ®: &#123;&#123; styleReactive &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>    &lt;&#x2F;ul&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import sharedMethods from &#39;.&#x2F;sharedMethods&#39;;<br><br>export default &#123;<br>  name: &#39;Child1&#39;,<br>  inject: [&#39;color&#39;, &#39;style&#39;, &#39;colorReactive&#39;, &#39;styleReactive&#39;],<br>  mixins: [sharedMethods],<br>  data() &#123;<br>    return &#123;<br>      &#x2F;&#x2F; styleData: this.style, &#x2F;&#x2F; ğŸ‘ˆ åœ¨dataä¸­å¼•ç”¨injectçš„æ•°æ®ä¼šå¯¹è¯¥æ•°æ®è¿›è¡Œå“åº”å¼åŒ–ï¼Œå˜ä¸ºç¬¬å››ç§æƒ…å†µ<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br></code></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- åä»£ç»„ä»¶Child2 --&gt;<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h2&gt;Child2&lt;&#x2F;h2&gt;<br>    &lt;ul&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateColor&quot;&gt;updateColor&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;&#123; color &#125;&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹æ•°æ®: &#123;&#123; color &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateStyle&quot;&gt;updateStyle&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;style&quot;&gt;çˆ¶ç»„ä»¶provideçš„å¼•ç”¨ç±»å‹æ•°æ®: &#123;&#123; style &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateColorReactive&quot;&gt;updateColorReactive&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;&#123; color: colorReactive &#125;&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹å“åº”å¼æ•°æ®: &#123;&#123; colorReactive &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>      &lt;li&gt;<br>        &lt;button @click&#x3D;&quot;updateStyleReactive&quot;&gt;updateStyleReactive&lt;&#x2F;button&gt;<br>        &lt;span :style&#x3D;&quot;styleReactive&quot;&gt;çˆ¶ç»„ä»¶provideçš„åŸºæœ¬ç±»å‹å“åº”å¼æ•°æ®: &#123;&#123; styleReactive &#125;&#125;&lt;&#x2F;span&gt;<br>      &lt;&#x2F;li&gt;<br>    &lt;&#x2F;ul&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import sharedMethods from &#39;.&#x2F;sharedMethods&#39;;<br><br>export default &#123;<br>  name: &#39;Child2&#39;,<br>  inject: [&#39;color&#39;, &#39;style&#39;, &#39;colorReactive&#39;, &#39;styleReactive&#39;],<br>  mixins: [sharedMethods],<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br><br>&lt;&#x2F;style&gt;<br><br></code></pre></td></tr></table></figure>
<blockquote>
<p>ç®€å•åˆ†æï¼š</p>
<ol>
<li><p>çˆ¶ç»„ä»¶æä¾›éå“åº”å¼çš„åŸºæœ¬ç±»å‹æ•°æ®ï¼Œå½“åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨injectè·å–è¯¥æ•°æ®ï¼ˆä¾‹å¦‚fooï¼‰ï¼Œåœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹è¯¥æ•°æ®çš„å€¼æ—¶ï¼ˆå¦‚this.foo = â€¦ï¼‰ï¼Œè¿™ä¸ªæ“ä½œä¼šè§¦å‘å­ç»„ä»¶æ›´æ–°ï¼Œä½†ä¸ä¼šå½±å“å…¶ä»–ä½¿ç”¨fooçš„ç»„ä»¶ã€‚</p>
</li>
<li><p>çˆ¶ç»„ä»¶æä¾›éå“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®ï¼Œå­ç»„ä»¶ä½¿ç”¨injectè·å–è¯¥æ•°æ®ï¼ˆä¾‹å¦‚objï¼‰ï¼Œå¹¶ä¸”ä¿®æ”¹è¯¥å¼•ç”¨ç±»å‹æ•°æ®çš„å†…å®¹æ—¶ï¼ˆå¦‚this.obj.foo = â€¦ï¼‰ï¼Œæ—¢ä¸ä¼šè§¦å‘å­ç»„ä»¶çš„è§†å›¾æ›´æ–°ï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–ä½¿ç”¨objçš„ç»„ä»¶ã€‚ä½†æ˜¯å¦‚æœè¿›è¡Œthis.obj = â€¦çš„æ“ä½œï¼Œä¼šè§¦å‘å­ç»„ä»¶æ›´æ–°ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå¦‚æœæŸä¸ªåä»£ç»„ä»¶åœ¨dataä¸­å¼•ç”¨äº†injectä¸­çš„è¯¥éå“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®ï¼Œä¼šå¯¹è¯¥æ•°æ®è¿›è¡ŒinitDataï¼Œä»è€Œä½¿è¯¥æ•°æ®ä»æ­¤å˜æˆå“åº”å¼çš„ã€‚</p>
</li>
<li><p>çˆ¶ç»„ä»¶æä¾›å“åº”å¼çš„åŸºæœ¬ç±»å‹æ•°æ®ï¼Œåœ¨å­ç»„ä»¶ä¸­è·å–è¯¥æ•°æ®å¹¶è¿›è¡Œä¿®æ”¹æ“ä½œæ—¶ï¼Œä¸çˆ¶ç»„ä»¶æä¾›çš„æ˜¯éå“åº”å¼åŸºæœ¬ç±»å‹æ•°æ®çš„æƒ…å†µæ˜¯ç›¸åŒçš„ã€‚</p>
</li>
<li><p>çˆ¶ç»„ä»¶æä¾›å“åº”å¼çš„å¼•ç”¨ç±»å‹æ•°æ®ï¼Œåœ¨å­ç»„ä»¶ä¸­è·å–è¯¥æ•°æ®ï¼ˆä¾‹å¦‚objï¼‰ï¼Œåœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹è¯¥æ•°æ®çš„å€¼æ—¶ï¼ˆä¾‹å¦‚this.obj.foo = â€¦ï¼‰ï¼Œæ—¢ä¼šè§¦å‘å­ç»„ä»¶è§†å›¾æ›´æ–°ï¼ˆå‰ææ˜¯è§†å›¾ä¸­ä¾èµ–äº†è¯¥å¯¹è±¡å†…å®¹ï¼‰ï¼Œä¹Ÿä¼šå½±å“åˆ°å…¶ä»–ä½¿ç”¨objçš„ç»„ä»¶ï¼Œä¼šå¼•èµ·è¿™äº›å…¶ä»–ç»„ä»¶çš„æ›´æ–°ï¼ˆä¸»è¦æ˜¯çˆ¶çº§ã€å…„å¼Ÿã€ä¾„å­ç»„ä»¶ï¼‰ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h3><h4 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æ’æ§½å®ƒå…è®¸ä½ åƒè¿™æ ·åˆæˆç»„ä»¶ï¼š --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">navigation-link</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;/profile&quot;</span>&gt;</span><br>  Your Profile<br><span class="hljs-tag">&lt;/<span class="hljs-name">navigation-link</span>&gt;</span><br>ç„¶åä½ åœ¨ <span class="hljs-tag">&lt;<span class="hljs-name">navigation-link</span>&gt;</span> çš„æ¨¡æ¿ä¸­å¯èƒ½ä¼šå†™ä¸ºï¼š<br><br>&lt;a<br>  v-bind:href=&quot;url&quot;<br>  class=&quot;nav-link&quot;<br>&gt;<br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>å½“ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span> å°†ä¼šè¢«æ›¿æ¢ä¸ºâ€œYour Profileâ€ã€‚æ’æ§½å†…å¯ä»¥åŒ…å«ä»»ä½•æ¨¡æ¿ä»£ç ï¼ŒåŒ…æ‹¬ HTMLï¼š<br><br><span class="hljs-tag">&lt;<span class="hljs-name">navigation-link</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;/profile&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- æ·»åŠ ä¸€ä¸ª Font Awesome å›¾æ ‡ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-user&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  Your Profile<br><span class="hljs-tag">&lt;/<span class="hljs-name">navigation-link</span>&gt;</span><br>ç”šè‡³å…¶å®ƒçš„ç»„ä»¶ï¼š<br><br><span class="hljs-tag">&lt;<span class="hljs-name">navigation-link</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;/profile&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- æ·»åŠ ä¸€ä¸ªå›¾æ ‡çš„ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">font-awesome-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">font-awesome-icon</span>&gt;</span><br>  Your Profile<br><span class="hljs-tag">&lt;/<span class="hljs-name">navigation-link</span>&gt;</span><br>å¦‚æœ <span class="hljs-tag">&lt;<span class="hljs-name">navigation-link</span>&gt;</span> çš„ template ä¸­æ²¡æœ‰åŒ…å«ä¸€ä¸ª <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span> å…ƒç´ ï¼Œåˆ™è¯¥ç»„ä»¶èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¹‹é—´çš„ä»»ä½•å†…å®¹éƒ½ä¼šè¢«æŠ›å¼ƒã€‚<br></code></pre></td></tr></table></figure>
<ul>
<li><p>åœ¨å­ç»„ä»¶çš„æ¨¡æ¿ä¸­ç•™ä¸‹slotæ ‡ç­¾æ ‡è¯†æ’æ§½ã€‚</p>
</li>
<li><p>ä½¿ç”¨æ—¶ï¼Œçˆ¶ç»„ä»¶æ¨¡æ¿ä¸­åœ¨å­ç»„ä»¶æ ‡ç­¾å†…ä¸ºæ’æ§½å¡«å……å†…å®¹ã€‚</p>
</li>
<li><p>å…³äºæ¸²æŸ“ä½œç”¨åŸŸï¼Œè¯·è®°ä½ï¼š</p>
<blockquote>
<p>çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="åå¤‡å†…å®¹"><a href="#åå¤‡å†…å®¹" class="headerlink" title="åå¤‡å†…å®¹"></a>åå¤‡å†…å®¹</h4><p>æœ‰æ—¶ä¸ºä¸€ä¸ªæ’æ§½è®¾ç½®å…·ä½“çš„åå¤‡ (ä¹Ÿå°±æ˜¯é»˜è®¤çš„) å†…å®¹æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå®ƒåªä¼šåœ¨æ²¡æœ‰æä¾›å†…å®¹çš„æ—¶å€™è¢«æ¸²æŸ“ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ª <code>&lt;submit-button&gt;</code> ç»„ä»¶ä¸­ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯èƒ½å¸Œæœ›è¿™ä¸ª <code>&lt;button&gt;</code> å†…ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¸²æŸ“æ–‡æœ¬â€œSubmitâ€ã€‚ä¸ºäº†å°†â€œSubmitâ€ä½œä¸ºåå¤‡å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒæ”¾åœ¨ <code>&lt;slot&gt;</code> æ ‡ç­¾å†…ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>ç°åœ¨å½“æˆ‘åœ¨ä¸€ä¸ªçˆ¶çº§ç»„ä»¶ä¸­ä½¿ç”¨ <code>&lt;submit-button</code> &gt; å¹¶ä¸”ä¸æä¾›ä»»ä½•æ’æ§½å†…å®¹æ—¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">submit-button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">submit-button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>åå¤‡å†…å®¹â€œSubmitâ€å°†ä¼šè¢«æ¸²æŸ“ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>  Submit<br><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æä¾›å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">submit-button</span>&gt;</span><br>  Save<br><span class="hljs-tag">&lt;/<span class="hljs-name">submit-button</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>åˆ™è¿™ä¸ªæä¾›çš„å†…å®¹å°†ä¼šè¢«æ¸²æŸ“ä»è€Œå–ä»£åå¤‡å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>  Save<br><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h4 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h4><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¤šä¸ªæ’æ§½ã€‚ä¾‹å¦‚å¯¹äºä¸€ä¸ªå¸¦æœ‰å¦‚ä¸‹æ¨¡æ¿çš„ <code>&lt;base-layout&gt;</code> ç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠé¡µå¤´æ”¾è¿™é‡Œ --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠä¸»è¦å†…å®¹æ”¾è¿™é‡Œ --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠé¡µè„šæ”¾è¿™é‡Œ --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p>å¯¹äºè¿™æ ·çš„æƒ…å†µï¼Œ<code>&lt;slot&gt;</code> å…ƒç´ æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ attributeï¼š<code>name</code>ã€‚è¿™ä¸ª attribute å¯ä»¥ç”¨æ¥å®šä¹‰é¢å¤–çš„æ’æ§½ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>å…·åæ’æ§½çš„nameä¸€èˆ¬ä¸ä¼šä½œä¸ºpropertyæˆ–è€…å˜é‡åï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨<strong>ä¸­åˆ’çº¿æ ¼å¼çš„å‘½åæ–¹å¼</strong>ã€‚</p>
</blockquote>
<p><strong>ä¸€ä¸ªä¸å¸¦ <code>name</code> çš„ <code>&lt;slot&gt;</code> å‡ºå£ä¼šå¸¦æœ‰éšå«çš„åå­—<code>â€œdefaultâ€</code>ã€‚</strong></p>
<p>åœ¨å‘å…·åæ’æ§½æä¾›å†…å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª <code>&lt;template&gt;</code> å…ƒç´ ä¸Šä½¿ç”¨ <code>v-slot</code> æŒ‡ä»¤ï¼Œå¹¶ä»¥ <code>v-slot</code> çš„å‚æ•°çš„å½¢å¼æä¾›å…¶åç§°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">base-layout</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:header</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Here might be a page title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>A paragraph for the main content.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>And another one.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:footer</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here&#x27;s some contact info<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">base-layout</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p>ç°åœ¨ <code>&lt;template&gt;</code> å…ƒç´ ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å°†ä¼šè¢«ä¼ å…¥ç›¸åº”çš„æ’æ§½ã€‚</p>
<p>æ¸²æŸ“çš„ HTML å°†ä¼šæ˜¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Here might be a page title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>A paragraph for the main content.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>And another one.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here&#x27;s some contact info<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>æ³¨æ„ <strong><code>v-slot</code> åªèƒ½æ·»åŠ åœ¨ <code>&lt;template&gt;</code> ä¸Š</strong> ã€‚</p>
<p>(åªæœ‰<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-slots.html#%E7%8B%AC%E5%8D%A0%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%9A%84%E7%BC%A9%E5%86%99%E8%AF%AD%E6%B3%95">ä¸€ç§ä¾‹å¤–æƒ…å†µ</a>ï¼šåªå‘å­ç»„ä»¶çš„é»˜è®¤æ’æ§½ä¸­æ’å…¥å†…å®¹ï¼Œ<code>v-slot</code>æŒ‡ä»¤å¯ä»¥ç”¨åœ¨å­ç»„ä»¶çš„æ ‡ç­¾ä¸Š)ï¼Œè¿™ä¸€ç‚¹å’Œå·²ç»åºŸå¼ƒçš„ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-slots.html#%E5%BA%9F%E5%BC%83%E4%BA%86%E7%9A%84%E8%AF%AD%E6%B3%95"><code>slot</code> attribute</a> ä¸åŒã€‚</p>
<h4 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h4><p><strong>åº”ç”¨æƒ…æ™¯ï¼š</strong>åœ¨çˆ¶ç»„ä»¶ä¸­ä¸ºå­ç»„ä»¶çš„æ’æ§½ä¸­æ·»åŠ å†…å®¹ï¼Œä½†å†…å®¹ä¸­éœ€è¦è®¿é—®å­ç»„ä»¶çš„å†…å®¹ã€‚</p>
<p>æœ‰æ—¶è®©æ’æ§½å†…å®¹èƒ½å¤Ÿè®¿é—®å­ç»„ä»¶ä¸­æ‰æœ‰çš„æ•°æ®æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œè®¾æƒ³ä¸€ä¸ªå¸¦æœ‰å¦‚ä¸‹æ¨¡æ¿çš„ <code>&lt;current-user&gt;</code> ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;span&gt;<br>  &lt;slot&gt;&#123;&#123; user.lastName &#125;&#125;&lt;&#x2F;slot&gt;<br>&lt;&#x2F;span&gt;<br></code></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯èƒ½æƒ³æ¢æ‰å¤‡ç”¨å†…å®¹ï¼Œç”¨åè€Œéå§“æ¥æ˜¾ç¤ºã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user&gt;<br>  &#123;&#123; user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<p>ç„¶è€Œä¸Šè¿°ä»£ç ä¸ä¼šæ­£å¸¸å·¥ä½œï¼Œå› ä¸ºåªæœ‰ <code>&lt;current-user&gt;</code> ç»„ä»¶å¯ä»¥è®¿é—®åˆ° <code>user</code> è€Œæˆ‘ä»¬æä¾›çš„å†…å®¹æ˜¯åœ¨çˆ¶çº§æ¸²æŸ“çš„ã€‚</p>
<p>ä¸ºäº†è®© <code>user</code> åœ¨çˆ¶çº§çš„æ’æ§½å†…å®¹ä¸­å¯ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>user</code> ä½œä¸º <code>&lt;slot&gt;</code> å…ƒç´ çš„ä¸€ä¸ª attribute ç»‘å®šä¸Šå»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;span&gt;<br>  &lt;slot v-bind:user&#x3D;&quot;user&quot;&gt;<br>    &#123;&#123; user.lastName &#125;&#125;<br>  &lt;&#x2F;slot&gt;<br>&lt;&#x2F;span&gt;<br></code></pre></td></tr></table></figure>
<p>ç»‘å®šåœ¨ <code>&lt;slot&gt;</code> å…ƒç´ ä¸Šçš„ attribute è¢«ç§°ä¸º<strong>æ’æ§½ prop</strong>ã€‚ç°åœ¨åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦å€¼çš„ <code>v-slot</code> æ¥å®šä¹‰æˆ‘ä»¬æä¾›çš„æ’æ§½ prop çš„åå­—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user&gt;<br>  &lt;template v-slot:default&#x3D;&quot;slotProps&quot;&gt;<br>    &#123;&#123; slotProps.user.firstName &#125;&#125;<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å°†åŒ…å«æ‰€æœ‰æ’æ§½ prop çš„å¯¹è±¡å‘½åä¸º <code>slotProps</code>ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»æ„ä½ å–œæ¬¢çš„åå­—ã€‚</p>
<h4 id="v-slotç”¨äºç»„ä»¶æ ‡ç­¾ä¸Š"><a href="#v-slotç”¨äºç»„ä»¶æ ‡ç­¾ä¸Š" class="headerlink" title="v-slotç”¨äºç»„ä»¶æ ‡ç­¾ä¸Š"></a>v-slotç”¨äºç»„ä»¶æ ‡ç­¾ä¸Š</h4><p>åœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œå½“è¢«æä¾›çš„å†…å®¹<strong>åªæœ‰é»˜è®¤æ’æ§½æ—¶</strong>ï¼Œç»„ä»¶çš„æ ‡ç­¾æ‰å¯ä»¥è¢«å½“ä½œæ’æ§½çš„æ¨¡æ¿æ¥ä½¿ç”¨ã€‚<strong>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠ <code>v-slot</code> ç›´æ¥ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user v-slot:default&#x3D;&quot;slotProps&quot;&gt;<br>  &#123;&#123; slotProps.user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•è¿˜å¯ä»¥æ›´ç®€å•ã€‚å°±åƒå‡å®šæœªæŒ‡æ˜çš„å†…å®¹å¯¹åº”é»˜è®¤æ’æ§½ä¸€æ ·ï¼Œä¸å¸¦å‚æ•°çš„ <code>v-slot</code> è¢«å‡å®šå¯¹åº”é»˜è®¤æ’æ§½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user v-slot&#x3D;&quot;slotProps&quot;&gt;<br>  &#123;&#123; slotProps.user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>


<p><strong>æ³¨æ„ï¼šé»˜è®¤æ’æ§½çš„ç¼©å†™è¯­æ³•ä¸èƒ½å’Œå…·åæ’æ§½æ··ç”¨ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´ä½œç”¨åŸŸä¸æ˜ç¡®ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- æ— æ•ˆï¼Œä¼šå¯¼è‡´è­¦å‘Š --&gt;<br>&lt;current-user v-slot&#x3D;&quot;slotProps&quot;&gt;<br>  &#123;&#123; slotProps.user.firstName &#125;&#125;<br>  &lt;template v-slot:other&#x3D;&quot;otherSlotProps&quot;&gt;<br>    slotProps is NOT available here<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<p>åªè¦å‡ºç°å¤šä¸ªæ’æ§½ï¼Œè¯·å§‹ç»ˆä¸º<em>æ‰€æœ‰çš„</em>æ’æ§½ä½¿ç”¨å®Œæ•´çš„åŸºäº <code>&lt;template&gt;</code> çš„è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user&gt;<br>  &lt;template v-slot:default&#x3D;&quot;slotProps&quot;&gt;<br>    &#123;&#123; slotProps.user.firstName &#125;&#125;<br>  &lt;&#x2F;template&gt;<br><br>  &lt;template v-slot:other&#x3D;&quot;otherSlotProps&quot;&gt;<br>    ...<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>


<h4 id="æ’æ§½ä½œç”¨åŸŸè§£æ„"><a href="#æ’æ§½ä½œç”¨åŸŸè§£æ„" class="headerlink" title="æ’æ§½ä½œç”¨åŸŸè§£æ„"></a>æ’æ§½ä½œç”¨åŸŸè§£æ„</h4><p>ä½œç”¨åŸŸæ’æ§½çš„å†…éƒ¨å·¥ä½œåŸç†æ˜¯å°†ä½ çš„æ’æ§½å†…å®¹åŒ…è£¹åœ¨ä¸€ä¸ªæ‹¥æœ‰å•ä¸ªå‚æ•°çš„å‡½æ•°é‡Œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">slotProps</span>) </span>&#123;<br>  <span class="hljs-comment">// æ’æ§½å†…å®¹</span><br>&#125;<br></code></pre></td></tr></table></figure>


<p>è¿™æ„å‘³ç€ <code>v-slot</code> çš„å€¼å®é™…ä¸Šå¯ä»¥æ˜¯ä»»ä½•èƒ½å¤Ÿä½œä¸ºå‡½æ•°å®šä¹‰ä¸­çš„å‚æ•°çš„ JavaScript è¡¨è¾¾å¼ã€‚<strong>åœ¨æ”¯æŒES2015çš„ç¯å¢ƒä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>ES2015 è§£æ„è¯­æ³•</code>æ¥ä¼ å…¥å…·ä½“çš„æ’æ§½ prop</strong>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user v-slot&#x3D;&quot;&#123; user &#125;&quot;&gt;<br>  &#123;&#123; user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>


<p>è¿™æ ·å¯ä»¥ä½¿æ¨¡æ¿æ›´ç®€æ´ï¼Œå°¤å…¶æ˜¯åœ¨è¯¥æ’æ§½æä¾›äº†å¤šä¸ª prop çš„æ—¶å€™ã€‚å®ƒåŒæ ·å¼€å¯äº† prop é‡å‘½åç­‰å…¶å®ƒå¯èƒ½ï¼Œä¾‹å¦‚å°† <code>user</code> é‡å‘½åä¸º <code>person</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user v-slot&#x3D;&quot;&#123; user: person &#125;&quot;&gt;<br>  &#123;&#123; person.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>


<p>ä½ ç”šè‡³å¯ä»¥å®šä¹‰åå¤‡å†…å®¹ï¼Œç”¨äºæ’æ§½ prop æ˜¯ undefined çš„æƒ…å½¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user v-slot&#x3D;&quot;&#123; user &#x3D; &#123; firstName: &#39;Guest&#39; &#125; &#125;&quot;&gt;<br>  &#123;&#123; user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œçš„â€œpropé‡å‘½åâ€ã€â€œå®šä¹‰åèƒŒå†…å®¹â€ éƒ½æ˜¯åˆ©ç”¨çš„<code>ES2015 è§£æ„è¯­æ³•</code>çš„é«˜çº§ç‰¹æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;mz&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;24&#x27;</span>&#125;;<br><br><span class="hljs-keyword">let</span> &#123; name, age &#125; = obj; <span class="hljs-comment">// è§£æ„</span><br><span class="hljs-built_in">console</span>.log(name, age);<br><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">name</span>: n, <span class="hljs-attr">age</span>: a &#125; = obj; <span class="hljs-comment">// æ”¹åä¸º n å’Œ a;</span><br><span class="hljs-built_in">console</span>.log(n, a);<br><br><span class="hljs-comment">// å›æ»šå€¼ï¼Œåªæœ‰å½“obj.genderä¸ºundefinedæˆ–objä¸å­˜åœ¨ä¸å­˜åœ¨è¯¥å±æ€§æ˜¯ï¼Œgenderæ‰ä¸ºé»˜è®¤çš„å›æ»šå€¼ã€‚</span><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">name</span>: name2, <span class="hljs-attr">age</span>: age2, gender = <span class="hljs-string">&#x27;ç”·&#x27;</span> &#125; = obj; <span class="hljs-comment">// éœ€è¦æ³¨æ„ 0, null, falseå‡ä¸å›æ»š</span><br><br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="åŠ¨æ€æ’æ§½å"><a href="#åŠ¨æ€æ’æ§½å" class="headerlink" title="åŠ¨æ€æ’æ§½å"></a>åŠ¨æ€æ’æ§½å</h4><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/syntax.html#%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0">åŠ¨æ€æŒ‡ä»¤å‚æ•°</a>ä¹Ÿå¯ä»¥ç”¨åœ¨ <code>v-slot</code> ä¸Šï¼Œæ¥å®šä¹‰åŠ¨æ€çš„æ’æ§½åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;base-layout&gt;<br>  &lt;template v-slot:[dynamicSlotName]&gt;<br>    ...<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;base-layout&gt;<br></code></pre></td></tr></table></figure>


<h4 id="å…·åæ’æ§½çš„ç¼©å†™"><a href="#å…·åæ’æ§½çš„ç¼©å†™" class="headerlink" title="å…·åæ’æ§½çš„ç¼©å†™"></a>å…·åæ’æ§½çš„ç¼©å†™</h4><p>è·Ÿ <code>v-on</code> å’Œ <code>v-bind</code> ä¸€æ ·ï¼Œ<code>v-slot</code> ä¹Ÿæœ‰ç¼©å†™ï¼Œå³æŠŠå‚æ•°ä¹‹å‰çš„æ‰€æœ‰å†…å®¹ (<code>v-slot:</code>) æ›¿æ¢ä¸ºå­—ç¬¦ <code>#</code>ã€‚ä¾‹å¦‚ <code>v-slot:header</code> å¯ä»¥è¢«é‡å†™ä¸º <code>#header</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;base-layout&gt;<br>  &lt;template #header&gt;<br>    &lt;h1&gt;Here might be a page title&lt;&#x2F;h1&gt;<br>  &lt;&#x2F;template&gt;<br><br>  &lt;p&gt;A paragraph for the main content.&lt;&#x2F;p&gt;<br>  &lt;p&gt;And another one.&lt;&#x2F;p&gt;<br><br>  &lt;template #footer&gt;<br>    &lt;p&gt;Here&#39;s some contact info&lt;&#x2F;p&gt;<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;base-layout&gt;<br></code></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œå’Œå…¶å®ƒæŒ‡ä»¤ä¸€æ ·ï¼Œè¯¥ç¼©å†™åªåœ¨å…¶æœ‰å‚æ•°çš„æ—¶å€™æ‰å¯ç”¨ã€‚è¿™æ„å‘³ç€ä»¥ä¸‹è¯­æ³•æ˜¯æ— æ•ˆçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- è¿™æ ·ä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Š --&gt;<br>&lt;current-user #&#x3D;&quot;&#123; user &#125;&quot;&gt;<br>  &#123;&#123; user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>
<p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ç¼©å†™çš„è¯ï¼Œä½ å¿…é¡»å§‹ç»ˆä»¥æ˜ç¡®æ’æ§½åå–è€Œä»£ä¹‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;current-user #default&#x3D;&quot;&#123; user &#125;&quot;&gt;<br>  &#123;&#123; user.firstName &#125;&#125;<br>&lt;&#x2F;current-user&gt;<br></code></pre></td></tr></table></figure>


<h4 id="å…·åæ’æ§½ä¸v-foré…åˆä½¿ç”¨"><a href="#å…·åæ’æ§½ä¸v-foré…åˆä½¿ç”¨" class="headerlink" title="å…·åæ’æ§½ä¸v-foré…åˆä½¿ç”¨"></a>å…·åæ’æ§½ä¸v-foré…åˆä½¿ç”¨</h4><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦å®ç°ä¸€ä¸ª <code>&lt;todo-list&gt;</code> ç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ä¸”åŒ…å«å¸ƒå±€å’Œè¿‡æ»¤é€»è¾‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>  &lt;li<br>    v-for&#x3D;&quot;todo in filteredTodos&quot;<br>    v-bind:key&#x3D;&quot;todo.id&quot;<br>  &gt;<br>    &#123;&#123; todo.text &#125;&#125;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ª todo ä½œä¸ºçˆ¶çº§ç»„ä»¶çš„æ’æ§½ï¼Œä»¥æ­¤é€šè¿‡çˆ¶çº§ç»„ä»¶å¯¹å…¶è¿›è¡Œæ§åˆ¶ï¼Œç„¶åå°† <code>todo</code> ä½œä¸ºä¸€ä¸ªæ’æ§½ prop è¿›è¡Œç»‘å®šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>  &lt;!-- ğŸ‘‡ åªå…è®¸è¿™ä¸€ç§æƒ…å†µï¼Œé€»è¾‘ä¸Šå­ç»„ä»¶æ¨¡æ¿ä¸­å…è®¸å‡ºç°å¤šä¸ªåŒåçš„å…·åæ’æ§½ --&gt;  <br>  &lt;li<br>    v-for&#x3D;&quot;todo in filteredTodos&quot;<br>    v-bind:key&#x3D;&quot;todo.id&quot;<br>  &gt;<br>    &lt;!--<br>    æˆ‘ä»¬ä¸ºæ¯ä¸ª todo å‡†å¤‡äº†ä¸€ä¸ªæ’æ§½ï¼Œ<br>    å°† &#96;todo&#96; å¯¹è±¡ä½œä¸ºä¸€ä¸ªæ’æ§½çš„ prop ä¼ å…¥ã€‚<br>    --&gt;<br>    &lt;slot name&#x3D;&quot;todo-item&quot; v-bind:todo&#x3D;&quot;todo&quot;&gt;<br>      &lt;!-- åå¤‡å†…å®¹ --&gt;<br>      &#123;&#123; todo.text &#125;&#125;<br>    &lt;&#x2F;slot&gt;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>
<p>ç°åœ¨å½“æˆ‘ä»¬ä½¿ç”¨ <code>&lt;todo-list&gt;</code> ç»„ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸º todo å®šä¹‰ä¸€ä¸ªä¸ä¸€æ ·çš„ <code>&lt;template&gt;</code> ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œå¹¶ä¸”å¯ä»¥ä»å­ç»„ä»¶è·å–æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;todo-list v-bind:todos&#x3D;&quot;todos&quot;&gt;<br>  &lt;template v-slot:todo-item&#x3D;&quot;&#123; todo &#125;&quot;&gt;  &lt;!-- æ¯ä¸ªåä¸ºtodo-itemçš„æ’æ§½éƒ½æŒ‰ç…§ä»¥ä¸‹æ ¼å¼æ¸²æŸ“ --&gt;<br>    &lt;span v-if&#x3D;&quot;todo.isComplete&quot;&gt;âœ“&lt;&#x2F;span&gt;<br>    &#123;&#123; todo.text &#125;&#125;<br>  &lt;&#x2F;template&gt;<br>&lt;&#x2F;todo-list&gt;<br></code></pre></td></tr></table></figure>


<h3 id="åŠ¨æ€ç»„ä»¶"><a href="#åŠ¨æ€ç»„ä»¶" class="headerlink" title="åŠ¨æ€ç»„ä»¶"></a>åŠ¨æ€ç»„ä»¶</h3><p>æœ‰çš„æ—¶å€™ï¼Œåœ¨ä¸åŒç»„ä»¶ä¹‹é—´è¿›è¡ŒåŠ¨æ€åˆ‡æ¢æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªå¤šæ ‡ç­¾çš„ç•Œé¢é‡Œï¼š</p>
<p><img src="/./image-20210516211310527.png" srcset="/img/loading.gif" alt="image-20210516211310527"></p>
<p>ä¸Šè¿°å†…å®¹å¯ä»¥é€šè¿‡ Vue çš„ <code>&lt;component&gt;</code> å…ƒç´ åŠ ä¸€ä¸ªç‰¹æ®Šçš„ <code>is</code> attribute æ¥å®ç°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- ç»„ä»¶ä¼šåœ¨ `currentTabComponent` æ”¹å˜æ—¶æ”¹å˜ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">&quot;currentTabComponent&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>currentTabComponent</code> å¯ä»¥æ˜¯ï¼š</p>
<ol>
<li><p>å·²æ³¨å†Œç»„ä»¶çš„åå­—ï¼ˆå­—ç¬¦ä¸²ï¼‰</p>
</li>
<li><p>ä¸€ä¸ªç»„ä»¶çš„é€‰é¡¹å¯¹è±¡</p>
</li>
</ol>
<h4 id="åœ¨åŠ¨æ€ç»„ä»¶ä¸Šä½¿ç”¨-keep-alive"><a href="#åœ¨åŠ¨æ€ç»„ä»¶ä¸Šä½¿ç”¨-keep-alive" class="headerlink" title="åœ¨åŠ¨æ€ç»„ä»¶ä¸Šä½¿ç”¨ keep-alive"></a>åœ¨åŠ¨æ€ç»„ä»¶ä¸Šä½¿ç”¨ keep-alive</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- å¤±æ´»çš„ç»„ä»¶å°†ä¼šè¢«ç¼“å­˜ï¼--&gt;<br>&lt;keep-alive&gt;<br>  &lt;component v-bind:is&#x3D;&quot;currentTabComponent&quot;&gt;&lt;&#x2F;component&gt;<br>&lt;&#x2F;keep-alive&gt;<br></code></pre></td></tr></table></figure>


<h3 id="å¼‚æ­¥ç»„ä»¶"><a href="#å¼‚æ­¥ç»„ä»¶" class="headerlink" title="å¼‚æ­¥ç»„ä»¶"></a>å¼‚æ­¥ç»„ä»¶</h3><p>åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦çš„æ—¶å€™æ‰ä»æœåŠ¡å™¨åŠ è½½ä¸€ä¸ªæ¨¡å—ã€‚ä¸ºäº†ç®€åŒ–ï¼ŒVue å…è®¸ä½ ä»¥ä¸€ä¸ªå·¥å‚å‡½æ•°çš„æ–¹å¼å®šä¹‰ä½ çš„ç»„ä»¶ï¼Œè¿™ä¸ªå·¥å‚å‡½æ•°ä¼šå¼‚æ­¥è§£æä½ çš„ç»„ä»¶å®šä¹‰ã€‚Vue åªæœ‰åœ¨è¿™ä¸ªç»„ä»¶éœ€è¦è¢«æ¸²æŸ“çš„æ—¶å€™æ‰ä¼šè§¦å‘è¯¥å·¥å‚å‡½æ•°ï¼Œä¸”ä¼šæŠŠç»“æœç¼“å­˜èµ·æ¥ä¾›æœªæ¥é‡æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<span class="hljs-string">&#x27;async-example&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) </span>&#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// å‘ `resolve` å›è°ƒä¼ é€’ç»„ä»¶å®šä¹‰</span><br>    resolve(&#123;<br>      template: <span class="hljs-string">&#x27;&lt;div&gt;I am async!&lt;/div&gt;&#x27;</span><br>    &#125;)<br>  &#125;, <span class="hljs-number">1000</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œè¿™ä¸ªå·¥å‚å‡½æ•°ä¼šæ”¶åˆ°ä¸€ä¸ª <code>resolve</code> å›è°ƒï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨ä½ ä»æœåŠ¡å™¨å¾—åˆ°ç»„ä»¶å®šä¹‰çš„æ—¶å€™è¢«è°ƒç”¨ã€‚ä½ ä¹Ÿå¯ä»¥è°ƒç”¨ <code>reject(reason)</code> æ¥è¡¨ç¤ºåŠ è½½å¤±è´¥ã€‚è¿™é‡Œçš„ <code>setTimeout</code> æ˜¯ä¸ºäº†æ¼”ç¤ºç”¨çš„ï¼Œå¦‚ä½•è·å–ç»„ä»¶å–å†³äºä½ è‡ªå·±ã€‚ä¸€ä¸ªæ¨èçš„åšæ³•æ˜¯å°†å¼‚æ­¥ç»„ä»¶å’Œ <a target="_blank" rel="noopener" href="https://webpack.js.org/guides/code-splitting/">webpack çš„ code-splitting åŠŸèƒ½</a>ä¸€èµ·é…åˆä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<span class="hljs-string">&#x27;async-webpack-example&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) </span>&#123;<br>  <span class="hljs-comment">// è¿™ä¸ªç‰¹æ®Šçš„ `require` è¯­æ³•å°†ä¼šå‘Šè¯‰ webpack</span><br>  <span class="hljs-comment">// è‡ªåŠ¨å°†ä½ çš„æ„å»ºä»£ç åˆ‡å‰²æˆå¤šä¸ªåŒ…ï¼Œè¿™äº›åŒ…</span><br>  <span class="hljs-comment">// ä¼šé€šè¿‡ Ajax è¯·æ±‚åŠ è½½</span><br>  <span class="hljs-built_in">require</span>([<span class="hljs-string">&#x27;./my-async-component&#x27;</span>], resolve)<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨å·¥å‚å‡½æ•°ä¸­è¿”å›ä¸€ä¸ª <code>Promise</code>ï¼Œæ‰€ä»¥æŠŠ webpack 2 å’Œ ES2015 è¯­æ³•åŠ åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.component(<br>  <span class="hljs-string">&#x27;async-webpack-example&#x27;</span>,<br>  <span class="hljs-comment">// è¿™ä¸ªåŠ¨æ€å¯¼å…¥ä¼šè¿”å›ä¸€ä¸ª `Promise` å¯¹è±¡ã€‚</span><br>  () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./my-async-component&#x27;</span>)<br>)<br></code></pre></td></tr></table></figure>
<p>å½“ä½¿ç”¨<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-registration.html#%E5%B1%80%E9%83%A8%E6%B3%A8%E5%86%8C">å±€éƒ¨æ³¨å†Œ</a>çš„æ—¶å€™ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥æä¾›ä¸€ä¸ªè¿”å› <code>Promise</code> çš„å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-comment">// ...</span><br>  components: &#123;<br>    <span class="hljs-string">&#x27;my-component&#x27;</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./my-async-component&#x27;</span>)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="å¤„ç†åŠ è½½çš„çŠ¶æ€"><a href="#å¤„ç†åŠ è½½çš„çŠ¶æ€" class="headerlink" title="å¤„ç†åŠ è½½çš„çŠ¶æ€"></a>å¤„ç†åŠ è½½çš„çŠ¶æ€</h4><p>è¿™é‡Œçš„å¼‚æ­¥ç»„ä»¶å·¥å‚å‡½æ•°ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå¦‚ä¸‹æ ¼å¼çš„å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> AsyncComponent = <span class="hljs-function">() =&gt;</span> (&#123;<br>  <span class="hljs-comment">// éœ€è¦åŠ è½½çš„ç»„ä»¶ (åº”è¯¥æ˜¯ä¸€ä¸ª `Promise` å¯¹è±¡)</span><br>  component: <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./MyComponent.vue&#x27;</span>),<br>  <span class="hljs-comment">// å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶</span><br>  loading: LoadingComponent,<br>  <span class="hljs-comment">// åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶</span><br>  error: ErrorComponent,<br>  <span class="hljs-comment">// å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 200 (æ¯«ç§’)</span><br>  delay: <span class="hljs-number">200</span>,<br>  <span class="hljs-comment">// å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œ</span><br>  <span class="hljs-comment">// åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity`</span><br>  timeout: <span class="hljs-number">3000</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Vue3ä¸­æä¾›äº†<code>Suspense</code>ç»„ä»¶æ¥å¤„ç†å¼‚æ­¥å­ç»„ä»¶çš„åŠ è½½çŠ¶æ€ã€‚</p>
</blockquote>
<p>##è‡ªå®šä¹‰æŒ‡ä»¤</p>
<p>è‡ªå®šä¹‰æŒ‡ä»¤çš„æºç åœ¨ vdom/modules/directivesä¸­</p>
<h3 id="å±€éƒ¨ä¸å…¨å±€æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤"><a href="#å±€éƒ¨ä¸å…¨å±€æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="å±€éƒ¨ä¸å…¨å±€æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤"></a>å±€éƒ¨ä¸å…¨å±€æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤</h3><p>é™¤äº†æ ¸å¿ƒåŠŸèƒ½é»˜è®¤å†…ç½®çš„æŒ‡ä»¤ (<code>v-model</code> å’Œ <code>v-show</code>)ï¼ŒVue ä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ³¨æ„ï¼Œåœ¨ Vue2.0 ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚</p>
<p>ä¸¾ä¸ªèšç„¦è¾“å…¥æ¡†çš„ä¾‹å­ï¼Œå½“é¡µé¢åŠ è½½æ—¶ï¼Œè¯¥å…ƒç´ å°†è·å¾—ç„¦ç‚¹ (æ³¨æ„ï¼š<code>autofocus</code> åœ¨ç§»åŠ¨ç‰ˆ Safari ä¸Šä¸å·¥ä½œ)ã€‚äº‹å®ä¸Šï¼Œåªè¦ä½ åœ¨æ‰“å¼€è¿™ä¸ªé¡µé¢åè¿˜æ²¡ç‚¹å‡»è¿‡ä»»ä½•å†…å®¹ï¼Œè¿™ä¸ªè¾“å…¥æ¡†å°±åº”å½“è¿˜æ˜¯å¤„äºèšç„¦çŠ¶æ€ã€‚ç°åœ¨è®©æˆ‘ä»¬ç”¨æŒ‡ä»¤æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus`</span><br>Vue.directive(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-comment">// å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦</span><br>  inserted: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;<br>    <span class="hljs-comment">// èšç„¦å…ƒç´ </span><br>    el.focus()<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³æ³¨å†Œå±€éƒ¨æŒ‡ä»¤ï¼Œç»„ä»¶ä¸­ä¹Ÿæ¥å—ä¸€ä¸ª <code>directives</code> çš„é€‰é¡¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">directives: &#123;<br>  focus: &#123;<br>    <span class="hljs-comment">// æŒ‡ä»¤çš„å®šä¹‰</span><br>    inserted: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>&#123;<br>      el.focus()<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ç„¶åä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä»»ä½•å…ƒç´ ä¸Šä½¿ç”¨æ–°çš„ <code>v-focus</code> propertyï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-focus</span>&gt;</span><br></code></pre></td></tr></table></figure>


<h3 id="é’©å­å‡½æ•°"><a href="#é’©å­å‡½æ•°" class="headerlink" title="é’©å­å‡½æ•°"></a>é’©å­å‡½æ•°</h3><p>ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å¦‚ä¸‹å‡ ä¸ªé’©å­å‡½æ•° (å‡ä¸ºå¯é€‰)ï¼š</p>
<ul>
<li><p><code>bind</code>ï¼šâ­åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚æŒ‡ä»¤çš„bindé’©å­åœ¨è°ƒç”¨Vnodeçš„createé’©å­æ—¶ä¼šè§¦å‘ï¼Œå³ä½¿ç”¨äº†createElmæˆ–createComponentä¸ºVnodeåˆ›å»ºDOMå…ƒç´ åç«‹åˆ»è§¦å‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">invokeCreateHooks(vnode, insertedVnodeQueue) <span class="hljs-comment">/* è¯¥å‡½æ•°ä¸­ä¼šæ‰§è¡Œå„ä¸ªmoduleå¯¹createå£°æ˜å‘¨æœŸçš„ç›‘å¬å‡½æ•°ï¼ŒåŒæ—¶å°†å…·æœ‰inserté’©å­çš„VnodeåŠ å…¥insertedVnodeQueueæ’å…¥é˜Ÿåˆ—ã€‚è€Œå…·æœ‰insertedé’©å­çš„è‡ªå®šä¹‰æŒ‡ä»¤ç»‘å®šçš„å…ƒç´ æ‰€å¯¹åº”çš„Vnodeä¼šå°†æŒ‡ä»¤çš„insertedé’©å­åˆå¹¶åˆ°Vnode.data.hooks.insertä¸Šã€‚*/</span><br></code></pre></td></tr></table></figure></li>
<li><p><code>inserted</code>ï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)<br><span class="hljs-comment">/* __patch__åœ¨è¿”å›vnode.elmä¹‹å‰ï¼Œæ‰ä¼šè°ƒç”¨æ’å…¥é˜Ÿåˆ—ä¸­æ‰€æœ‰vnodeçš„inserté’©å­ã€‚</span><br><span class="hljs-comment">ä¹Ÿå°±æ˜¯åœ¨ä¸€è½®ç»„ä»¶patchç»“æŸä¹‹å‰æ‰ä¼šæŒ‰ä»å­åˆ°çˆ¶çš„é¡ºåºæ‰§è¡Œinserté’©å­ï¼Œè¿™ä¸ªæ—¶æœºå¯èƒ½è¿œè¿œæ™šäºæŸä¸ªvnodeçš„elmè¢«æ’å…¥åˆ°è‡ªå·±çš„çˆ¶äº²ä¸­çš„æ—¶é—´ç‚¹ã€‚*/</span><br></code></pre></td></tr></table></figure></li>
<li><p><code>update</code>ï¼šâ­æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œ<strong>ä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰</strong>ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° ã€‚ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* çœŸæ­£çš„updateæ‰§è¡Œæ—¶æœºæ˜¯åœ¨patchVnodeä¸»è¦é€»è¾‘ä¹‹å‰ã€‚</span><br><span class="hljs-comment">æ­¤æ—¶è¿˜æ²¡æœ‰çœŸæ­£çš„å¯¹Vnodeçš„textå’Œchildrenè¿›è¡Œpatchã€‚</span><br><span class="hljs-comment">ä½†æ˜¯åœ¨æ‰§è¡Œè‡ªå®šä¹‰æŒ‡ä»¤çš„updateé’©å­ä¹‹å‰ï¼Œæ­¤Vnodeçš„elmçš„attrsã€classã€styleç­‰ç­‰å·²ç»æ›´æ–°äº†ã€‚è¿™æ˜¯ç”±äºå…¶ä»–å¹³å°ç›¸å…³æ¨¡å—çš„é’©å­åœ¨æŒ‡ä»¤é’©å­ä¹‹å‰æ‰§è¡Œï¼Œæ‰€ä»¥è¯´é’©å­çš„é¡ºåºä¹Ÿå¾ˆé‡è¦ã€‚</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">if</span> (isDef(data) &amp;&amp; isPatchable(vnode)) &#123;<br>  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; cbs.update.length; ++i) cbs.update[i](oldVnode, vnode) <br>  <span class="hljs-keyword">if</span> (isDef(i = data.hook) &amp;&amp; isDef(i = i.update)) i(oldVnode, vnode) <br>&#125;<br><span class="hljs-keyword">if</span> (isUndef(vnode.text)) &#123; <br>    <span class="hljs-comment">//...</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">//....</span><br>&#125;<br><br></code></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p><code>componentUpdated</code>ï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode <strong>åŠå…¶å­ VNode</strong> å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ğŸ‘‡ patchVnodeå‡½æ•°éƒ¨åˆ†å®šä¹‰</span><br><span class="hljs-keyword">if</span> (isDef(data) &amp;&amp; isPatchable(vnode)) &#123;<br>  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; cbs.update.length; ++i) cbs.update[i](oldVnode, vnode) <br>  <span class="hljs-keyword">if</span> (isDef(i = data.hook) &amp;&amp; isDef(i = i.update)) i(oldVnode, vnode) <br>&#125;<br><span class="hljs-keyword">if</span> (isUndef(vnode.text)) &#123; <br>    <span class="hljs-comment">//...</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">//....</span><br>&#125;<br><span class="hljs-keyword">if</span> (isDef(data)) &#123;<br>	<span class="hljs-keyword">if</span> (isDef(i = data.hook) &amp;&amp; isDef(i = i.postpatch)) <br>        i(oldVnode, vnode) <span class="hljs-comment">// ğŸ‘ˆ æ‰§è¡Œvnodeçš„postpatché’©å­ã€‚æ­¤æ—¶vnodeåŠå…¶å­vnodeå·²ç»patchå®Œæˆäº†ã€‚</span><br>&#125;<br><br><span class="hljs-comment">/*è‡ªå®šä¹‰æŒ‡ä»¤çš„componentUpdatedé’©å­ä¼šå®‰è£…åˆ°ç»‘å®šè¯¥æŒ‡ä»¤çš„vnodeçš„postpatché’©å­ä¸Šï¼Œ</span><br><span class="hljs-comment">* å³componentUpdatedé’©å­çœŸæ­£æ‰§è¡Œçš„æ—¶æœºæ˜¯patchVnode(old, new)çš„æœ€åæ—¶åˆ»ã€‚</span><br><span class="hljs-comment">* æ­¤æ—¶vnodeåŠå…¶å­vnodeéƒ½å·²ç»patchå®Œæˆäº†ï¼Œæ­¤æ—¶vnode.elmä¸ºæ›´æ–°è¿‡åçš„æœ€æ–°æ­£ç¡®çŠ¶æ€ã€‚</span><br><span class="hljs-comment">* æ‰€ä»¥å½“è‡ªå®šä¹‰æŒ‡ä»¤ç»‘å®šåœ¨çˆ¶å®¹å™¨ä¸Šï¼Œå¹¶ä¸”ä¼šå¯¹å…¶å­å…ƒç´ äº§ç”Ÿå½±å“æ—¶ï¼Œæœ€å¥½ä½¿ç”¨componentUpdatedé’©å­ï¼Œè€Œä¸æ˜¯updateé’©å­ã€‚</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><code>unbind</code>ï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹é’©å­å‡½æ•°çš„å‚æ•° (å³ <code>el</code>ã€<code>binding</code>ã€<code>vnode</code> å’Œ <code>oldVnode</code>)ã€‚</p>
<h3 id="é’©å­å‡½æ•°å‚æ•°"><a href="#é’©å­å‡½æ•°å‚æ•°" class="headerlink" title="é’©å­å‡½æ•°å‚æ•°"></a>é’©å­å‡½æ•°å‚æ•°</h3><p>æŒ‡ä»¤é’©å­å‡½æ•°ä¼šè¢«ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li><code>el</code>ï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOMã€‚</li>
<li><code>binding</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ propertyï¼š<ul>
<li><code>name</code>ï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ <code>v-</code> å‰ç¼€ã€‚</li>
<li><code>value</code>ï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚ï¼š<code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œç»‘å®šå€¼ä¸º <code>2</code>ã€‚</li>
<li><code>oldValue</code>ï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li>
<li><code>expression</code>ï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ <code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œè¡¨è¾¾å¼ä¸º <code>&quot;1 + 1&quot;</code>ã€‚</li>
<li><code>arg</code>ï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚ <code>v-my-directive:foo</code> ä¸­ï¼Œå‚æ•°ä¸º <code>&quot;foo&quot;</code>ã€‚</li>
<li><code>modifiers</code>ï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š<code>v-my-directive.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º <code>&#123; foo: true, bar: true &#125;</code>ã€‚</li>
</ul>
</li>
<li><code>vnode</code>ï¼šVue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚ç§»æ­¥ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#VNode-%E6%8E%A5%E5%8F%A3">VNode API</a> æ¥äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</li>
<li><code>oldVnode</code>ï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚</li>
</ul>
<blockquote>
<p>é™¤äº† <code>el</code> ä¹‹å¤–ï¼Œå…¶å®ƒå‚æ•°éƒ½åº”è¯¥æ˜¯åªè¯»çš„ï¼Œåˆ‡å‹¿è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœéœ€è¦åœ¨é’©å­ä¹‹é—´å…±äº«æ•°æ®ï¼Œå»ºè®®é€šè¿‡å…ƒç´ çš„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/dataset"><code>dataset</code></a> æ¥è¿›è¡Œã€‚</p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨äº†è¿™äº› property çš„è‡ªå®šä¹‰é’©å­æ ·ä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hook-arguments-example&quot;</span> <span class="hljs-attr">v-demo:foo.a.b</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Vue.directive(<span class="hljs-string">&#x27;demo&#x27;</span>, &#123;<br>  bind: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding, vnode</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> s = <span class="hljs-built_in">JSON</span>.stringify<br>    el.innerHTML =<br>      <span class="hljs-string">&#x27;name: &#x27;</span>       + s(binding.name) + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>      <span class="hljs-string">&#x27;value: &#x27;</span>      + s(binding.value) + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>      <span class="hljs-string">&#x27;expression: &#x27;</span> + s(binding.expression) + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>      <span class="hljs-string">&#x27;argument: &#x27;</span>   + s(binding.arg) + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>      <span class="hljs-string">&#x27;modifiers: &#x27;</span>  + s(binding.modifiers) + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>      <span class="hljs-string">&#x27;vnode keys: &#x27;</span> + <span class="hljs-built_in">Object</span>.keys(vnode).join(<span class="hljs-string">&#x27;, &#x27;</span>)<br>  &#125;<br>&#125;)<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  el: <span class="hljs-string">&#x27;#hook-arguments-example&#x27;</span>,<br>  data: &#123;<br>    message: <span class="hljs-string">&#x27;hello!&#x27;</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>è¾“å‡º</p>
<p><img src="/./image-20210322221045773.png" srcset="/img/loading.gif" alt="image-20210322221045773"></p>
<h3 id="åŠ¨æ€æŒ‡ä»¤å‚æ•°"><a href="#åŠ¨æ€æŒ‡ä»¤å‚æ•°" class="headerlink" title="åŠ¨æ€æŒ‡ä»¤å‚æ•°"></a>åŠ¨æ€æŒ‡ä»¤å‚æ•°</h3><p>æŒ‡ä»¤çš„å‚æ•°å¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>v-mydirective:[argument]=&quot;value&quot;</code> ä¸­ï¼Œ<code>argument</code> å‚æ•°å¯ä»¥æ ¹æ®ç»„ä»¶å®ä¾‹æ•°æ®è¿›è¡Œæ›´æ–°ï¼è¿™ä½¿å¾—è‡ªå®šä¹‰æŒ‡ä»¤å¯ä»¥åœ¨åº”ç”¨ä¸­è¢«çµæ´»ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ï¼Œç”¨æ¥é€šè¿‡å›ºå®šå¸ƒå±€å°†å…ƒç´ å›ºå®šåœ¨é¡µé¢ä¸Šã€‚æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·åˆ›å»ºä¸€ä¸ªé€šè¿‡æŒ‡ä»¤å€¼æ¥æ›´æ–°ç«–ç›´ä½ç½®åƒç´ å€¼çš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;baseexample&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Scroll down the page<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-pin</span>=<span class="hljs-string">&quot;200&quot;</span>&gt;</span>Stick me 200px from the top of the page<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Vue.directive(<span class="hljs-string">&#x27;pin&#x27;</span>, &#123;<br>  bind: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding, vnode</span>) </span>&#123;<br>    el.style.position = <span class="hljs-string">&#x27;fixed&#x27;</span><br>    el.style.top = binding.value + <span class="hljs-string">&#x27;px&#x27;</span><br>  &#125;<br>&#125;)<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  el: <span class="hljs-string">&#x27;#baseexample&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>è¿™ä¼šæŠŠè¯¥å…ƒç´ å›ºå®šåœ¨è·ç¦»é¡µé¢é¡¶éƒ¨ 200 åƒç´ çš„ä½ç½®ã€‚ä½†å¦‚æœåœºæ™¯æ˜¯æˆ‘ä»¬éœ€è¦æŠŠå…ƒç´ å›ºå®šåœ¨å·¦ä¾§è€Œä¸æ˜¯é¡¶éƒ¨åˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶ä½¿ç”¨åŠ¨æ€å‚æ•°å°±å¯ä»¥éå¸¸æ–¹ä¾¿åœ°æ ¹æ®æ¯ä¸ªç»„ä»¶å®ä¾‹æ¥è¿›è¡Œæ›´æ–°ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dynamicexample&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Scroll down inside this section â†“<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-pin:</span>[<span class="hljs-attr">direction</span>]=<span class="hljs-string">&quot;200&quot;</span>&gt;</span>I am pinned onto the page at 200px to the left.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Vue.directive(<span class="hljs-string">&#x27;pin&#x27;</span>, &#123;<br>  bind: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding, vnode</span>) </span>&#123;<br>    el.style.position = <span class="hljs-string">&#x27;fixed&#x27;</span><br>    <span class="hljs-keyword">var</span> s = (binding.arg == <span class="hljs-string">&#x27;left&#x27;</span> ? <span class="hljs-string">&#x27;left&#x27;</span> : <span class="hljs-string">&#x27;top&#x27;</span>)<br>    el.style[s] = binding.value + <span class="hljs-string">&#x27;px&#x27;</span><br>  &#125;<br>&#125;)<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  el: <span class="hljs-string">&#x27;#dynamicexample&#x27;</span>,<br>  data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      direction: <span class="hljs-string">&#x27;left&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<h3 id="å‡½æ•°ç®€å†™"><a href="#å‡½æ•°ç®€å†™" class="headerlink" title="å‡½æ•°ç®€å†™"></a>å‡½æ•°ç®€å†™</h3><p>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œä½ å¯èƒ½æƒ³åœ¨ <code>bind</code> å’Œ <code>update</code> æ—¶è§¦å‘ç›¸åŒè¡Œä¸ºï¼Œè€Œä¸å…³å¿ƒå…¶å®ƒçš„é’©å­ã€‚æ¯”å¦‚è¿™æ ·å†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Vue.directive(<span class="hljs-string">&#x27;color-swatch&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) </span>&#123;<br>  el.style.backgroundColor = binding.value<br>&#125;)<br></code></pre></td></tr></table></figure>


<h3 id="å¯¹è±¡å­—é¢é‡"><a href="#å¯¹è±¡å­—é¢é‡" class="headerlink" title="å¯¹è±¡å­—é¢é‡"></a>å¯¹è±¡å­—é¢é‡</h3><p>å¦‚æœæŒ‡ä»¤éœ€è¦å¤šä¸ªå€¼ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª JavaScript å¯¹è±¡å­—é¢é‡ã€‚è®°ä½ï¼ŒæŒ‡ä»¤å‡½æ•°èƒ½å¤Ÿæ¥å—æ‰€æœ‰åˆæ³•çš„ JavaScript è¡¨è¾¾å¼ã€‚<strong>åŒæ—¶ï¼Œå¯¹è±¡å­—é¢é‡ä¸­å¯ä»¥å¼•ç”¨ç»„ä»¶å®ä¾‹çš„çŠ¶æ€ã€‚</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-demo</span>=<span class="hljs-string">&quot;&#123; color: &#x27;white&#x27;, text &#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Vue.directive(<span class="hljs-string">&#x27;demo&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(binding.value.color) <span class="hljs-comment">// =&gt; &quot;white&quot;</span><br>  <span class="hljs-built_in">console</span>.log(binding.value.text)  <span class="hljs-comment">// =&gt; &quot;hello!&quot;</span><br>&#125;)<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>    <span class="hljs-comment">//...</span><br>    data: &#123;<br>        text: <span class="hljs-string">&#x27;hello world&#x27;</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h2 id="Vue-CLI"><a href="#Vue-CLI" class="headerlink" title="Vue CLI"></a>Vue CLI</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><ol>
<li>ä¾èµ–äºNodeç¯å¢ƒï¼Œå¹¶å…¨å±€å®‰è£…webpack</li>
<li>npm intsall -g @vue/cli</li>
</ol>
<p>ä»¥ä¸Šæ˜¯å®‰è£…è„šæ‰‹æ¶3çš„æ­¥éª¤ï¼Œå¦‚æœéœ€è¦å…¼å®¹è„šæ‰‹æ¶2çš„è¯­æ³•ï¼Œéœ€è¦é¢å¤–æ‰§è¡Œç¬¬ä¸‰æ¡ï¼š</p>
<ol start="3">
<li>npm install -g @vue/cli-init</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#æµ‹è¯•</span><br>vue --version<br></code></pre></td></tr></table></figure>


<h3 id="ä½¿ç”¨cli2åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®"><a href="#ä½¿ç”¨cli2åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®" class="headerlink" title="ä½¿ç”¨cli2åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®"></a>ä½¿ç”¨cli2åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®</h3><ol>
<li><pre><code class="dos">vue init webpack $é¡¹ç›®åç§°   ğŸ‘‰ä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºåŒåæ–‡ä»¶å¤¹
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br>![image<span class="hljs-number">-20200828201856002</span>](./image<span class="hljs-number">-20200828201856002.</span>png)<br><br><br><br>### ä½¿ç”¨cli3åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®<br><br><span class="hljs-number">1.</span> ```dos<br>   vue create $é¡¹ç›®åç§°<br></code></pre></td></tr></table></figure>
![image-20200922221753466](./image-20200922221753466.png)




</code></pre>
</li>
</ol>
<hr>
<h2 id="Vue-router-å‰ç«¯è·¯ç”±"><a href="#Vue-router-å‰ç«¯è·¯ç”±" class="headerlink" title="Vue-router å‰ç«¯è·¯ç”±"></a>Vue-router å‰ç«¯è·¯ç”±</h2><h3 id="å‰ç«¯è·¯ç”±åŸç†"><a href="#å‰ç«¯è·¯ç”±åŸç†" class="headerlink" title="å‰ç«¯è·¯ç”±åŸç†"></a>å‰ç«¯è·¯ç”±åŸç†</h3><p>è·¯ç”±çš„æ¦‚å¿µæ¥æºäºæœåŠ¡ç«¯ï¼Œåœ¨æœåŠ¡ç«¯ä¸­è·¯ç”±æè¿°çš„æ˜¯ URL ä¸å¤„ç†å‡½æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</p>
<p>åœ¨ Web å‰ç«¯å•é¡µåº”ç”¨ SPA(Single Page Application)ä¸­ï¼Œè·¯ç”±æè¿°çš„æ˜¯ URL ä¸ UI ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œè¿™ç§æ˜ å°„æ˜¯å•å‘çš„ï¼Œå³ URL å˜åŒ–å¼•èµ· UI æ›´æ–°ï¼ˆæ— éœ€åˆ·æ–°é¡µé¢ï¼‰ã€‚</p>
<p>åç«¯æ¸²æŸ“é˜¶æ®µ</p>
<p>ğŸ‘‡   +ajax</p>
<p>å‰åç«¯åˆ†ç¦»é˜¶æ®µ</p>
<p>ğŸ‘‡   +å‰ç«¯è·¯ç”±</p>
<p>SPA å•é¡µé¢å¯Œåº”ç”¨é˜¶æ®µ</p>
<p><strong>å¦‚ä½•å®ç°å‰ç«¯è·¯ç”±ï¼Ÿ</strong></p>
<p>è¦å®ç°å‰ç«¯è·¯ç”±ï¼Œéœ€è¦è§£å†³ä¸¤ä¸ªæ ¸å¿ƒï¼š</p>
<ul>
<li>å¦‚ä½•æ”¹å˜ URL å´ä¸å¼•èµ·é¡µé¢åˆ·æ–°ï¼Ÿ</li>
<li>å¦‚ä½•æ£€æµ‹ URL å˜åŒ–äº†ï¼Ÿ</li>
</ul>
<p>ä¸‹é¢åˆ†åˆ«ä½¿ç”¨ hash å’Œ history ä¸¤ç§å®ç°æ–¹å¼å›ç­”ä¸Šé¢çš„ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜ã€‚</p>
<ol>
<li><h5 id="hashå®ç°"><a href="#hashå®ç°" class="headerlink" title="hashå®ç°"></a>hashå®ç°</h5><ul>
<li>hash æ˜¯ URL ä¸­ hash (#) åŠåé¢çš„é‚£éƒ¨åˆ†ï¼Œå¸¸ç”¨ä½œé”šç‚¹åœ¨é¡µé¢å†…è¿›è¡Œå¯¼èˆªï¼Œæ”¹å˜ URL ä¸­çš„ hash éƒ¨åˆ†ä¸ä¼šå¼•èµ·é¡µé¢åˆ·æ–°ã€‚</li>
<li>é€šè¿‡ hashchange äº‹ä»¶ç›‘å¬ URL çš„å˜åŒ–ï¼Œæ”¹å˜ URL çš„æ–¹å¼åªæœ‰è¿™å‡ ç§ï¼šé€šè¿‡æµè§ˆå™¨å‰è¿›åé€€æ”¹å˜ URLã€é€šè¿‡<code>&lt;a&gt;</code>æ ‡ç­¾æ”¹å˜ URLã€é€šè¿‡window.locationæ”¹å˜URLï¼Œè¿™å‡ ç§æƒ…å†µæ”¹å˜ URL éƒ½ä¼šè§¦å‘ hashchange äº‹ä»¶ã€‚â­</li>
</ul>
</li>
<li><h5 id="history-å®ç°"><a href="#history-å®ç°" class="headerlink" title="history å®ç°"></a>history å®ç°</h5><ul>
<li>history æä¾›äº† pushState å’Œ replaceState ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ”¹å˜ URL çš„ path éƒ¨åˆ†ä¸ä¼šå¼•èµ·é¡µé¢åˆ·æ–°ã€‚</li>
<li>history æä¾›ç±»ä¼¼ hashchange äº‹ä»¶çš„ popstate äº‹ä»¶ï¼Œä½† popstate äº‹ä»¶æœ‰äº›ä¸åŒï¼šé€šè¿‡æµè§ˆå™¨å‰è¿›åé€€æ”¹å˜ URL æ—¶ä¼šè§¦å‘ popstate äº‹ä»¶ï¼Œé€šè¿‡pushState/replaceStateæˆ–<code>&lt;a&gt;</code>æ ‡ç­¾æ”¹å˜ URL ä¸ä¼šè§¦å‘ popstate äº‹ä»¶ã€‚å¥½åœ¨æˆ‘ä»¬å¯ä»¥æ‹¦æˆª pushState/replaceStateçš„è°ƒç”¨å’Œ<code>&lt;a&gt;</code>æ ‡ç­¾çš„ç‚¹å‡»äº‹ä»¶æ¥æ£€æµ‹ URL å˜åŒ–ï¼Œæ‰€ä»¥ç›‘å¬ URL å˜åŒ–å¯ä»¥å®ç°ï¼Œåªæ˜¯æ²¡æœ‰ hashchange é‚£ä¹ˆæ–¹ä¾¿ã€‚â­</li>
</ul>
</li>
</ol>
<p>==å‚è€ƒèµ„æ–™ï¼š==[<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lguow/p/10921564.html]">https://www.cnblogs.com/lguow/p/10921564.html]</a></p>
<hr>
<h3 id="vue-router-å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨"><a href="#vue-router-å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨" class="headerlink" title="vue-router å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨"></a>vue-router å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨</h3><p><img src="/./image-20200829225840412.png" srcset="/img/loading.gif" alt="image-20200829225840412"></p>
<p>ç›®å½•ç»“æ„ï¼š</p>
<p>project</p>
<p>â€”componentsç›®å½•</p>
<p>â€”â€”Home.vue    //ç»„ä»¶</p>
<p>â€”â€”About.vue   //ç»„ä»¶</p>
<p>â€”routerç›®å½•</p>
<p>â€”â€”index.js    //è·¯ç”±é…ç½®æ–‡ä»¶</p>
<p>â€”main.js</p>
<p>â€”App.vue</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"># main.js<br><br><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>   <span class="hljs-comment">//æ ¹ç»„ä»¶</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router/index.js&#x27;</span>  <span class="hljs-comment">//å¯çœç•¥index.js</span><br><br>Vue.config.productionTip=<span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>    el:<span class="hljs-string">&#x27;#app&#x27;</span>,<br>    router:router,  <span class="hljs-comment">//æŒ‚è½½è·¯ç”±</span><br>    render:<span class="hljs-function">(<span class="hljs-params">h</span>)=&gt;</span>h(App)<br>&#125;)<br><br></code></pre></td></tr></table></figure>


<p><img src="/./image-20200829231314899.png" srcset="/img/loading.gif" alt="image-20200829231314899"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs javascript"># index.js<br><br><span class="hljs-comment">//äº‹å…ˆå‡†å¤‡å¥½Homeå’ŒAboutä¸¤ä¸ªç»„ä»¶</span><br><br><span class="hljs-comment">/*è·¯ç”±ç»„ä»¶ä¸è·¯ç”±çš„æ˜ å°„ </span><br><span class="hljs-comment">	/home  ğŸ‘‰  Home.vue</span><br><span class="hljs-comment">	/about ğŸ‘‰  About.vue</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> VueRouter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span> <br><br><span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../components/Home.vue&#x27;</span><br><span class="hljs-keyword">import</span> About <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../components/About.vue&#x27;</span><br><br><br><span class="hljs-comment">// 1.é€šè¿‡Vue.use(æ’ä»¶)ï¼Œå®‰è£…æ’ä»¶</span><br>Vue.use(VueRouter);<br><br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/home&#x27;</span>,<br>        component:Home<br>    &#125;,<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/about&#x27;</span>,<br>        component:About<br>    &#125;<br>]<br><br><span class="hljs-keyword">const</span> router=<span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes:routes,<br>    mode:<span class="hljs-string">&#x27;hash&#x27;</span><br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue"># App.vue<br><br>&lt;template&gt;<br>	&lt;div id&#x3D;&quot;app&quot;&gt;<br>        <br>        &#x2F;&#x2F;router-linkæ˜¯ç”±vue-routeræ³¨å†Œçš„å…¨å±€ç»„ä»¶ï¼Œæ§åˆ¶å‰ç«¯è·¯ç”±ã€‚é»˜è®¤ä¼šæ¸²æŸ“ä¸ºä¸€ä¸ªaæ ‡ç­¾<br>        &lt;router-link to&#x3D;&quot;&#x2F;home&quot;&gt;&lt;&#x2F;router-link&gt;    <br>        &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;&lt;&#x2F;router-link&gt;<br>        <br>        &#x2F;&#x2F;router-viewæ˜¯å ä½ç»„ä»¶ï¼Œå¯æ˜¾ç¤ºå‰ç«¯è·¯ç”±ç»‘å®šçš„ç»„ä»¶<br>        &lt;router-view&gt;&lt;&#x2F;router-view&gt;<br>        <br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>    import router from &#39;.&#x2F;router&#x2F;index.js&#39;   &#x2F;&#x2F; å¯¼å…¥è·¯ç”±ï¼Œindex.jså¯ä»¥çœç•¥<br>    <br>    export default &#123;<br>        name:&#39;App&#39;,<br>    &#125;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>    <br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>
<p><img src="/./image-20200830144015434.png" srcset="/img/loading.gif" alt="image-20200830144015434"></p>
<h3 id="é»˜è®¤è·¯ç”±ï¼ˆè·¯ç”±é‡å®šå‘ï¼‰"><a href="#é»˜è®¤è·¯ç”±ï¼ˆè·¯ç”±é‡å®šå‘ï¼‰" class="headerlink" title="é»˜è®¤è·¯ç”±ï¼ˆè·¯ç”±é‡å®šå‘ï¼‰"></a>é»˜è®¤è·¯ç”±ï¼ˆè·¯ç”±é‡å®šå‘ï¼‰</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"># routerç›®å½•ä¸‹çš„index.js<br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/&#x27;</span>,<br>        redirect:<span class="hljs-string">&#x27;/home&#x27;</span>    <span class="hljs-comment">//   æ ¹ç›®å½•é‡å®šå‘åˆ°&#x27;/home&#x27;</span><br>    &#125;,<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/home&#x27;</span>,<br>        component:Home<br>    &#125;,<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/about&#x27;</span>,<br>        component:About<br>    &#125;<br>];<br><br><span class="hljs-keyword">const</span> router=<span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes:routes,<br>    mode:<span class="hljs-string">&#x27;hash&#x27;</span><br>&#125;);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure>
<h3 id="åˆ«å"><a href="#åˆ«å" class="headerlink" title="åˆ«å"></a>åˆ«å</h3><p>â€œé‡å®šå‘â€çš„æ„æ€æ˜¯ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/a</code>æ—¶ï¼ŒURL å°†ä¼šè¢«æ›¿æ¢æˆ <code>/b</code>ï¼Œç„¶ååŒ¹é…è·¯ç”±ä¸º <code>/b</code>ï¼Œé‚£ä¹ˆâ€œåˆ«åâ€åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong><code>/a</code> çš„åˆ«åæ˜¯ <code>/b</code>ï¼Œæ„å‘³ç€ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/b</code> æ—¶ï¼ŒURL ä¼šä¿æŒä¸º <code>/b</code>ï¼Œä½†æ˜¯è·¯ç”±åŒ¹é…åˆ™ä¸º <code>/a</code>ï¼Œå°±åƒç”¨æˆ·è®¿é—® <code>/a</code> ä¸€æ ·ã€‚</strong></p>
<p>ä¸Šé¢å¯¹åº”çš„è·¯ç”±é…ç½®ä¸ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  routes: [<br>    &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/a&#x27;</span>, <span class="hljs-attr">component</span>: A, <span class="hljs-attr">alias</span>: <span class="hljs-string">&#x27;/b&#x27;</span> &#125;<br>  ]<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>â€œåˆ«åâ€çš„åŠŸèƒ½è®©ä½ å¯ä»¥è‡ªç”±åœ°å°† UI ç»“æ„æ˜ å°„åˆ°ä»»æ„çš„ URLï¼Œè€Œä¸æ˜¯å—é™äºé…ç½®çš„åµŒå¥—è·¯ç”±ç»“æ„ã€‚</p>
<h3 id="hashä¸HTMl5çš„historyæ¨¡å¼"><a href="#hashä¸HTMl5çš„historyæ¨¡å¼" class="headerlink" title="hashä¸HTMl5çš„historyæ¨¡å¼"></a>hashä¸HTMl5çš„historyæ¨¡å¼</h3><p>åœ¨ä¸åˆ·æ–°é¡µé¢çš„å‰æä¸‹ï¼Œæ”¹å˜URLæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<p>1.æ”¹å˜urlçš„hashï¼ˆé”šç‚¹ï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯æ”¹å˜locationå¯¹è±¡çš„hashå±æ€§ã€‚ï¼ˆlocation.hash=xxxï¼‰</p>
<p>2.ä½¿ç”¨HTML5çš„historyæ¨¡å¼ä¸­çš„APIã€‚</p>
<pre><code>BOMä¸­ä½¿ç”¨æ ˆç»“æ„ä¿å­˜è®¿é—®èµ„æºçš„å†å²è®°å½•ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å½“å‰çš„URLã€‚</code></pre>
<ul>
<li>history.pushState( { } , â€˜â€™ ,â€™homeâ€™)    ==â€™/homeâ€™ å‹æ ˆ==</li>
<li>history.back( )              ==æŒ‡é’ˆä¸‹ç§»==</li>
<li>history.forward( )         ==æŒ‡é’ˆä¸Šç§»==</li>
<li>history.go(n)                 ==æŒ‡é’ˆè·³è½¬==</li>
<li>history.replaceState({ },â€™â€™, â€˜homeâ€™)      ==â€™/homeâ€™ æ›¿æ¢æ ˆé¡¶==</li>
</ul>
<h3 id="åœ¨vue-routerä¸­ä½¿ç”¨historyæ¨¡å¼"><a href="#åœ¨vue-routerä¸­ä½¿ç”¨historyæ¨¡å¼" class="headerlink" title="åœ¨vue-routerä¸­ä½¿ç”¨historyæ¨¡å¼"></a>åœ¨vue-routerä¸­ä½¿ç”¨historyæ¨¡å¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"># routerç›®å½•ä¸‹çš„index.js<br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/&#x27;</span>,<br>        redirect:<span class="hljs-string">&#x27;/home&#x27;</span>    <br>    &#125;,<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/home&#x27;</span>,<br>        component:Home<br>    &#125;,<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/about&#x27;</span>,<br>        component:About<br>    &#125;<br>];<br><br><span class="hljs-keyword">const</span> router=<span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes:routes,<br>    mode:<span class="hljs-string">&#x27;history&#x27;</span>                    <span class="hljs-comment">//åœ¨åˆ›å»ºè·¯ç”±å¯¹è±¡æ—¶ï¼Œé…ç½®historyæ¨¡å¼ã€‚é»˜è®¤å€¼ä¸º&#x27;hash&#x27;</span><br>&#125;);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure>




<h3 id="router-linkçš„å±æ€§"><a href="#router-linkçš„å±æ€§" class="headerlink" title="router-linkçš„å±æ€§"></a>router-linkçš„å±æ€§</h3><ol>
<li><p><strong>toå±æ€§</strong></p>
<p>ç”¨äºå£°æ˜å¼å‰ç«¯è·¯ç”±è·³è½¬ï¼Œtoå±æ€§æŒ‡å®šè·³è½¬çš„ç»å¯¹pathã€queryä»¥åŠhashã€‚</p>
<p>&lt;router-link ==to===â€/homeâ€&gt;     &lt;/ router-link&gt;</p>
</li>
</ol>
<ol start="2">
<li><p><strong>tagå±æ€§</strong></p>
<p>ç”¨äºæŒ‡å®šrouter-linkæ ‡ç­¾æœ€ç»ˆè¢«æ¸²æŸ“æˆçš„domæ ‡ç­¾ç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè¢«æ¸²æŸ“æˆaæ ‡ç­¾ã€‚</p>
<p>&lt;router-link to=â€/homeâ€ ==tag===â€buttonâ€&gt;   &lt;/ router-link&gt;</p>
</li>
<li><p><strong>replaceå¸ƒå°”å±æ€§</strong></p>
<p>åœ¨urlè·³è½¬æ—¶ä½¿ç”¨history.replaceæ–¹æ³•ï¼Œæ›¿æ¢BOMå†å²è®°å½•æ ˆç»“æ„çš„æ ˆé¡¶è®°å½•ã€‚</p>
<p>&lt;router-link to=â€/homeâ€ tag=â€buttonâ€ ==replace==&gt;   &lt;/ router-link&gt;</p>
</li>
<li><p><strong>active-classå±æ€§</strong></p>
<p>ç”¨äºæŒ‡å®šrouter-linkæ¸²æŸ“å‡ºçš„æ ‡ç­¾åœ¨æ´»è·ƒï¼ˆè¢«ç‚¹å‡»ï¼‰æ—¶çš„classå±æ€§å€¼ã€‚é»˜è®¤ä¸ºrouter-link-activeã€‚</p>
<p><img src="/./image-20200830165640888.png" srcset="/img/loading.gif" alt="image-20200830165640888"></p>
<p>ğŸ‘‡</p>
<p>&lt;router-link to=â€/homeâ€ tag=â€buttonâ€ ==active-class=â€activeâ€==&gt;   &lt;/ router-link&gt;</p>
<p><img src="/./image-20200830165558560.png" srcset="/img/loading.gif" alt="image-20200830165558560"></p>
</li>
</ol>
<p>   <em>åœ¨è·¯ç”±å¯¹è±¡ä¸­å…¨å±€ä¿®æ”¹æ‰€æœ‰router-linkçš„active-classï¼š</em></p>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> router=<span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes,<br>    mode:<span class="hljs-string">&#x27;history&#x27;</span>,<br>    linkActiveClass:<span class="hljs-string">&#x27;active&#x27;</span>  <span class="hljs-comment">//ä¿®æ”¹linkActiveClasså±æ€§</span><br>&#125;)<br></code></pre></td></tr></table></figure>


<h3 id="routerå’Œ-route"><a href="#routerå’Œ-route" class="headerlink" title="$routerå’Œ$route"></a>$routerå’Œ$route</h3><p><strong>ä¸€ã€åŒºåˆ«</strong></p>
<p><code>this.$router</code>æ˜¯VueRouterçš„å®ä¾‹ã€‚</p>
<p>å½“å¯¼èˆªåˆ°ä¸åŒurlï¼Œå¯ä»¥ä½¿ç”¨<code>this.$router.push</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åˆ™ä¼šå‘historyæ ˆé‡Œé¢æ·»åŠ ä¸€æ¡è®°å½•ï¼Œå½“ç‚¹å‡»æµè§ˆå™¨å›é€€æŒ‰é’®æˆ–è€…<code>this.$router.back()</code>å°±ä¼šå›é€€ä¹‹å‰çš„urlã€‚</p>
<p><code>this.$route</code>ç›¸å½“äºå½“å‰æ¿€æ´»çš„è·¯ç”±å¯¹è±¡ï¼ŒåŒ…å«å½“å‰urlè§£æå¾—åˆ°çš„æ•°æ®ï¼Œå¯ä»¥ä»å¯¹è±¡é‡Œè·å–ä¸€äº›æ•°æ®ï¼Œå¦‚name,path,query,paramsç­‰ã€‚</p>
<p><strong>äºŒã€è”ç³»</strong></p>
<p><code>$router</code>å’Œ<code>$route</code>æ˜¯VueåŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œè€Œæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯VueåŠå…¶å­ç±»çš„å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½é€šè¿‡ç»„ä»¶çš„éšå¼åŸå‹é“¾è®¿é—®åˆ°è¿™ä¸¤ä¸ªå±æ€§ã€‚</p>
<p><strong>ä¸‰ã€å¸¸è§ä½¿ç”¨</strong></p>
<p><code>this.$router</code></p>
<ol>
<li><p>pushæ–¹æ³•</p>
<p>pushæ–¹æ³•å…¶å®å’Œ<code>&lt;router-link :to=&quot;...&quot;&gt;</code>æ˜¯ç­‰åŒçš„ï¼Œä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æµè§ˆå™¨çš„è¿”å›æŒ‰é’®æ—¶å¯ä»¥çœ‹åˆ°ä¹‹å‰çš„é¡µé¢ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$router.push(path)<br></code></pre></td></tr></table></figure></li>
<li><p>goæ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//é¡µé¢è·¯ç”±è·³è½¬ å‰è¿›æˆ–è€…åé€€</span><br><span class="hljs-built_in">this</span>.$router.go(n)<br></code></pre></td></tr></table></figure></li>
<li><p>replaceæ–¹æ³•</p>
<p>pushæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œè€Œreplaceæ–¹æ³•æ˜¯æ›¿æ¢å½“å‰çš„è®°å½•ï¼Œå¹¶ç½®ä¸ºhistoryæ ˆé¡¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$router.replace(path)<br></code></pre></td></tr></table></figure>


</li>
</ol>
<p><code>this.$route</code></p>
<p>$routeå¯¹è±¡è¡¨ç¤ºå½“å‰çš„è·¯ç”±ä¿¡æ¯ï¼ŒåŒ…å«äº†å½“å‰ URL è§£æå¾—åˆ°çš„ä¿¡æ¯ã€‚åŒ…å«å½“å‰çš„è·¯å¾„ï¼Œå‚æ•°ï¼Œqueryå¯¹è±¡ç­‰ã€‚</p>
<ol>
<li><strong>$route.path</strong></li>
</ol>
<p>ç±»å‹: <code>string</code></p>
<p>   å­—ç¬¦ä¸²ï¼Œå¯¹åº”å½“å‰è·¯ç”±çš„è·¯å¾„ï¼Œæ€»æ˜¯è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œå¦‚ â€œ/foo/barâ€ã€‚</p>
<ol start="2">
<li><p><strong>$route.params</strong></p>
<p>ç±»å‹: <code>Object</code></p>
<p>ä¸€ä¸ª key/value å¯¹è±¡ï¼ŒåŒ…å«äº† åŠ¨æ€ç‰‡æ®µ å’Œ å…¨åŒ¹é…ç‰‡æ®µï¼Œ<br>å¦‚æœæ²¡æœ‰è·¯ç”±å‚æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ã€‚</p>
</li>
<li><p><strong>$route.query</strong></p>
<p>ç±»å‹: <code>Object</code></p>
<p>ä¸€ä¸ª key/value å¯¹è±¡ï¼Œè¡¨ç¤º URL æŸ¥è¯¢å‚æ•°ã€‚<br>ä¾‹å¦‚ï¼Œå¯¹äºè·¯å¾„ /foo?user=1ï¼Œåˆ™æœ‰ $route.query.user == 1ï¼Œ<br>å¦‚æœæ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œåˆ™æ˜¯ä¸ªç©ºå¯¹è±¡ã€‚</p>
</li>
<li><p><strong>$route.hash</strong></p>
<p>ç±»å‹: <code>string</code></p>
<p>å½“å‰è·¯ç”±çš„ hash å€¼ (ä¸å¸¦ #) ï¼Œå¦‚æœæ²¡æœ‰ hash å€¼ï¼Œåˆ™ä¸ºç©ºå­—ç¬¦ä¸²ã€‚é”šç‚¹</p>
</li>
<li><p><strong>$route.fullPath</strong></p>
<p>ç±»å‹: <code>string</code></p>
<p>å®Œæˆè§£æåçš„è·¯å¾„ï¼ŒåŒ…å«pathã€æŸ¥è¯¢å‚æ•°å’Œ hash çš„å®Œæ•´è·¯å¾„ã€‚</p>
</li>
<li><p><strong>$route.matched</strong></p>
<p>ç±»å‹: <code>Array&lt;RouteRecord&gt;</code></p>
<p>ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å½“å‰è·¯ç”±çš„æ‰€æœ‰åµŒå¥—è·¯å¾„ç‰‡æ®µçš„<strong>è·¯ç”±è®°å½•</strong> ã€‚è·¯ç”±è®°å½•å°±æ˜¯ <code>routes</code> é…ç½®æ•°ç»„ä¸­çš„å¯¹è±¡å‰¯æœ¬ (è¿˜æœ‰åœ¨ <code>children</code> æ•°ç»„)ã€‚</p>
</li>
<li><p><strong>$route.name</strong>  </p>
<p>å½“å‰è·¯ç”±çš„åç§°ï¼Œå¦‚æœæœ‰çš„è¯ã€‚</p>
</li>
<li><p><strong>$route.meta</strong></p>
<p>ç±»å‹ï¼š<code>Object</code></p>
<p>ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå†…å®¹$routeåŒ¹é…çš„é‚£æ¡è·¯ç”±çºªå½•çš„å…ƒæ•°æ®ï¼Œå¦‚æœæœ‰çš„è¯ã€‚</p>
<p>å¦‚æœ$routeåŒ¹é…çš„é‚£æ¡è·¯ç”±æ²¡æœ‰å…ƒæ•°æ®ï¼Œåˆ™æœ¬å±æ€§å€¼ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚</p>
</li>
</ol>
<h3 id="ç¼–ç¨‹å¼å‰ç«¯è·¯ç”±è·³è½¬"><a href="#ç¼–ç¨‹å¼å‰ç«¯è·¯ç”±è·³è½¬" class="headerlink" title="ç¼–ç¨‹å¼å‰ç«¯è·¯ç”±è·³è½¬"></a>ç¼–ç¨‹å¼å‰ç«¯è·¯ç”±è·³è½¬</h3><p>å³é€šè¿‡ä»£ç è°ƒç”¨apiè·³è½¬è·¯ç”±ã€‚</p>
<p>è€Œåœ¨router-linkæ ‡ç­¾ä¸­é€šè¿‡toå±æ€§è·³è½¬è·¯ç”±ç§°ä½œå£°æ˜å¼å‰ç«¯è·¯ç”±è·³è½¬ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯è°ƒç”¨äº†$router.pushæ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue"># App.vue<br><br>&lt;template&gt;<br>	&lt;div id&#x3D;&quot;app&quot;&gt;<br>        <br>        &lt;button @click&#x3D;&quot;clickhome&quot;&gt;å»ä¸»é¡µ&lt;&#x2F;button&gt;  &#x2F;&#x2F;ä½¿ç”¨æŒ‰é’®è€Œä¸æ˜¯router-link<br>        &lt;router-view&gt;&lt;&#x2F;router-view&gt;<br>        <br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>    import router from &#39;.&#x2F;router&#x2F;index.js&#39;   &#x2F;&#x2F; å¯¼å…¥è·¯ç”±ï¼Œindex.jså¯ä»¥çœç•¥<br>    <br>    export default &#123;<br>        name:&#39;App&#39;,<br>        router:router,<br>        methods:&#123;<br>            clickHome()&#123;<br>                &#x2F;&#x2F;è°ƒç”¨ç»„ä»¶çš„$routerçš„pushæ–¹æ³•è·³è½¬è·¯ç”±<br>                &#x2F;&#x2F;ç›¸å½“äºæ‰§è¡Œäº†history.pushState(&#39;&#x2F;home&#39;)<br>                &#x2F;&#x2F;ç›¸åº”çš„è¿˜æœ‰$router.replace(path)æ–¹æ³•<br>                this.$router.push(&#39;&#x2F;home&#39;);    <br>                &#x2F;&#x2F;this.$router.replace(&#39;&#x2F;home&#39;);<br>            &#125;<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>


<p><strong>Vueå®˜æ–¹è§£æ</strong></p>
<p><code>router.push(location, onComplete?, onAbort?)</code></p>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨ Vue å®ä¾‹å†…éƒ¨ï¼Œä½ å¯ä»¥é€šè¿‡ <code>$router</code> è®¿é—®è·¯ç”±å®ä¾‹ã€‚å› æ­¤ä½ å¯ä»¥è°ƒç”¨ <code>this.$router.push</code>ã€‚</p>
<p>æƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œåˆ™ä½¿ç”¨ <code>router.push</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œåˆ™å›åˆ°ä¹‹å‰çš„ URLã€‚</p>
<p>å½“ä½ ç‚¹å‡» <code>&lt;router-link&gt;</code> æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨å†…éƒ¨è°ƒç”¨ï¼Œæ‰€ä»¥è¯´ï¼Œç‚¹å‡» <code>&lt;router-link :to=&quot;...&quot;&gt;</code> ç­‰åŒäºè°ƒç”¨ <code>router.push(...)</code>ã€‚</p>
<table>
<thead>
<tr>
<th>å£°æ˜å¼</th>
<th>ç¼–ç¨‹å¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td>
<td><code>router.push(...)</code></td>
</tr>
</tbody></table>
<p>push/replaceæ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å­—ç¬¦ä¸²</span><br>router.push(<span class="hljs-string">&#x27;home&#x27;</span>)<br><br><span class="hljs-comment">// å¯¹è±¡</span><br>router.push(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;home&#x27;</span> &#125;)<br><br><span class="hljs-comment">// å‘½åçš„è·¯ç”±</span><br>router.push(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">userId</span>: <span class="hljs-string">&#x27;123&#x27;</span> &#125;&#125;)<br><br><span class="hljs-comment">// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private</span><br>router.push(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;register&#x27;</span>, <span class="hljs-attr">query</span>: &#123; <span class="hljs-attr">plan</span>: <span class="hljs-string">&#x27;private&#x27;</span> &#125;&#125;)<br></code></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæä¾›äº† <code>path</code>ï¼Œ<code>params</code> ä¼šè¢«å¿½ç•¥ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„ <code>query</code> å¹¶ä¸å±äºè¿™ç§æƒ…å†µã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸‹é¢ä¾‹å­çš„åšæ³•ï¼Œä½ éœ€è¦æä¾›è·¯ç”±çš„ <code>name</code> æˆ–æ‰‹å†™å®Œæ•´çš„å¸¦æœ‰å‚æ•°çš„ <code>path</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> userId = <span class="hljs-string">&#x27;123&#x27;</span><br>router.push(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-attr">params</span>: &#123; userId &#125;&#125;) <span class="hljs-comment">// -&gt; /user/123</span><br>router.push(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">`/user/<span class="hljs-subst">$&#123;userId&#125;</span>`</span> &#125;) <span class="hljs-comment">// -&gt; /user/123</span><br><span class="hljs-comment">// è¿™é‡Œçš„ params ä¸ç”Ÿæ•ˆ</span><br>router.push(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/user&#x27;</span>, <span class="hljs-attr">params</span>: &#123; userId &#125;&#125;) <span class="hljs-comment">// -&gt; /user</span><br></code></pre></td></tr></table></figure>


<p><strong>æ³¨æ„ï¼š</strong>pushæ–¹æ³•ä¸­çš„<code>path</code>å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p>
<ol>
<li><p>è‹¥å½“å‰<code>path</code>ä¸º<code>/user</code>,åˆ™ä½¿ç”¨<code>$router.push(&#39;./user/mz&#39;)</code>å¯ä»¥è·³è½¬åˆ°<code>/user/mz</code>ã€‚</p>
<p>åŸå› æ˜¯<code>/user</code>çš„å½“å‰ç›®å½•ä»ç„¶ä¸º==æ ¹ç›®å½• /== ã€‚</p>
</li>
<li><p>è‹¥å½“å‰pathä¸º<code>/user/</code>,åˆ™ä½¿ç”¨<code>$router.push(&#39;./mz&#39;)</code>å°±èƒ½è·³è½¬åˆ°<code>/user/mz</code></p>
</li>
</ol>
<p>åŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼š å¦‚æœç›®çš„åœ°å’Œå½“å‰è·¯ç”±ç›¸åŒï¼Œåªæœ‰å‚æ•°å‘ç”Ÿäº†æ”¹å˜ (æ¯”å¦‚ä»ä¸€ä¸ªç”¨æˆ·èµ„æ–™åˆ°å¦ä¸€ä¸ª <code>/users/1</code> -&gt; <code>/users/2</code>)ï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šè§¦å‘ï¼Œä½ éœ€è¦ä½¿ç”¨ç»„ä»¶çš„ <a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96"><code>beforeRouteUpdate</code></a> é’©å­æ¥å“åº”è¿™ä¸ªå˜åŒ– (æ¯”å¦‚å‘å‡ºè¯·æ±‚æŠ“å–ç”¨æˆ·ä¿¡æ¯å¹¶æ›´æ–°ç»„ä»¶è§†å›¾)ã€‚</p>
<p><strong>å‘</strong>ğŸ•³ï¼š</p>
<p><font color='red'>åœ¨vue-routerä¸­ï¼Œä½¿ç”¨$router.push/replaceæ—¶ä¼šæ£€æŸ¥æ˜¯å¦é‡å¤è·³è½¬è‡³å½“å‰æ‰€åœ¨è·¯ç”±ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†ä¸å½±å“åŠŸèƒ½ä½¿ç”¨</font></p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>æ–¹æ³•1.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"># åœ¨routerç›®å½•ä¸‹çš„index.js (è·¯ç”±æ–‡ä»¶æœ€ååŠ è½½ä»¥ä¸‹ä»£ç ç‰‡æ®µ)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    let router = new VueRouter(&#123;...&#125;)</span><br><span class="hljs-comment">    ....</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">const</span> originalPush = VueRouter.prototype.push; <span class="hljs-comment">//è§£å†³pushæ–¹æ³•çš„bug</span><br>VueRouter.prototype.push = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span> (<span class="hljs-params">location</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> originalPush.call(<span class="hljs-built_in">this</span>, location).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)<br>&#125;;<br><br><span class="hljs-keyword">const</span> originalReplace = VueRouter.prototype.replace;  <span class="hljs-comment">//è§£å†³replaceæ–¹æ³•çš„bug</span><br>VueRouter.prototype.replace = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span> (<span class="hljs-params">location</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> originalReplace.call(<span class="hljs-built_in">this</span>, location).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)<br>&#125;;<br><br><span class="hljs-comment">// export default router</span><br></code></pre></td></tr></table></figure>
<p>æ–¹æ³•2.</p>
<pre><code>ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„vue-router  </code></pre>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">npm</span> i vue-router@<span class="hljs-number">3</span>.<span class="hljs-number">0</span> --save<br></code></pre></td></tr></table></figure>




<p>[<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43202608/article/details/98884620?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1%5D">https://blog.csdn.net/weixin_43202608/article/details/98884620?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1]</a></p>
<h3 id="åŠ¨æ€è·¯ç”±ä¸è·¯ç”±å‚æ•°"><a href="#åŠ¨æ€è·¯ç”±ä¸è·¯ç”±å‚æ•°" class="headerlink" title="åŠ¨æ€è·¯ç”±ä¸è·¯ç”±å‚æ•°"></a>åŠ¨æ€è·¯ç”±ä¸è·¯ç”±å‚æ•°</h3><p>==ï¼ˆä»¥åŠ¨æ€äºŒçº§è·¯ç”±ä¸ºä¾‹ï¼‰==</p>
<p>åŠ¨æ€è·¯ç”±çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"># routerğŸ‘‰index.js<br><br><span class="hljs-keyword">import</span> User <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxx&#x27;</span>  <span class="hljs-comment">//å¯¼å…¥Userç»„ä»¶</span><br><span class="hljs-keyword">import</span> Login <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxx&#x27;</span><br><br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>    	path:<span class="hljs-string">&#x27;/user&#x27;</span>,<br>        component:Login,<br>        children:[<br>            &#123;<br>                name:<span class="hljs-string">&#x27;userInfo1&#x27;</span>,<br>                path:<span class="hljs-string">&#x27;:userId&#x27;</span>,<br>                component:User<br>            &#125;<br>        ]<br>    &#125;,<br>    <br>    &#123;<br>        name:<span class="hljs-string">&#x27;userInfo2&#x27;</span><br>        path:<span class="hljs-string">&#x27;/user/:userId&#x27;</span>, <span class="hljs-comment">//UserInfo2æ°¸è¿œä¸ä¼šèµ·ä½œç”¨ï¼Œå› ä¸ºä¼˜å…ˆçº§æ¯”userInfo1ä½ã€‚å“ªä¸€æ¡è·¯ç”±å…ˆè®¾ç½®ï¼Œå“ªä¸€æ¡è·¯ç”±çš„ä¼˜å…ˆçº§è¾ƒé«˜ã€‚</span><br>        component:User<br>    &#125;<br>]<br></code></pre></td></tr></table></figure>
<p>ä¸€çº§è·¯ç”±ç»„ä»¶å‘äºŒçº§è·¯ç”±ä¼ é€’å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue"># Login.vue<br><br>&lt;template&gt;<br>	&lt;div class&#x3D;&quot;login&quot;&gt;<br>        <br>        &lt;!-- æŒ‡å®šè·³è½¬çš„å®Œæ•´ç»å¯¹è·¯å¾„ --&gt;<br>        &lt;router-link :to&#x3D;&quot;&#96;&#x2F;user&#x2F;$&#123;userId&#125;&#96;&quot;&gt;ç™»å½•1&lt;&#x2F;router-link&gt;<br>        &lt;!--ç›¸å½“äºğŸ‘‡--&gt;<br>        &lt;router-link :to&#x3D;&quot;&#123;path:&#96;&#x2F;user&#x2F;$&#123;userId&#125;&#96;&#125;&quot;&gt;ç™»å½•1&lt;&#x2F;router-link&gt;<br>        <br>        <br>        &lt;!-- æŒ‡å®šè·³è½¬åˆ°åä¸ºuserInfo1çš„è·¯ç”±ï¼Œå¹¶è®¾ç½®å‚æ•° --&gt;<br>        &lt;router-link :to&#x3D;&quot;&#123;name:&#39;userInfo1&#39;,params:&#123;userId&#125;&#125;&quot;&gt;ç™»å½•2&lt;&#x2F;router-link&gt;<br>        <br>        &lt;router-view&gt;&lt;&#x2F;router-view&gt;<br>        <br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&#39;login&#39;,<br>        data()&#123;<br>            return &#123;<br>                userId:&#39;mzleman&#39;<br>            &#125;<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>
<p>äºŒçº§è·¯ç”±ç»„ä»¶è·å–è·¯ç”±å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue"># User.vue<br><br>&lt;template&gt;<br>	&lt;div class&#x3D;&quot;user&quot;&gt;<br>        &lt;div&gt;å¤´åƒ&lt;&#x2F;div&gt;<br>        &lt;!-- è·å–å½“å‰è·¯ç”±ä¸­çš„å‚æ•°  $route.params  --&gt;<br>        &lt;h2&gt;id:&lt;span&gt;&#123;&#123;$route.params.userId&#125;&#125;&lt;&#x2F;span&gt;  <br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&#39;login&#39;,<br>        data()&#123;<br>            return &#123;<br>                userId:&#39;mzleman&#39;<br>            &#125;<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>




<h3 id="è·¯ç”±åµŒå¥—"><a href="#è·¯ç”±åµŒå¥—" class="headerlink" title="è·¯ç”±åµŒå¥—"></a>è·¯ç”±åµŒå¥—</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"># routerğŸ‘‰index.js<br><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxx.vue&#x27;</span><br><span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxx.vue&#x27;</span><br><span class="hljs-keyword">import</span> User <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxx.vue&#x27;</span><br><br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        name:<span class="hljs-string">&#x27;root&#x27;</span>,<br>        path:<span class="hljs-string">&#x27;/&#x27;</span>,<br>        component:App,<br>        <span class="hljs-comment">//å¼€å§‹åµŒå¥—</span><br>        children:[                 <span class="hljs-comment">//åœ¨è·¯ç”±é…ç½®å¯¹è±¡ä¸­çš„childrenå±æ€§ï¼Œå¯ä»¥è®¾ç½®å­è·¯ç”±</span><br>            &#123;<br>                <span class="hljs-comment">//   -&gt; /home</span><br>                name:<span class="hljs-string">&#x27;homepage&#x27;</span>,<br>                path:<span class="hljs-string">&#x27;home&#x27;</span>,       <span class="hljs-comment">//å­è·¯ç”±é…ç½®ä¸­ï¼Œè·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„ </span><br>                component:Home<br>            &#125;,<br>            &#123;<br>                <span class="hljs-comment">//   -&gt; /user/...</span><br>                name:<span class="hljs-string">&#x27;userinfo&#x27;</span>,      <span class="hljs-comment">//ä¸ºè·¯ç”±è®¾ç½®nameå±æ€§ å”¯ä¸€æ ‡è¯†è¯¥æ¡è·¯ç”±</span><br>                path:<span class="hljs-string">&#x27;user/:userId&#x27;</span>,  <span class="hljs-comment">// å­è·¯ç”±é…ç½®ä¸­ï¼Œä½¿ç”¨åŠ¨æ€è·¯ç”±</span><br>                component:User<br>            &#125;<br>        ]<br>    &#125;<br>]<br></code></pre></td></tr></table></figure>
<p><code>è·¯ç”±çš„åµŒå¥—åªæ˜¯ç”¨ä¸€ç§ç»“æ„åŒ–çš„æ–¹å¼é…ç½®å‰ç«¯è·¯ç”±ä¿¡æ¯ï¼Œå°†é€»è¾‘ä¸Šæœ‰å±‚æ¬¡å…³ç³»çš„è·¯ç”±æ”¾åœ¨ä¸€èµ·ï¼Œä½†ç›¸åº”çš„è·¯ç”±ç»„ä»¶ä¸å­˜åœ¨ç»å¯¹çš„å±‚æ¬¡åŒ–æ¸²æŸ“å…³ç³»ã€‚</code></p>
<p><code>å­è·¯ç”±å¯¹åº”çš„componentå¦‚ä½•æ˜¾ç¤ºï¼Œåªä¸è¯¥è·¯ç”±æ˜¯åœ¨å“ªä¸€ä¸ªç»„ä»¶ä¸­è·³è½¬æœ‰å…³ï¼Œå­è·¯ç”±ç»„ä»¶åœ¨è¯¥ç»„ä»¶ä¸­çš„router-viewä¸­æ˜¾ç¤ºã€‚</code></p>
<p><font color='red'>ä¸ºäº†é¿å…ç»„ä»¶æ¸²æŸ“åçš„å±‚æ¬¡å…³ç³»æ··ä¹±ï¼Œçˆ¶çº§è·¯ç”±å¯¹åº”çš„ç»„ä»¶ä¸å­è·¯ç”±å¯¹åº”çš„ç»„ä»¶ä¹Ÿåº”è¯¥å…·æœ‰ç›¸åº”çš„çˆ¶å­å…³ç³»ã€‚</font></p>
<blockquote>
<p>å½“routeä¸­æœ‰ä¸¤æ¡è·¯ç”±é…ç½®å¯ä»¥åŒ¹é…åŒä¸€ä¸ªURLæ—¶ï¼Œè°å…ˆåœ¨routesä¸­å®šä¹‰ï¼Œå°±åŒ¹é…æ‹¿ä¸€æ¡ã€‚</p>
<p>å¦‚ {path: â€˜/userâ€™, component: Login, children: [ {path: â€˜:userIdâ€™, component: User} ]},</p>
<p>{path: â€˜/user/:userIdâ€™, component: User} è¿™ä¸¤æ¡è·¯ç”±éƒ½å¯ä»¥åŒ¹é… /user/1ï¼Œä½†å‰ä¸€æ¡å…ˆå®šä¹‰ï¼Œåˆ™åŒ¹é…å‰ä¸€æ¡ï¼ŒLoginç»„ä»¶å°†åµŒå¥—Userç»„ä»¶æ˜¾ç¤ºã€‚</p>
<p>å¦‚æœå°†ç¬¬äºŒæ¡è·¯ç”±å…ˆå®šä¹‰ï¼Œåˆ™ç›´æ¥æ˜¾ç¤ºUserç»„ä»¶ã€‚</p>
</blockquote>
<h3 id="è·¯ç”±ç»„ä»¶æ‡’åŠ è½½"><a href="#è·¯ç”±ç»„ä»¶æ‡’åŠ è½½" class="headerlink" title="è·¯ç”±ç»„ä»¶æ‡’åŠ è½½"></a>è·¯ç”±ç»„ä»¶æ‡’åŠ è½½</h3><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html">https://router.vuejs.org/zh/guide/advanced/lazy-loading.html</a></p>
<p>åœ¨Vue Cliçš„é»˜è®¤é…ç½®æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å¼€å‘ç»„ä»¶vueæ–‡ä»¶ (åŒ…æ‹¬main.js)ä¼šè¢«æ‰“åŒ…åˆ°ä¸€ä¸ªapp.jsä¸­ï¼Œè¿™å°±ä½¿å¾—è¯¥jsæ–‡ä»¶ååˆ†åºå¤§ã€‚</p>
<p>(é™¤äº†app.jsä¼šè¢«ç¬¬ä¸€æ—¶é—´è¯·æ±‚å¤–ï¼Œè¿˜æœ‰ç¬¬ä¸‰æ–¹åŒ…çš„æ‰“åŒ…æ–‡ä»¶vendor.jsä»¥åŠæ¨¡å—åŒ–åº•å±‚æ”¯æ’‘çš„æ–‡ä»¶manifest.jsä¼šè¢«ç¬¬ä¸€æ—¶é—´è¯·æ±‚è‡³å‰ç«¯)</p>
<p>åœ¨ä½¿ç”¨ç»„ä»¶æ‡’åŠ è½½åï¼Œæ¯ä¸ªæ‡’åŠ è½½çš„ç»„ä»¶ä¼šè¢«å•ç‹¬æ‰“åŒ…åˆ°ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼ˆè€Œä¸æ˜¯app.jsï¼‰ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å‰ç«¯è·¯ç”±ï¼ŒæŒ‰éœ€å‘æœåŠ¡å™¨è¯·æ±‚ç»„ä»¶çš„jsæ‰“åŒ…æ–‡ä»¶ã€‚</p>
<p><img src="/./image-20200901110233735.png" srcset="/img/loading.gif" alt="image-20200901110233735"></p>
<p><img src="/./image-20200901110610641.png" srcset="/img/loading.gif" alt="image-20200901110610641"></p>
<p><strong>åŸºæœ¬è¯­æ³•</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"># routerğŸ‘‰index.js<br><span class="hljs-keyword">import</span> VueRouter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br><br><span class="hljs-keyword">const</span> Home=<span class="hljs-function">()=&gt;</span><span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../components/Home.vue&#x27;</span>)<br><br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/home&#x27;</span>,<br>        component:Home<br>    &#125;<br>]<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes,<br>    mode:<span class="hljs-string">&#x27;history&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<h4 id="æŠŠç»„ä»¶æŒ‰ç»„åˆ†å—"><a href="#æŠŠç»„ä»¶æŒ‰ç»„åˆ†å—" class="headerlink" title="æŠŠç»„ä»¶æŒ‰ç»„åˆ†å—"></a>æŠŠç»„ä»¶æŒ‰ç»„åˆ†å—</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³æŠŠæŸä¸ªè·¯ç”±ä¸‹çš„æ‰€æœ‰ç»„ä»¶éƒ½æ‰“åŒ…åœ¨åŒä¸ªå¼‚æ­¥å— (chunk) ä¸­ã€‚åªéœ€è¦ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://webpack.js.org/guides/code-splitting-require/#chunkname">å‘½å chunk</a>ï¼Œä¸€ä¸ªç‰¹æ®Šçš„æ³¨é‡Šè¯­æ³•æ¥æä¾› chunk name (éœ€è¦ Webpack &gt; 2.4)ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> Foo = <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: &quot;group-foo&quot; */</span> <span class="hljs-string">&#x27;./Foo.vue&#x27;</span>)<br><span class="hljs-keyword">const</span> Bar = <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: &quot;group-foo&quot; */</span> <span class="hljs-string">&#x27;./Bar.vue&#x27;</span>)<br><span class="hljs-keyword">const</span> Baz = <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: &quot;group-foo&quot; */</span> <span class="hljs-string">&#x27;./Baz.vue&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p>Webpack ä¼šå°†ä»»ä½•ä¸€ä¸ªå¼‚æ­¥æ¨¡å—ä¸ç›¸åŒçš„å—åç§°ç»„åˆåˆ°ç›¸åŒçš„å¼‚æ­¥å—ä¸­ã€‚</p>
<h3 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h3><p>å‚è€ƒèµ„æ–™ï¼š<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p>
<h4 id="å…¨å±€å‰ç½®å®ˆå«"><a href="#å…¨å±€å‰ç½®å®ˆå«" class="headerlink" title="å…¨å±€å‰ç½®å®ˆå«"></a>å…¨å±€å‰ç½®å®ˆå«</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js"># router ğŸ‘‰ index.js<br><br><span class="hljs-keyword">const</span> routes=[<br>    &#123;<br>        path:<span class="hljs-string">&#x27;/&#x27;</span>,<br>        component:Index,<br>        meta:&#123;    <span class="hljs-comment">//åœ¨å…ƒæ•°æ®metaä¸­ä¿å­˜ä¸€äº›è·¯ç”±ä¿¡æ¯</span><br>            title:<span class="hljs-string">&#x27;é¦–é¡µ&#x27;</span><br>        &#125;<br>        children:[<br>            &#123;<br>                path:<span class="hljs-string">&#x27;home&#x27;</span>,<br>                component:Home,<br>                meta:&#123;<br>                    title:<span class="hljs-string">&#x27;ä¸»é¡µ&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br>        <br>    &#125;<br>];<br><br><span class="hljs-keyword">let</span> router=<span class="hljs-keyword">new</span> VueRouter(&#123;<br>    routes,<br>    mode:<span class="hljs-string">&#x27;history&#x27;</span><br>&#125;);<br><br><span class="hljs-comment">/* beforeEachæ–¹æ³•åŠ è½½å‰ç½®å®ˆå« */</span><br>router.beforeEach( guard:<span class="hljs-built_in">Function</span> );  <span class="hljs-comment">//é’©å­ï¼ˆå®ˆå«ï¼‰çš„ç”¨æ³•ç±»ä¼¼äºä¸­é—´ä»¶ï¼Œå¯æŒ‚è½½å¤šä¸ªé’©å­</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure>


<p><strong>å‰ç½®é’©å­</strong>ï¼ˆå®ˆå«ï¼‰è¦ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<pre><code>  1. **toï¼šRouteå¯¹è±¡** ï¼Œå°†è¦è·³è½¬åˆ°çš„ä¸‹ä¸€ä¸ªæ´»è·ƒè·¯ç”±
  2. fromï¼š Routeå¯¹è±¡ï¼Œå½“å‰çš„æ´»è·ƒè·¯ç”±ï¼Œå³$routeå¯¹è±¡
  3. **next ï¼šFunction  ä¸‹ä¸€ä¸ªé’©å­å‡½æ•°**ï¼Œå¿…é¡»ä½¿åœ¨é’©å­å†…è°ƒç”¨ä¸€ä¸‹ next( )ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚
  - **`next()`**: è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ **confirmed** (ç¡®è®¤çš„)ã€‚
  - **`next(false)`**: ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº† (å¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®)ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° `from` è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚
  - **`next(&#39;/&#39;)` æˆ–è€… `next(&#123; path: &#39;/&#39; &#125;)`**: è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚ä½ å¯ä»¥å‘ `next` ä¼ é€’ä»»æ„ä½ç½®å¯¹è±¡ï¼Œä¸”å…è®¸è®¾ç½®è¯¸å¦‚ `replace: true`ã€`name: &#39;home&#39;` ä¹‹ç±»çš„é€‰é¡¹ä»¥åŠä»»ä½•ç”¨åœ¨ [`router-link` çš„ `to` prop](https://router.vuejs.org/zh/api/#to) æˆ– [`router.push`](https://router.vuejs.org/zh/api/#router-push) ä¸­çš„é€‰é¡¹ã€‚
  - **`next(error)`**: (2.4.0+) å¦‚æœä¼ å…¥ `next` çš„å‚æ•°æ˜¯ä¸€ä¸ª `Error` å®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’ç»™ [`router.onError()`](https://router.vuejs.org/zh/api/#router-onerror) æ³¨å†Œè¿‡çš„å›è°ƒã€‚</code></pre>
<p><strong>æ¡ˆä¾‹ï¼šåœ¨è·³è½¬åˆ°å„æ¡è·¯ç”±æ—¶æ›´æ–°æ ‡ç­¾é¡µçš„æ ‡é¢˜</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">router.beforeEach(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)=&gt;</span>&#123;<br>    <br>    <span class="hljs-built_in">console</span>.log(to);<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">from</span>);<br>    <br>    <span class="hljs-built_in">document</span>.title=to.meta.title;<br>   <br>    <span class="hljs-comment">//document.title=to.matched[0].meta.title </span><br>   <span class="hljs-comment">//matchedæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¿å­˜äº†æ‰€æœ‰åŒ¹é…çš„è·¯ç”±</span><br>    <br>    next();<br>&#125;);<br></code></pre></td></tr></table></figure>


<h4 id="å…¨å±€åç½®é’©å­"><a href="#å…¨å±€åç½®é’©å­" class="headerlink" title="å…¨å±€åç½®é’©å­"></a>å…¨å±€åç½®é’©å­</h4><p>ä½ ä¹Ÿå¯ä»¥æ³¨å†Œå…¨å±€åç½®é’©å­ï¼Œç„¶è€Œå’Œå®ˆå«ä¸åŒçš„æ˜¯ï¼Œè¿™äº›é’©å­ä¸ä¼šæ¥å— <code>next</code> å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">router.afterEach(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="è·¯ç”±ç‹¬äº«å®ˆå«"><a href="#è·¯ç”±ç‹¬äº«å®ˆå«" class="headerlink" title="è·¯ç”±ç‹¬äº«å®ˆå«"></a>è·¯ç”±ç‹¬äº«å®ˆå«</h4><p>ä½ å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸Šç›´æ¥å®šä¹‰ <code>beforeEnter</code> å®ˆå«ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  routes: [<br>    &#123;<br>      path: <span class="hljs-string">&#x27;/foo&#x27;</span>,<br>      component: Foo,<br>      beforeEnter: <span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// ...</span><br>      &#125;<br>    &#125;<br>  ]<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>è¿™äº›å®ˆå«ä¸å…¨å±€å‰ç½®å®ˆå«çš„æ–¹æ³•å‚æ•°æ˜¯ä¸€æ ·çš„ã€‚</p>
<h4 id="ç»„ä»¶å†…çš„å®ˆå«"><a href="#ç»„ä»¶å†…çš„å®ˆå«" class="headerlink" title="ç»„ä»¶å†…çš„å®ˆå«"></a>ç»„ä»¶å†…çš„å®ˆå«</h4><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB</a></p>
<p>æœ€åï¼Œä½ å¯ä»¥åœ¨è·¯ç”±ç»„ä»¶å†…ç›´æ¥å®šä¹‰ä»¥ä¸‹è·¯ç”±å¯¼èˆªå®ˆå«ï¼š</p>
<ul>
<li><code>beforeRouteEnter</code></li>
<li><code>beforeRouteUpdate</code> (2.2 æ–°å¢)</li>
<li><code>beforeRouteLeave</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> Foo = &#123;<br>  template: <span class="hljs-string">`...`</span>,<br>  beforeRouteEnter (to, <span class="hljs-keyword">from</span>, next) &#123;<br>    <span class="hljs-comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span><br>    <span class="hljs-comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span><br>    <span class="hljs-comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span><br>  &#125;,<br>  beforeRouteUpdate (to, <span class="hljs-keyword">from</span>, next) &#123;<br>    <span class="hljs-comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span><br>    <span class="hljs-comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span><br>    <span class="hljs-comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span><br>    <span class="hljs-comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span><br>  &#125;,<br>  beforeRouteLeave (to, <span class="hljs-keyword">from</span>, next) &#123;<br>    <span class="hljs-comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span><br>    <span class="hljs-comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><code>beforeRouteEnter</code> å®ˆå« <strong>ä¸èƒ½</strong> è®¿é—® <code>this</code>ï¼Œå› ä¸ºå®ˆå«åœ¨å¯¼èˆªç¡®è®¤å‰è¢«è°ƒç”¨ï¼Œå› æ­¤å³å°†ç™»åœºçš„æ–°ç»„ä»¶è¿˜æ²¡è¢«åˆ›å»ºã€‚</p>
<p>ä¸è¿‡ï¼Œä½ å¯ä»¥é€šè¿‡ä¼ ä¸€ä¸ªå›è°ƒç»™ <code>next</code>æ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚åœ¨å¯¼èˆªè¢«ç¡®è®¤çš„æ—¶å€™æ‰§è¡Œå›è°ƒï¼Œå¹¶ä¸”æŠŠç»„ä»¶å®ä¾‹ä½œä¸ºå›è°ƒæ–¹æ³•çš„å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">beforeRouteEnter (to, <span class="hljs-keyword">from</span>, next) &#123;<br>  next(<span class="hljs-function"><span class="hljs-params">vm</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">// é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹</span><br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ³¨æ„ <code>beforeRouteEnter</code> æ˜¯æ”¯æŒç»™ <code>next</code> ä¼ é€’å›è°ƒçš„å”¯ä¸€å®ˆå«ã€‚å¯¹äº <code>beforeRouteUpdate</code> å’Œ <code>beforeRouteLeave</code> æ¥è¯´ï¼Œ<code>this</code> å·²ç»å¯ç”¨äº†ï¼Œæ‰€ä»¥<strong>ä¸æ”¯æŒ</strong>ä¼ é€’å›è°ƒï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">beforeRouteUpdate (to, <span class="hljs-keyword">from</span>, next) &#123;<br>  <span class="hljs-comment">// just use `this`</span><br>  <span class="hljs-built_in">this</span>.name = to.params.name<br>  next()<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™ä¸ªç¦»å¼€å®ˆå«é€šå¸¸ç”¨æ¥ç¦æ­¢ç”¨æˆ·åœ¨è¿˜æœªä¿å­˜ä¿®æ”¹å‰çªç„¶ç¦»å¼€ã€‚è¯¥å¯¼èˆªå¯ä»¥é€šè¿‡ <code>next(false)</code> æ¥å–æ¶ˆã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">beforeRouteLeave (to, <span class="hljs-keyword">from</span>, next) &#123;<br>  <span class="hljs-keyword">const</span> answer = <span class="hljs-built_in">window</span>.confirm(<span class="hljs-string">&#x27;Do you really want to leave? you have unsaved changes!&#x27;</span>)<br>  <span class="hljs-keyword">if</span> (answer) &#123;<br>    next()<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    next(<span class="hljs-literal">false</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h4 id="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"><a href="#å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹" class="headerlink" title="å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹"></a>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</h4><p><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B</a></p>
<ol>
<li>å¯¼èˆªè¢«è§¦å‘ã€‚</li>
<li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteLeave</code> å®ˆå«ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ <code>beforeEach</code> å®ˆå«ã€‚</li>
<li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteUpdate</code> å®ˆå« (2.2+)ã€‚</li>
<li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <code>beforeEnter</code>ã€‚</li>
<li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li>
<li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteEnter</code>ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ <code>beforeResolve</code> å®ˆå« (2.5+)ã€‚</li>
<li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ <code>afterEach</code> é’©å­ã€‚</li>
<li>è§¦å‘ DOM æ›´æ–°ã€‚</li>
<li>è°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«ä¸­ä¼ ç»™ <code>next</code> çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚</li>
</ol>
<h3 id="keep-aliveåŒ…è£¹router-view"><a href="#keep-aliveåŒ…è£¹router-view" class="headerlink" title="keep-aliveåŒ…è£¹router-view"></a>keep-aliveåŒ…è£¹router-view</h3><p><code>keep-aliveæ˜¯Vueå†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œæˆ–é¿å…é‡æ–°æ¸²æŸ“ï¼ˆç»´æŒç”Ÿå‘½å‘¨æœŸï¼‰ã€‚</code></p>
<p>ä½¿ç”¨keep-aliveåŒ…è£¹ä¸€ä¸ªéœ€è¦åå¤ä½¿ç”¨çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥é¿å…ç»„ä»¶åœ¨ä¸æ´»è·ƒæ—¶è¢«é”€æ¯ï¼Œåœ¨æ´»è·ƒæ—¶è¢«æ–°å»ºã€‚åŒæ—¶è¯¥ç»„ä»¶ä¼šå…·æœ‰æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°activedå’Œdeactivedã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç»„ä»¶åœ¨å¤±æ´»æ—¶è®°å½•ç»„ä»¶çŠ¶æ€ï¼Œç»„ä»¶é‡æ–°æ´»è·ƒæ—¶è¿”å›è‡³ä¸Šä¸€çŠ¶æ€</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue"># Home.vue<br># &lt;keep-alive&gt;æ ‡ç­¾åŒ…è£¹äº†Home.vueçš„çˆ¶çº§ç»„ä»¶ä¸­çš„&lt;router-view&#x2F;&gt;<br><br>&lt;template&gt;<br>&lt;div&gt;<br>    &#123;&#123;path&#125;&#125;  <br>&lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&#39;Home&#39;,<br>        data()&#123;<br>            return &#123;<br>                path:&#39;&#x2F;home&#39;<br>            &#125;<br>        &#125;,<br>        actived()&#123;<br>            this.$router.replace(this.path);   &#x2F;&#x2F;è¿”å›è‡³å¤±æ´»å‰çš„çŠ¶æ€<br>        &#125;,<br>        beforeRouteLeave(to, from, next)&#123;         &#x2F;&#x2F;ç»„ä»¶å†…çš„åç½®å‹¾å­<br>            this.path&#x3D;this.$route.path;<br>            next();<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;    <br></code></pre></td></tr></table></figure>


<p><strong>keep-aliveæ ‡ç­¾çš„excludeå’Œincludeå±æ€§</strong></p>
<p>keep-aliveæ ‡ç­¾å¯ä»¥åˆ©ç”¨excludeä¸includeå±æ€§æŒ‡å®šæ’é™¤æˆ–åŒ…å«å“ªäº›ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¼šè¢«ç»´æŒï¼Œå±æ€§å€¼ä¸ºé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œå¯¹åº”ç»„ä»¶å®šä¹‰æ—¶çš„nameå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;router-link to&#x3D;&quot;&#x2F;home&quot;&gt;&lt;&#x2F;router-link&gt;<br>&lt;keep-alive exclude&#x3D;&quot;Profile,User&quot;&gt;<br>    &lt;router-view&#x2F;&gt;<br>&lt;&#x2F;keep-alive&gt;<br></code></pre></td></tr></table></figure>


<h3 id="æ•°æ®è·å–"><a href="#æ•°æ®è·å–" class="headerlink" title="æ•°æ®è·å–"></a>æ•°æ®è·å–</h3><p>æœ‰æ—¶å€™ï¼Œè¿›å…¥æŸä¸ªè·¯ç”±åï¼Œéœ€è¦ä»æœåŠ¡å™¨è·å–æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œä½ éœ€è¦ä»æœåŠ¡å™¨è·å–ç”¨æˆ·çš„æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°ï¼š</p>
<ul>
<li><strong>å¯¼èˆªå®Œæˆä¹‹åè·å–</strong>ï¼šå…ˆå®Œæˆå¯¼èˆªï¼Œç„¶ååœ¨æ¥ä¸‹æ¥çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è·å–æ•°æ®ã€‚åœ¨æ•°æ®è·å–æœŸé—´æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€ä¹‹ç±»çš„æŒ‡ç¤ºã€‚</li>
<li><strong>å¯¼èˆªå®Œæˆä¹‹å‰è·å–</strong>ï¼šå¯¼èˆªå®Œæˆå‰ï¼Œåœ¨è·¯ç”±è¿›å…¥çš„å®ˆå«ä¸­è·å–æ•°æ®ï¼Œåœ¨æ•°æ®è·å–æˆåŠŸåæ‰§è¡Œå¯¼èˆªã€‚</li>
</ul>
<p>ä»æŠ€æœ¯è§’åº¦è®²ï¼Œä¸¤ç§æ–¹å¼éƒ½ä¸é”™ â€”â€” å°±çœ‹ä½ æƒ³è¦çš„ç”¨æˆ·ä½“éªŒæ˜¯å“ªç§ã€‚</p>
<h4 id="å¯¼èˆªå®Œæˆåè·å–æ•°æ®"><a href="#å¯¼èˆªå®Œæˆåè·å–æ•°æ®" class="headerlink" title="å¯¼èˆªå®Œæˆåè·å–æ•°æ®"></a>å¯¼èˆªå®Œæˆåè·å–æ•°æ®</h4><p>å½“ä½ ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶ï¼Œæˆ‘ä»¬ä¼šé©¬ä¸Šå¯¼èˆªå’Œæ¸²æŸ“ç»„ä»¶ï¼Œç„¶ååœ¨ç»„ä»¶çš„ <code>created</code> é’©å­ä¸­è·å–æ•°æ®ã€‚è¿™è®©æˆ‘ä»¬æœ‰æœºä¼šåœ¨æ•°æ®è·å–æœŸé—´å±•ç¤ºä¸€ä¸ª loading çŠ¶æ€ï¼Œè¿˜å¯ä»¥åœ¨ä¸åŒè§†å›¾é—´å±•ç¤ºä¸åŒçš„ loading çŠ¶æ€ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>Post</code> ç»„ä»¶ï¼Œéœ€è¦åŸºäº <code>$route.params.id</code> è·å–æ–‡ç« æ•°æ®ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;loading&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loading&quot;</span>&gt;</span><br>      Loading...<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;error&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;error&quot;</span>&gt;</span><br>      &#123;&#123; error &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; post.body &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>export default &#123;<br>  data () &#123;<br>    return &#123;<br>      loading: false,<br>      post: null,<br>      error: null<br>    &#125;<br>  &#125;,<br>  created () &#123;<br>    // ç»„ä»¶åˆ›å»ºå®Œåè·å–æ•°æ®ï¼Œ<br>    // æ­¤æ—¶ data å·²ç»è¢« observed äº†<br>    this.fetchData()<br>  &#125;,<br>  watch: &#123;<br>    // å¦‚æœè·¯ç”±æœ‰å˜åŒ–ï¼Œä¼šå†æ¬¡æ‰§è¡Œè¯¥æ–¹æ³•<br>    &#x27;$route&#x27;: &#x27;fetchData&#x27;<br>  &#125;,<br>  methods: &#123;<br>    fetchData () &#123;<br>      this.error = this.post = null<br>      this.loading = true<br>      // replace getPost with your data fetching util / API wrapper<br>      getPost(this.$route.params.id, (err, post) =&gt; &#123;<br>        this.loading = false<br>        if (err) &#123;<br>          this.error = err.toString()<br>        &#125; else &#123;<br>          this.post = post<br>        &#125;<br>      &#125;)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®"><a href="#åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®" class="headerlink" title="åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®"></a>åœ¨å¯¼èˆªå®Œæˆå‰è·å–æ•°æ®</h4><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨å¯¼èˆªè½¬å…¥æ–°çš„è·¯ç”±å‰è·å–æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ¥ä¸‹æ¥çš„ç»„ä»¶çš„ <code>beforeRouteEnter</code> å®ˆå«ä¸­è·å–æ•°æ®ï¼Œå½“æ•°æ®è·å–æˆåŠŸååªè°ƒç”¨ <code>next</code> æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  data () &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      post: <span class="hljs-literal">null</span>,<br>      error: <span class="hljs-literal">null</span><br>    &#125;<br>  &#125;,<br>  beforeRouteEnter (to, <span class="hljs-keyword">from</span>, next) &#123;<br>    getPost(to.params.id, <span class="hljs-function">(<span class="hljs-params">err, post</span>) =&gt;</span> &#123;<br>      next(<span class="hljs-function"><span class="hljs-params">vm</span> =&gt;</span> vm.setData(err, post))<br>    &#125;)<br>  &#125;,<br>  <span class="hljs-comment">// è·¯ç”±æ”¹å˜å‰ï¼Œç»„ä»¶å°±å·²ç»æ¸²æŸ“å®Œäº†</span><br>  <span class="hljs-comment">// é€»è¾‘ç¨ç¨ä¸åŒ</span><br>  beforeRouteUpdate (to, <span class="hljs-keyword">from</span>, next) &#123;<br>    <span class="hljs-built_in">this</span>.post = <span class="hljs-literal">null</span><br>    getPost(to.params.id, <span class="hljs-function">(<span class="hljs-params">err, post</span>) =&gt;</span> &#123;<br>      <span class="hljs-built_in">this</span>.setData(err, post)<br>      next()<br>    &#125;)<br>  &#125;,<br>  methods: &#123;<br>    setData (err, post) &#123;<br>      <span class="hljs-keyword">if</span> (err) &#123;<br>        <span class="hljs-built_in">this</span>.error = err.toString()<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.post = post<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åœ¨ä¸ºåé¢çš„è§†å›¾è·å–æ•°æ®æ—¶ï¼Œç”¨æˆ·ä¼šåœç•™åœ¨å½“å‰çš„ç•Œé¢ï¼Œå› æ­¤å»ºè®®åœ¨æ•°æ®è·å–æœŸé—´ï¼Œæ˜¾ç¤ºä¸€äº›è¿›åº¦æ¡æˆ–è€…åˆ«çš„æŒ‡ç¤ºã€‚å¦‚æœæ•°æ®è·å–å¤±è´¥ï¼ŒåŒæ ·æœ‰å¿…è¦å±•ç¤ºä¸€äº›å…¨å±€çš„é”™è¯¯æé†’ã€‚</p>
<h3 id="è·¯ç”±å…ƒä¿¡æ¯"><a href="#è·¯ç”±å…ƒä¿¡æ¯" class="headerlink" title="è·¯ç”±å…ƒä¿¡æ¯"></a>è·¯ç”±å…ƒä¿¡æ¯</h3><p>å®šä¹‰è·¯ç”±çš„æ—¶å€™å¯ä»¥é…ç½® <code>meta</code> å­—æ®µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  routes: [<br>    &#123;<br>      path: <span class="hljs-string">&#x27;/foo&#x27;</span>,<br>      component: Foo,<br>      children: [<br>        &#123;<br>          path: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>          component: Bar,<br>          <span class="hljs-comment">// a meta field</span><br>          meta: &#123; <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span> &#125;<br>        &#125;<br>      ]<br>    &#125;<br>  ]<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>é‚£ä¹ˆå¦‚ä½•è®¿é—®è¿™ä¸ª <code>meta</code> å­—æ®µå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ç§°å‘¼ <code>routes</code> é…ç½®ä¸­çš„æ¯ä¸ªè·¯ç”±å¯¹è±¡ä¸º <strong>è·¯ç”±è®°å½•</strong>ã€‚è·¯ç”±è®°å½•å¯ä»¥æ˜¯åµŒå¥—çš„ï¼Œå› æ­¤ï¼Œå½“ä¸€ä¸ªè·¯ç”±åŒ¹é…æˆåŠŸåï¼Œä»–å¯èƒ½åŒ¹é…å¤šä¸ªè·¯ç”±è®°å½•</p>
<p>ä¾‹å¦‚ï¼Œæ ¹æ®ä¸Šé¢çš„è·¯ç”±é…ç½®ï¼Œ<code>/foo/bar</code> è¿™ä¸ª URL å°†ä¼šåŒ¹é…çˆ¶è·¯ç”±è®°å½•ä»¥åŠå­è·¯ç”±è®°å½•ã€‚</p>
<p>ä¸€ä¸ªè·¯ç”±åŒ¹é…åˆ°çš„æ‰€æœ‰è·¯ç”±è®°å½•ä¼šæš´éœ²ä¸º <code>$route</code> å¯¹è±¡ (è¿˜æœ‰åœ¨å¯¼èˆªå®ˆå«ä¸­çš„è·¯ç”±å¯¹è±¡) çš„ <code>$route.matched</code> æ•°ç»„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦éå† <code>$route.matched</code> æ¥æ£€æŸ¥è·¯ç”±è®°å½•ä¸­çš„ <code>meta</code> å­—æ®µã€‚</p>
<p>ä¸‹é¢ä¾‹å­å±•ç¤ºåœ¨å…¨å±€å¯¼èˆªå®ˆå«ä¸­æ£€æŸ¥å…ƒå­—æ®µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">router.beforeEach(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (to.matched.some(<span class="hljs-function"><span class="hljs-params">record</span> =&gt;</span> record.meta.requiresAuth)) &#123;<br>    <span class="hljs-comment">// this route requires auth, check if logged in</span><br>    <span class="hljs-comment">// if not, redirect to login page.</span><br>    <span class="hljs-keyword">if</span> (!auth.loggedIn()) &#123;<br>      next(&#123;<br>        path: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>        query: &#123; <span class="hljs-attr">redirect</span>: to.fullPath &#125;<br>      &#125;)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      next()<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    next() <span class="hljs-comment">// ç¡®ä¿ä¸€å®šè¦è°ƒç”¨ next()</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ä¸å®œä¿®æ”¹metaã€‚</p>
</blockquote>
<h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p> <img src="/./image-20200926103349466.png" srcset="/img/loading.gif" alt="image-20200926103349466"></p>
<p><img src="/./image-20200926103508601.png" srcset="/img/loading.gif" alt="image-20200926103508601"></p>
<blockquote>
<p>åœ¨Vuexä¸­ä¿å­˜çš„çŠ¶æ€ï¼ˆæ•°æ®ï¼‰æ˜¯å“åº”å¼çš„ã€‚</p>
</blockquote>
<p><strong>åº”ç”¨åœºæ™¯ğŸ‘‡</strong></p>
<p><img src="/./image-20200926103551896.png" srcset="/img/loading.gif" alt="image-20200926103551896"></p>
<p><strong>å•ä¸ªç»„ä»¶çš„çŠ¶æ€ç®¡ç†:</strong></p>
<p><img src="/./image-20200926104012022.png" srcset="/img/loading.gif" alt="image-20200926104012022"></p>
<blockquote>
<p>Vueå·²ç»å¸®æˆ‘ä»¬åšå¥½äº†å•ä¸ªé¡µé¢çš„çŠ¶æ€ç®¡ç†ï¼Œå³ç»„ä»¶çš„æ•°æ®æ˜¯æ¯”è¾ƒç‹¬ç«‹çš„ï¼Œå¯ä»¥é€šè¿‡å„ç§Actionçš„å›è°ƒå‡½æ•°å»ä¿®æ”¹Stateï¼ˆæ•°æ®ï¼‰ï¼Œå¹¶é€šè¿‡å“åº”å¼å»æ›´æ–°Viewã€‚</p>
<p>ä½†å¦‚æœæ˜¯å¤šä¸ªç•Œé¢ï¼ˆç»„ä»¶ï¼‰çš„çŠ¶æ€ç®¡ç†å°±å¯èƒ½éœ€è¦Vuexã€‚</p>
</blockquote>
<p><strong>Vuexçš„åŸºæœ¬æ€æƒ³ï¼š</strong></p>
<p><img src="/./image-20200926104500158.png" srcset="/img/loading.gif" alt="image-20200926104500158"></p>
<p><img src="/./image-20200926104627320.png" srcset="/img/loading.gif" alt="image-20200926104627320"></p>
<h3 id="ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨Vuexï¼Ÿ"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨Vuexï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨Vuexï¼Ÿ"></a>ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨Vuexï¼Ÿ</h3><p>Vuex å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†å…±äº«çŠ¶æ€ï¼Œå¹¶é™„å¸¦äº†æ›´å¤šçš„æ¦‚å¿µå’Œæ¡†æ¶ã€‚è¿™éœ€è¦å¯¹çŸ­æœŸå’Œé•¿æœŸæ•ˆç›Šè¿›è¡Œæƒè¡¡ã€‚</p>
<p>å¦‚æœä¸æ‰“ç®—å¼€å‘å¤§å‹å•é¡µåº”ç”¨ï¼Œåº”ç”¨å¤Ÿç®€å•ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨ Vuexã€‚ä¸€ä¸ªç®€å•çš„ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/state-management.html#%E7%AE%80%E5%8D%95%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E8%B5%B7%E6%AD%A5%E4%BD%BF%E7%94%A8">store æ¨¡å¼</a>å°±è¶³å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦æ„å»ºä¸€ä¸ªä¸­å¤§å‹å•é¡µåº”ç”¨ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•æ›´å¥½åœ°åœ¨ç»„ä»¶å¤–éƒ¨ç®¡ç†çŠ¶æ€ï¼ŒVuex æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p>
<h3 id="åŸºæœ¬ä½¿ç”¨-2"><a href="#åŸºæœ¬ä½¿ç”¨-2" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install vuex --save<br></code></pre></td></tr></table></figure>
<p>åœ¨ Vue çš„å•é¡µé¢åº”ç”¨ä¸­ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨<code>Vue.use(Vuex)</code>è°ƒç”¨æ’ä»¶ã€‚</p>
<p>ä¹‹åæ–°å»ºä¸€ä¸ªVuex.Storeå®ä¾‹ï¼Œå°†å…¶æ³¨å…¥åˆ°Vueæ ¹å®ä¾‹ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> Vuex <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br>Vue.use(Vuex)<br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;,<br>  getter: &#123;<br>    doneTodos: <span class="hljs-function">(<span class="hljs-params">state, getters</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> state.todos.filter(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.done)<br>    &#125;<br>  &#125;,<br>  mutations: &#123;<br>    increment (state, payload) &#123;<br>      state.count++<br>    &#125;<br>  &#125;,<br>  actions: &#123;<br>    <span class="hljs-function"><span class="hljs-title">addCount</span>(<span class="hljs-params">context</span>)</span> &#123;<br>      <span class="hljs-comment">// å¯ä»¥åŒ…å«å¼‚æ­¥æ“ä½œ</span><br>      <span class="hljs-comment">// context æ˜¯ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡</span><br>    &#125;<br>  &#125;<br>&#125;)<br><span class="hljs-comment">// æ³¨å…¥åˆ°æ ¹å®ä¾‹</span><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  el: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>  <span class="hljs-comment">// æŠŠ store å¯¹è±¡æä¾›ç»™ â€œstoreâ€ é€‰é¡¹ï¼Œè¿™å¯ä»¥æŠŠ store çš„å®ä¾‹æ³¨å…¥æ‰€æœ‰çš„å­ç»„ä»¶</span><br>  store,<br>  template: <span class="hljs-string">&#x27;&lt;App/&gt;&#x27;</span>,<br>  components: &#123; App &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>ç„¶åé€šè¿‡mutationsæ”¹å˜çŠ¶æ€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;increment&#x27;</span>)<br></code></pre></td></tr></table></figure>


<blockquote>
<p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Vuexï¼Œå¸¸å¸¸åœ¨srcç›®å½•ä¸‹åˆ›å»ºstoreæ–‡ä»¶å¤¹ç»Ÿä¸€ç®¡ç†Vuexçš„å•ä¸€çŠ¶æ€æ ‘çš„å†…å®¹ã€‚</p>
</blockquote>
<hr>
<h3 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h3><p><code>Stateï¼ŒGetterï¼ŒMutationï¼ŒActionï¼ŒModuleï¼Œ</code></p>
<p><strong>Vuex æœ‰äº”éƒ¨åˆ†æ ¸å¿ƒå†…å®¹ï¼š</strong></p>
<ol>
<li>stateï¼šåŒ…å«äº†<code>store</code>ä¸­å­˜å‚¨çš„å„ä¸ªçŠ¶æ€ã€‚</li>
<li>getters: ç±»ä¼¼äº Vue ä¸­çš„è®¡ç®—å±æ€§ï¼Œæ ¹æ®å…¶ä»– getter æˆ– state è®¡ç®—è¿”å›å€¼ã€‚</li>
<li>mutations: ä¸€ç»„æ–¹æ³•ï¼Œæ˜¯æ”¹å˜<code>store</code>ä¸­çŠ¶æ€çš„æ‰§è¡Œè€…ï¼Œ<strong>åªèƒ½æ˜¯åŒæ­¥æ“ä½œ</strong>ã€‚</li>
<li>actions: ä¸€ç»„æ–¹æ³•ï¼Œå…¶ä¸­å¯ä»¥<strong>åŒ…å«å¼‚æ­¥æ“ä½œ</strong>,ä½†åªå…è®¸é€šè¿‡æäº¤mutationsä¿®æ”¹çŠ¶æ€ã€‚</li>
<li>modulesï¼šå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€getterã€mutationsã€actionsã€‚</li>
</ol>
<hr>
<h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><p>Vuex ä½¿ç”¨ <code>state</code> æ¥å­˜å‚¨åº”ç”¨ä¸­éœ€è¦å…±äº«çš„çŠ¶æ€ã€‚</p>
<p>åœ¨æ ¹ç»„ä»¶ï¼ˆVueå®ä¾‹ï¼‰ä»¥åŠå­ç»„ä»¶ä¸­ä½¿ç”¨<code>this.$store.state</code>è®¿é—®å…±äº«çŠ¶æ€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&#x2F;&#x2F; Cpn.vue<br>&#x2F;*<br>	const store &#x3D; new Vuex.Store(&#123;<br>  		state: &#123;<br>    		count: 0,<br>			obj: &#123;name: &#39;mz&#39;, age: 23&#125;<br>		&#125;<br>	&#125;)<br>	<br>*&#x2F;<br><br>&lt;template&gt;<br>	&lt;div&gt;<br>        &lt;h2&gt; &#123;&#123;count&#125;&#125; &lt;&#x2F;h2&gt; <br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>	export default &#123;<br>        name: &#39;Cpn&#39;,<br>        computed: &#123;<br>            count()&#123;<br>                return this.$store.state.count  &#x2F;&#x2F; è®¿é—®stateä¸­çš„count<br>            &#125;<br>        &#125;<br>    &#125;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨stateåˆå§‹åŒ–æ—¶å°±å·²ç»å®šä¹‰çš„æ•°æ®ä»¥åŠæ•°æ®çš„å±æ€§æ‰ä¼šè¢«æ·»åŠ åˆ°å“åº”å¼ç³»ç»Ÿã€‚</p>
<p>( åœ¨Vueä¸­æ‰€æœ‰éœ€è¦å“åº”å¼çš„æ•°æ®éƒ½æ˜¯è¿™æ · )</p>
<p>æ‰€ä»¥é€šè¿‡this.$store.state.obj[â€˜xxxâ€™]çš„æ–¹å¼ä¸ºæ•°æ®æ·»åŠ é¢å¤–çš„å±æ€§å€¼æ—¶ï¼Œè™½ç„¶æ•°æ®ç¡®å®å˜åŒ–äº†ï¼Œä½†ä¸ä¼šæ›´æ–°Viewã€‚</p>
<p>æ­¤æ—¶ï¼Œéœ€è¦é€šè¿‡Vue.setæ–¹æ³•æ¥ä¿®æ”¹çŠ¶æ€çš„å±æ€§ï¼Œå¯ä»¥ç¡®ä¿æ•°æ®æ˜¯å“åº”å¼çš„ã€‚</p>
<p>Vue.set(obj, propName, value)</p>
<p>åˆ é™¤çŠ¶æ€çš„å±æ€§éœ€è¦é€šè¿‡Vue.deleteæ–¹æ³•å®ç°å“åº”å¼ã€‚</p>
<p>Vue.delete(obj, propName)</p>
</blockquote>
<hr>
<h3 id="getters"><a href="#getters" class="headerlink" title="getters"></a>getters</h3><p>ç±»ä¼¼äº Vue ä¸­çš„ è®¡ç®—å±æ€§ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p>
<p>getter æ–¹æ³•æ¥å—<code>state</code>ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>state</code>å‚æ•°å³Storeå¯¹è±¡ä¸­çš„stateï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123;<br>    todos: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;...&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;...&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;<br>    ]<br>  &#125;,<br>  getters: &#123;<br>    doneTodos: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> state.todos.filter(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.done)<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<p>getter æ–¹æ³•æ¥å—<code>getters</code>ä½œä¸ºå…¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œ<code>getters</code>å‚æ•°å³Storeå¯¹è±¡ä¸­çš„gettersï¼Œè¯¥å‚æ•°å…è®¸æˆ‘ä»¬åœ¨æŸä¸ªgetterä¸­è®¿é—®å…¶ä»–getterï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123;<br>    todos: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;...&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;...&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;<br>    ]<br>  &#125;,<br>  getters: &#123;<br>    doneTodos: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> state.todos.filter(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.done);<br>    &#125;,<br>    doneTodosCount: <span class="hljs-function">(<span class="hljs-params">state, getters</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> getters.doneTodos.length;<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<p><strong>åœ¨ç»„ä»¶ä¸­è®¿é—®gettersï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">computed: &#123;<br>    <span class="hljs-function"><span class="hljs-title">cpnDoneTodos</span>(<span class="hljs-params"></span>)</span>&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$store.getters.doneTodos;<br>	&#125;,<br>	<span class="hljs-function"><span class="hljs-title">cpnDoneTodosCount</span>(<span class="hljs-params"></span>)</span>&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$store.getters.doneTodosCount;	<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>getteræ–¹æ³•è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°ç»™getterä¼ å‚ï¼š</strong></p>
<p>è¿™ç§åšæ³•åœ¨å¯¹ store é‡Œçš„æ•°ç»„è¿›è¡ŒæŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">getters: &#123;<br>  <span class="hljs-comment">// ...</span><br>  getTodoById: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> state.todos.find(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.id === id)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åœ¨ç»„ä»¶ä¸­ä¸ºgetterè¿”å›çš„å‡½æ•°ä¼ å‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$store.getters.getTodoById(<span class="hljs-number">2</span>) <span class="hljs-comment">// -&gt; &#123; id: 2, text: &#x27;...&#x27;, done: false &#125;</span><br></code></pre></td></tr></table></figure>
<hr>
<h3 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a>mutations</h3><h4 id="åŸºæœ¬ä½¿ç”¨-3"><a href="#åŸºæœ¬ä½¿ç”¨-3" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>åœ¨Vuexä¸­çº¦å®šå¿…é¡»é€šè¿‡mutationä¿®æ”¹çŠ¶æ€ï¼Œä¸å…è®¸é€šè¿‡<code>$store.state.xxx = xxx</code>çš„å½¢å¼ç›´æ¥ä¿®æ”¹ã€‚ï¼ˆè™½ç„¶è¿™æ ·æ²¡ä»€ä¹ˆå¯æ€•çš„åæœï¼Œåªæ˜¯é€šè¿‡mutationä¿®æ”¹èƒ½ä¿å­˜ä¿®æ”¹æ—¥å¿—ä¸çŠ¶æ€å¿«ç…§ï¼‰</p>
<blockquote>
<p><code>state</code>å’Œ<code>getter</code>éƒ½æ˜¯çŠ¶æ€å€¼æœ¬èº«ï¼Œ<code>mutations</code>æ‰æ˜¯æ”¹å˜çŠ¶æ€çš„æ‰§è¡Œè€…ã€‚</p>
<p><strong>æ³¨æ„ï¼š<code>mutations</code>åªèƒ½æ˜¯åŒæ­¥åœ°æ›´æ”¹çŠ¶æ€ã€‚</strong></p>
</blockquote>
<p>Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <strong>äº‹ä»¶ç±»å‹ (type)</strong> å’Œ ä¸€ä¸ª **å›è°ƒå‡½æ•° (handler)**ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123;<br>    count: <span class="hljs-number">1</span><br>  &#125;,<br>  mutations: &#123;<br>    increment (state) &#123;<br>      <span class="hljs-comment">// å˜æ›´çŠ¶æ€</span><br>      state.count++<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<p>åœ¨ç»„ä»¶ä¸­æäº¤mutationï¼Œå¹¶æ‰§è¡Œå›è°ƒå‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;increment&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><code>commit</code>æ–¹æ³•ä¸­ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯<code>äº‹ä»¶ç±»å‹å(String)</code>ï¼›</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ é€’çš„<code>è½½è·</code>ï¼Œå¯ä»¥ä½œä¸ºå®å‚ä¼ é€’ç»™mutationçš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>æ˜¯å¯é€‰çš„</code>ã€‚</p>
<blockquote>
<p>æäº¤mutationæ—¶ï¼Œä¸å¯ä»¥åƒå‘é€actionä¸€æ ·èƒ½å¤Ÿè·å–mutationå›è°ƒå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>å³åœ¨mutationçš„å›è°ƒå‡½æ•°ä¸­è¿”å›å€¼æ˜¯æ— æ„ä¹‰çš„ã€‚</p>
</blockquote>
<p><strong>è§„èŒƒåœ°æäº¤mutationå¹¶ä¼ å‚ï¼š</strong></p>
<p>åœ¨è§„èŒƒä¸­ï¼Œmutationçš„å›è°ƒå‡½æ•°æ”¯æŒä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°payloadï¼Œä½œä¸ºè½½è·ã€‚è½½è·ä¸­å¯ä»¥ä¿å­˜å‘mutationå›è°ƒå‡½æ•°ä¼ é€’çš„å®å‚ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br>mutations: &#123;<br>    <span class="hljs-function"><span class="hljs-title">increment</span>(<span class="hljs-params">state, payload</span>)</span> &#123;<br>        state.count += payload.n <span class="hljs-comment">//è¦æ±‚payloadæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­nä¸ºä¼ é€’çš„åŠ æ•°</span><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// æ¨èçš„å½¢å¼1ï¼šæäº¤mutationçš„äº‹ä»¶ç±»å‹ï¼Œä¼ é€’è½½è·ï¼Œè§¦å‘å›è°ƒå‡½æ•°</span><br><span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;increment&#x27;</span>, &#123;<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>&#125;); ğŸ‘‰ ä¼ é€’çš„å®å‚çš„å€¼ï¼š &#123;<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>&#125;<br><br><span class="hljs-comment">// æ¨èçš„å½¢å¼2ï¼šä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œä¼ é€’å‚æ•°åä¸å€¼   </span><br><span class="hljs-built_in">this</span>.$store.commit(&#123;<br>    type: <span class="hljs-string">&#x27;increment&#x27;</span>, ğŸ‘‰ ä¼ é€’çš„å®å‚çš„å€¼ï¼š &#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;increment&#x27;</span>, <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>&#125;<br>    n: <span class="hljs-number">1</span><br>&#125;);<br></code></pre></td></tr></table></figure>


<p><strong>å‘æäº¤ç®€å•å‚æ•°ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br>mutations: &#123;<br>    <span class="hljs-function"><span class="hljs-title">increment</span>(<span class="hljs-params">state, n</span>)</span> &#123;<br>        state.count += n <span class="hljs-comment">//è¦æ±‚payloadæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­nä¸ºä¼ é€’çš„åŠ æ•°</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ä¸èƒ½å†é€šè¿‡å¯¹è±¡é£æ ¼æ¥ä¼ é€’å‚æ•°</span><br><span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;increment&#x27;</span>, <span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure>


<blockquote>
<p>æ€»ç»“ï¼š åœ¨å‘mutationä¼ é€’å‚æ•°æ—¶ï¼Œéœ€è¦å›è°ƒå‡½æ•°ä¸æäº¤æ–¹å¼çš„é…åˆã€‚</p>
</blockquote>
<h4 id="ä½¿ç”¨å¸¸é‡æ›¿ä»£-Mutation-äº‹ä»¶ç±»å‹"><a href="#ä½¿ç”¨å¸¸é‡æ›¿ä»£-Mutation-äº‹ä»¶ç±»å‹" class="headerlink" title="ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹"></a>ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹</h4><p>ä½¿ç”¨å¸¸é‡æ›¿ä»£ mutation äº‹ä»¶ç±»å‹åœ¨å„ç§ Flux å®ç°ä¸­æ˜¯å¾ˆå¸¸è§çš„æ¨¡å¼ã€‚è¿™æ ·å¯ä»¥ä½¿ linter ä¹‹ç±»çš„å·¥å…·å‘æŒ¥ä½œç”¨ï¼ŒåŒæ—¶æŠŠè¿™äº›å¸¸é‡æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­å¯ä»¥è®©ä½ çš„ä»£ç åˆä½œè€…å¯¹æ•´ä¸ª app åŒ…å«çš„ mutation ä¸€ç›®äº†ç„¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// mutation-types.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SOME_MUTATION = <span class="hljs-string">&#x27;SOME_MUTATION&#x27;</span><br><span class="hljs-comment">// store.js</span><br><span class="hljs-keyword">import</span> Vuex <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-keyword">import</span> &#123; SOME_MUTATION &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./mutation-types&#x27;</span><br><br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123; ... &#125;,<br>  mutations: &#123;<br>    <span class="hljs-comment">// æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES2015 é£æ ¼çš„è®¡ç®—å±æ€§å‘½ååŠŸèƒ½æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ä½œä¸ºå‡½æ•°å</span><br>    [SOME_MUTATION] (state) &#123;<br>      <span class="hljs-comment">// mutate state</span><br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>ç”¨ä¸ç”¨å¸¸é‡å–å†³äºä½ â€”â€”åœ¨éœ€è¦å¤šäººåä½œçš„å¤§å‹é¡¹ç›®ä¸­ï¼Œè¿™ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä½†å¦‚æœä½ ä¸å–œæ¬¢ï¼Œä½ å®Œå…¨å¯ä»¥ä¸è¿™æ ·åšã€‚</p>
<h4 id="åœ¨ç»„ä»¶ä¸­æäº¤-Mutation"><a href="#åœ¨ç»„ä»¶ä¸­æäº¤-Mutation" class="headerlink" title="åœ¨ç»„ä»¶ä¸­æäº¤ Mutation"></a>åœ¨ç»„ä»¶ä¸­æäº¤ Mutation</h4><p>ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.commit(&#39;xxx&#39;)</code> æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ <code>mapMutations</code> è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º <code>store.commit</code> è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ <code>store</code>ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; mapMutations &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  methods: &#123;<br>    ...mapMutations([<br>      <span class="hljs-string">&#x27;increment&#x27;</span>, <span class="hljs-comment">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit(&#x27;increment&#x27;)`</span><br><br>      <span class="hljs-comment">// `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š</span><br>      <span class="hljs-string">&#x27;incrementBy&#x27;</span> <span class="hljs-comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit(&#x27;incrementBy&#x27;, amount)`</span><br>    ]),<br>    ...mapMutations(&#123;<br>      add: <span class="hljs-string">&#x27;increment&#x27;</span> <span class="hljs-comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit(&#x27;increment&#x27;)`</span><br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h3><p>æƒ³è¦<strong>å¼‚æ­¥åœ°æ›´æ”¹çŠ¶æ€</strong>ï¼Œå°±éœ€è¦ä½¿ç”¨<code>action</code>ã€‚<code>action</code>å¹¶ä¸ç›´æ¥æ”¹å˜<code>state</code>ï¼Œè€Œæ˜¯å‘èµ·<code>mutation</code>ã€‚</p>
<blockquote>
<p>actionæ—¢å¯ä»¥å¼‚æ­¥åœ°æäº¤mutationï¼Œä¹Ÿå¯ä»¥åŒæ­¥æäº¤ï¼Œä½†æ›´ä¸»è¦çš„æ˜¯åˆ©ç”¨å®ƒæ¥å¼‚æ­¥ä¿®æ”¹çŠ¶æ€</p>
</blockquote>
<p><strong>æ³¨å†Œä¸€ä¸ªç®€å•çš„ actionï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  state: &#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;,<br>  mutations: &#123;<br>    increment (state) &#123;<br>      state.count++<br>    &#125;<br>  &#125;,<br>  actions: &#123;<br>    <span class="hljs-function"><span class="hljs-title">asyncIncrement</span>(<span class="hljs-params">context</span>)</span> &#123;<br>      <span class="hljs-built_in">setTimeout</span>( <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> &#123;<br>          context.commit(<span class="hljs-string">&#x27;increment&#x27;</span>)<br>      &#125;, <span class="hljs-number">1000</span>);<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>


<h4 id="å‘èµ·ç®€å•çš„action"><a href="#å‘èµ·ç®€å•çš„action" class="headerlink" title="å‘èµ·ç®€å•çš„action"></a>å‘èµ·ç®€å•çš„action</h4><p>å‘èµ·<code>action</code>çš„æ–¹æ³•å½¢å¼å’Œå‘èµ·<code>mutation</code>ä¸€æ ·ï¼Œåªæ˜¯æ¢äº†ä¸ªåå­—<code>dispatch</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$store.dispatch(<span class="hljs-string">&#x27;asyncIncrement&#x27;</span>)<br></code></pre></td></tr></table></figure>


<p><strong>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼<code>è¿›è¡Œåˆ†å‘</code>å¹¶<code>ä¼ é€’å‚æ•°</code>ï¼š</strong></p>
<p>Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼Œå› æ­¤ä½ å¯ä»¥è°ƒç”¨ <code>context.commit</code> æäº¤ä¸€ä¸ª mutationï¼Œæˆ–è€…é€šè¿‡ <code>context.state</code> å’Œ <code>context.getters</code> æ¥è·å– state å’Œ gettersã€‚å½“æˆ‘ä»¬åœ¨ä¹‹åä»‹ç»åˆ° <code>Modules</code> æ—¶ï¼Œä½ å°±çŸ¥é“ context å¯¹è±¡ä¸ºä»€ä¹ˆä¸æ˜¯ store å®ä¾‹æœ¬èº«äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br>	mutations:&#123;<br>      <span class="hljs-function"><span class="hljs-title">increment</span>(<span class="hljs-params">state, payload</span>)</span>&#123;<br>          state.count += payload.n<br>      &#125;  <br>    &#125;,<br>	actions: &#123;<br>      <span class="hljs-function"><span class="hljs-title">asyncIncrement</span>(<span class="hljs-params">context, payload</span>)</span> &#123;<br>         <span class="hljs-built_in">setTimeout</span>( <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> &#123;<br>            context.commit(<span class="hljs-string">&#x27;increment&#x27;</span>, payload)  <span class="hljs-comment">// å®å‚çš„ç±»å‹è¦ä¸mutationä¸­çš„å½¢å‚ä¸€è‡´</span><br>         &#125;, <span class="hljs-number">1000</span>);<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// æ¨èä½¿ç”¨è½½è·çš„æ–¹å¼å‘actionä¼ å‚</span><br><span class="hljs-built_in">this</span>.$store.dispatch(<span class="hljs-string">&#x27;asyncIncrement&#x27;</span>, &#123;<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>&#125;)<br><br><span class="hljs-comment">// ä¸å»ºè®®ä½¿ç”¨ä¸‹é¢è¿™ç§å¯¹è±¡é£æ ¼çš„æ–¹å¼ï¼Œå› ä¸ºpayloadå½¢å‚çš„typeä¸å†æ˜¯mutationçš„typeï¼Œéœ€è¦è¿›è¡Œè°ƒæ•´</span><br><span class="hljs-built_in">this</span>.$store.dispatch(&#123;<br>    type: <span class="hljs-string">&#x27;asyncIncrement&#x27;</span>,<br>    n: <span class="hljs-number">1</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<blockquote>
<p>å¯è§ï¼Œå‘actionæˆ–mutationä¼ å‚ï¼Œä»¥è½½è·çš„æ–¹å¼æ›´ç›´è§‚ï¼ŒåŒæ—¶èƒ½é¿å…å·®é”™ã€‚</p>
</blockquote>
<p><strong>å¯¹contextè¿›è¡Œè§£æ„ï¼š</strong></p>
<p>å®è·µä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ° ES2015 çš„ <a target="_blank" rel="noopener" href="https://github.com/lukehoban/es6features#destructuring">å‚æ•°è§£æ„</a> æ¥ç®€åŒ–ä»£ç ï¼ˆç‰¹åˆ«æ˜¯æˆ‘ä»¬éœ€è¦è°ƒç”¨ <code>commit</code> å¾ˆå¤šæ¬¡çš„æ—¶å€™ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">actions: &#123;<br>  increment (&#123; commit &#125;) &#123;<br>    commit(<span class="hljs-string">&#x27;increment&#x27;</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>contextå…·æœ‰store å®ä¾‹çš„ç›¸åŒæ–¹æ³•å’Œå±æ€§ï¼ŒåŒ…æ‹¬commit, dispatch, getters, stateã€‚</p>
<p>æ­¤å¤–è¿˜å…·æœ‰rootGettersä»¥åŠrootStateï¼›</p>
<p>è¿™äº›å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥è¿›è¡Œè§£æ„è·å–ã€‚</p>
<p><img src="/./image-20200926153828952.png" srcset="/img/loading.gif" alt="image-20200926153828952"> </p>
</blockquote>
<h4 id="åˆ†å‘å¤šé‡-mutation"><a href="#åˆ†å‘å¤šé‡-mutation" class="headerlink" title="åˆ†å‘å¤šé‡ mutation"></a>åˆ†å‘å¤šé‡ mutation</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">actions: &#123;<br>  checkout (&#123; commit, state &#125;, products) &#123;<br>    <span class="hljs-comment">// æŠŠå½“å‰è´­ç‰©è½¦çš„ç‰©å“å¤‡ä»½èµ·æ¥</span><br>    <span class="hljs-keyword">const</span> savedCartItems = [...state.cart.added]<br>    <span class="hljs-comment">// å‘å‡ºç»“è´¦è¯·æ±‚ï¼Œç„¶åä¹è§‚åœ°æ¸…ç©ºè´­ç‰©è½¦</span><br>    commit(types.CHECKOUT_REQUEST)<br>    <span class="hljs-comment">// è´­ç‰© API æ¥å—ä¸€ä¸ªæˆåŠŸå›è°ƒå’Œä¸€ä¸ªå¤±è´¥å›è°ƒ</span><br>    shop.buyProducts(<br>      products,<br>      <span class="hljs-comment">// æˆåŠŸæ“ä½œ</span><br>      () =&gt; commit(types.CHECKOUT_SUCCESS),<br>      <span class="hljs-comment">// å¤±è´¥æ“ä½œ</span><br>      () =&gt; commit(types.CHECKOUT_FAILURE, savedCartItems)<br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h4 id="Actionå¤„ç†å¼‚æ­¥çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼"><a href="#Actionå¤„ç†å¼‚æ­¥çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼" class="headerlink" title="Actionå¤„ç†å¼‚æ­¥çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼"></a>Actionå¤„ç†å¼‚æ­¥çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼</h4><p>æƒ³è¦ä½¿ç”¨<code>action</code>å¤„ç†å¼‚æ­¥å·¥ä½œå¾ˆç®€å•ï¼Œåªéœ€è¦å°†å¼‚æ­¥æ“ä½œæ”¾åˆ°<code>action</code>ä¸­æ‰§è¡Œï¼ˆå¦‚ä¸Šé¢ä»£ç ä¸­çš„<code>setTimeout</code>ï¼‰ã€‚</p>
<p><strong>è¦æƒ³åœ¨å¼‚æ­¥æ“ä½œå®Œæˆåç»§ç»­è¿›è¡Œç›¸åº”çš„æµç¨‹æ“ä½œ</strong>ï¼Œæœ‰ä¸¤ç§æ–¹å¼:</p>
<ol>
<li><p>åœ¨actionä¸­è¿”å›ä¸€ä¸ªPromise</p>
<p><code>store.dispatch</code>è¿”å›ç›¸åº”<code>action</code>çš„æ‰§è¡Œç»“æœï¼Œè€Œå½“actionçš„å¤„ç†å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå®ä¾‹æ—¶ï¼Œå°±å¯ä»¥å†™æˆï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">actions: &#123;<br>    <span class="hljs-function"><span class="hljs-title">actionA</span>(<span class="hljs-params">&#123;commit&#125;, payload</span>)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">let</span> data = <span class="hljs-built_in">setTimeout</span>( <span class="hljs-function">()=&gt;</span> &#123;<br>             commit(<span class="hljs-string">&#x27;mutation1&#x27;</span>, payload);<br>                resolve();<br>         &#125;, <span class="hljs-number">1000</span>)<br>        &#125;)<br> &#125;<br>&#125;<br><span class="hljs-built_in">this</span>.$store.dispatch(<span class="hljs-string">&#x27;actionA&#x27;</span>, payload).then(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;)<br></code></pre></td></tr></table></figure>



</li>
</ol>
<p>   åœ¨å¦å¤–ä¸€ä¸ª action ä¸­ä¹Ÿå¯ä»¥ï¼š</p>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">actions: &#123;<br>  <span class="hljs-comment">// ...</span><br>  actionB (&#123; dispatch, commit &#125;) &#123;<br>    <span class="hljs-keyword">return</span> dispatch(<span class="hljs-string">&#x27;actionA&#x27;</span>).then(<span class="hljs-function">() =&gt;</span> &#123;<br>      commit(<span class="hljs-string">&#x27;someOtherMutation&#x27;</span>)<br>    &#125;) <span class="hljs-comment">// dispatch(&#x27;ActionB&#x27;) ä»ç„¶ä¼šè¿”å›ä¸€ä¸ªPromise</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<ol start="2">
<li><p>åˆ©ç”¨<code>async/await</code> è¿›è¡Œç»„åˆactionã€‚ä»£ç æ›´åŠ ç®€æ´ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise</span><br><br>actions: &#123;<br>  <span class="hljs-keyword">async</span> actionA (&#123; commit &#125;) &#123;<br>    commit(<span class="hljs-string">&#x27;gotData&#x27;</span>, <span class="hljs-keyword">await</span> getData())<br>  &#125;,<br>  <span class="hljs-keyword">async</span> actionB (&#123; dispatch, commit &#125;) &#123;<br>    <span class="hljs-keyword">await</span> dispatch(<span class="hljs-string">&#x27;actionA&#x27;</span>) <span class="hljs-comment">// ç­‰å¾… actionA å®Œæˆ</span><br>    commit(<span class="hljs-string">&#x27;gotOtherData&#x27;</span>, <span class="hljs-keyword">await</span> getOtherData())<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€ä¸ª <code>$store.dispatch</code> å¯ä»¥è§¦å‘å¤šä¸ª action å‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰å½“æ‰€æœ‰è§¦å‘å‡½æ•°å®Œæˆåï¼Œè¿”å›çš„ Promise æ‰ä¼šæ‰§è¡Œã€‚</p>
</blockquote>
</li>
</ol>
<h4 id="åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action"><a href="#åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action" class="headerlink" title="åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action"></a>åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action</h4><p>ä½ åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.dispatch(&#39;xxx&#39;)</code> åˆ†å‘ actionï¼Œæˆ–è€…ä½¿ç”¨ <code>mapActions</code> è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ methods æ˜ å°„ä¸º <code>store.dispatch</code> è°ƒç”¨ï¼ˆéœ€è¦å…ˆåœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ <code>store</code>ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; mapActions &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>  methods: &#123;<br>    ...mapActions([<br>      <span class="hljs-string">&#x27;increment&#x27;</span>, <span class="hljs-comment">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch(&#x27;increment&#x27;)`</span><br><br>      <span class="hljs-comment">// `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š</span><br>      <span class="hljs-string">&#x27;incrementBy&#x27;</span> <span class="hljs-comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch(&#x27;incrementBy&#x27;, amount)`</span><br>    ]),<br>    ...mapActions(&#123;<br>      add: <span class="hljs-string">&#x27;increment&#x27;</span> <span class="hljs-comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch(&#x27;increment&#x27;)`</span><br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>




<h3 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h3><p>ç”±äºä½¿ç”¨<strong>å•ä¸€çŠ¶æ€æ ‘</strong>ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚</p>
<p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ<strong>æ¨¡å—ï¼ˆmoduleï¼‰</strong>ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> moduleA = &#123;<br>  state: <span class="hljs-function">() =&gt;</span> (&#123; ... &#125;),<br>  mutations: &#123; ... &#125;,<br>  actions: &#123; ... &#125;,<br>  getters: &#123; ... &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> moduleB = &#123;<br>  state: <span class="hljs-function">() =&gt;</span> (&#123; ... &#125;),<br>  mutations: &#123; ... &#125;,<br>  actions: &#123; ... &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  modules: &#123;<br>    a: moduleA,<br>    b: moduleB<br>  &#125;<br>&#125;)<br><br>store.state.a <span class="hljs-comment">// -&gt; moduleA çš„çŠ¶æ€</span><br>store.state.b <span class="hljs-comment">// -&gt; moduleB çš„çŠ¶æ€</span><br></code></pre></td></tr></table></figure>
<h4 id="æ¨¡å—çš„å±€éƒ¨çŠ¶æ€"><a href="#æ¨¡å—çš„å±€éƒ¨çŠ¶æ€" class="headerlink" title="æ¨¡å—çš„å±€éƒ¨çŠ¶æ€"></a>æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</h4><p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ mutation å’Œ getterï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> moduleA = &#123;<br>  state: <span class="hljs-function">() =&gt;</span> (&#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;),<br>  mutations: &#123;<br>    increment (state) &#123;<br>      <span class="hljs-comment">// è¿™é‡Œçš„ `state` å¯¹è±¡æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</span><br>      state.count++<br>    &#125;<br>  &#125;,<br><br>  getters: &#123;<br>    doubleCount (state) &#123;<br>      <span class="hljs-keyword">return</span> state.count * <span class="hljs-number">2</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åŒæ ·ï¼Œå¯¹äºæ¨¡å—å†…éƒ¨çš„ actionï¼Œå±€éƒ¨çŠ¶æ€é€šè¿‡ <code>context.state</code> æš´éœ²å‡ºæ¥ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º <code>context.rootState</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> moduleA = &#123;<br>  <span class="hljs-comment">// ...</span><br>  actions: &#123;<br>    incrementIfOddOnRootSum (&#123; state, commit, rootState &#125;) &#123;<br>      <span class="hljs-keyword">if</span> ((state.count + rootState.count) % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>) &#123;<br>        commit(<span class="hljs-string">&#x27;increment&#x27;</span>)<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¯¹äºæ¨¡å—å†…éƒ¨çš„ getterï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°æš´éœ²å‡ºæ¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> moduleA = &#123;<br>  <span class="hljs-comment">// ...</span><br>  getters: &#123;<br>    sumWithRootCount (state, getters, rootState) &#123;<br>      <span class="hljs-keyword">return</span> state.count + rootState.count<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter æ˜¯æ³¨å†Œåœ¨<strong>å…¨å±€å‘½åç©ºé—´</strong>çš„â€”â€”è¿™æ ·ä½¿å¾—å¤šä¸ªæ¨¡å—èƒ½å¤Ÿå¯¹åŒä¸€ mutation æˆ– action ä½œå‡ºå“åº”ã€‚</p>
<p>å¦‚æœå¸Œæœ›ä½ çš„æ¨¡å—å…·æœ‰æ›´é«˜çš„å°è£…åº¦å’Œå¤ç”¨æ€§ï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ  <code>namespaced: true</code> çš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store(&#123;<br>  modules: &#123;<br>    account: &#123;<br>      namespaced: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// accountæ˜¯ä¸€ä¸ªç‹¬ç«‹æ¨¡å—</span><br><br>      <span class="hljs-comment">// æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰</span><br>      state: <span class="hljs-function">() =&gt;</span> (&#123; ... &#125;), <span class="hljs-comment">// æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“</span><br>      getters: &#123;<br>        isAdmin () &#123; ... &#125; <span class="hljs-comment">// -&gt; getters[&#x27;account/isAdmin&#x27;]</span><br>      &#125;,<br>      actions: &#123;<br>        login () &#123; ... &#125; <span class="hljs-comment">// -&gt; dispatch(&#x27;account/login&#x27;)</span><br>      &#125;,<br>      mutations: &#123;<br>        login () &#123; ... &#125; <span class="hljs-comment">// -&gt; commit(&#x27;account/login&#x27;)</span><br>      &#125;,<br><br>      <span class="hljs-comment">// åµŒå¥—æ¨¡å—</span><br>      modules: &#123;<br>        <span class="hljs-comment">// ç»§æ‰¿çˆ¶æ¨¡å—çš„å‘½åç©ºé—´ â­ è¿™æ˜¯æ˜¯ä¸€ä¸ªç‹¬ç«‹å‘½åæ¨¡å—ä¸‹çš„éç‹¬ç«‹å‘½åæ¨¡å—</span><br>        myPage: &#123;<br>          state: <span class="hljs-function">() =&gt;</span> (&#123; ... &#125;),<br>          getters: &#123;<br>            profile () &#123; ... &#125; <span class="hljs-comment">// -&gt; getters[&#x27;account/profile&#x27;]</span><br>          &#125;<br>        &#125;,<br><br>        <span class="hljs-comment">// è¿›ä¸€æ­¥åµŒå¥—å‘½åç©ºé—´</span><br>        posts: &#123;           <span class="hljs-comment">// â­ è¿™æ˜¯æ˜¯ä¸€ä¸ªç‹¬ç«‹å‘½åæ¨¡å—ä¸‹çš„ç‹¬ç«‹å‘½åæ¨¡å—</span><br>          namespaced: <span class="hljs-literal">true</span>,<br><br>          state: <span class="hljs-function">() =&gt;</span> (&#123; ... &#125;),<br>          getters: &#123;<br>            popular () &#123; ... &#125; <span class="hljs-comment">// -&gt; getters[&#x27;account/posts/popular&#x27;]</span><br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>å¯ç”¨äº†å‘½åç©ºé—´çš„ getter å’Œ action ä¼šæ”¶åˆ°å±€éƒ¨åŒ–çš„ <code>getter</code>ï¼Œ<code>dispatch</code> å’Œ <code>commit</code>ã€‚æ¢è¨€ä¹‹ï¼Œä½ åœ¨ä½¿ç”¨æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰æ—¶ä¸éœ€è¦åœ¨åŒä¸€æ¨¡å—å†…é¢å¤–æ·»åŠ ç©ºé—´åå‰ç¼€ã€‚æ›´æ”¹ <code>namespaced</code> å±æ€§åä¸éœ€è¦ä¿®æ”¹æ¨¡å—å†…çš„ä»£ç ã€‚</p>
<h4 id="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹"><a href="#åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹" class="headerlink" title="åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹"></a>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹</h4><p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨å…¨å±€ state å’Œ getterï¼Œ<code>rootState</code> å’Œ <code>rootGetters</code> ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥ getterï¼Œä¹Ÿä¼šé€šè¿‡ <code>context</code> å¯¹è±¡çš„å±æ€§ä¼ å…¥ actionã€‚</p>
<p>è‹¥éœ€è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ action æˆ–æäº¤ mutationï¼Œå°† <code>&#123; root: true &#125;</code> ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ <code>dispatch</code> æˆ– <code>commit</code> å³å¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js">modules: &#123;<br>  foo: &#123;<br>    namespaced: <span class="hljs-literal">true</span>,<br><br>    getters: &#123;<br>      <span class="hljs-comment">// åœ¨è¿™ä¸ªæ¨¡å—çš„ getter ä¸­ï¼Œ`getters` è¢«å±€éƒ¨åŒ–äº†</span><br>      <span class="hljs-comment">// ä½ å¯ä»¥ä½¿ç”¨ getter çš„ç¬¬å››ä¸ªå‚æ•°æ¥è°ƒç”¨ `rootGetters`</span><br>      someGetter (state, getters, rootState, rootGetters) &#123;<br>        getters.someOtherGetter <span class="hljs-comment">// -&gt; &#x27;foo/someOtherGetter&#x27;</span><br>        rootGetters.someOtherGetter <span class="hljs-comment">// -&gt; &#x27;someOtherGetter&#x27;</span><br>      &#125;,<br>      someOtherGetter: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> &#123; ... &#125;<br>    &#125;,<br><br>    actions: &#123;<br>      <span class="hljs-comment">// åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œ dispatch å’Œ commit ä¹Ÿè¢«å±€éƒ¨åŒ–äº†</span><br>      <span class="hljs-comment">// ä»–ä»¬å¯ä»¥æ¥å— `root` å±æ€§ä»¥è®¿é—®æ ¹ dispatch æˆ– commit</span><br>      someAction (&#123; dispatch, commit, getters, rootGetters &#125;) &#123;<br>        getters.someGetter <span class="hljs-comment">// -&gt; &#x27;foo/someGetter&#x27;</span><br>        rootGetters.someGetter <span class="hljs-comment">// -&gt; &#x27;someGetter&#x27;</span><br><br>        dispatch(<span class="hljs-string">&#x27;someOtherAction&#x27;</span>) <span class="hljs-comment">// -&gt; &#x27;foo/someOtherAction&#x27;</span><br>        dispatch(<span class="hljs-string">&#x27;someOtherAction&#x27;</span>, <span class="hljs-literal">null</span>, &#123; <span class="hljs-attr">root</span>: <span class="hljs-literal">true</span> &#125;) <span class="hljs-comment">// -&gt; &#x27;someOtherAction&#x27;</span><br><br>        commit(<span class="hljs-string">&#x27;someMutation&#x27;</span>) <span class="hljs-comment">// -&gt; &#x27;foo/someMutation&#x27;</span><br>        commit(<span class="hljs-string">&#x27;someMutation&#x27;</span>, <span class="hljs-literal">null</span>, &#123; <span class="hljs-attr">root</span>: <span class="hljs-literal">true</span> &#125;) <span class="hljs-comment">// -&gt; &#x27;someMutation&#x27;</span><br>      &#125;,<br>      someOtherAction (ctx, payload) &#123; ... &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Vue/">Vue</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/03/25/Vue/Vue%E7%BB%84%E4%BB%B6%E5%8C%96/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Vue2.xç»„ä»¶åŒ–åˆ†æ</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/02/19/python3/python3/">
                        <span class="hidden-mobile">python3ç¬”è®°</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>
